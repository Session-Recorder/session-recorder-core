{"version":3,"sources":["../node_modules/rrweb/es/rrweb/src/types.js","../node_modules/rrweb/es/rrweb/node_modules/tslib/tslib.es6.js","../node_modules/rrweb/es/rrweb/node_modules/rrweb-snapshot/es/rrweb-snapshot.js","../node_modules/rrweb/es/rrweb/src/utils.js","../node_modules/rrweb/es/rrweb/src/record/mutation.js","../node_modules/rrweb/es/rrweb/src/record/stringify.js","../node_modules/rrweb/es/rrweb/src/record/observer.js","../node_modules/rrweb/es/rrweb/src/record/index.js","../node_modules/rrweb/es/rrweb/node_modules/mitt/dist/mitt.es.js","../node_modules/rrweb/es/rrweb/src/replay/smoothscroll.js","../node_modules/rrweb/es/rrweb/src/replay/timer.js","../node_modules/rrweb/es/rrweb/node_modules/@xstate/fsm/es/index.js","../node_modules/rrweb/es/rrweb/src/replay/machine.js","../node_modules/rrweb/es/rrweb/src/replay/styles/inject-style.js","../node_modules/rrweb/es/rrweb/src/replay/index.js","../node_modules/rrweb/es/rrweb/src/index.js","../node_modules/rrweb/es/rrweb/node_modules/fflate/esm/browser.js","../node_modules/rrweb/es/rrweb/src/packer/base.js","../node_modules/rrweb/es/rrweb/src/packer/pack.js","../node_modules/rrweb/es/rrweb/src/packer/unpack.js","../node_modules/rrweb/es/rrweb/src/entries/all.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/utils.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/core/buildFullPath.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/adapters/xhr.js","../../../../../../../usr/lib/node_modules/parcel/node_modules/process/browser.js","../node_modules/axios/lib/defaults.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/mergeConfig.js","../node_modules/axios/lib/core/Axios.js","../node_modules/axios/lib/cancel/Cancel.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/axios/lib/helpers/isAxiosError.js","../node_modules/axios/lib/axios.js","../node_modules/axios/index.js","index.js"],"names":["EventType","IncrementalSource","MouseInteractions","MediaInteractions","ReplayerEvents","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__values","o","Symbol","iterator","m","next","value","done","TypeError","__read","r","e","ar","push","error","__spread","concat","NodeType","_id","tagNameRegex","RegExp","IGNORED_NODE","genId","getValidTagName","element","HTMLFormElement","processedTagName","tagName","toLowerCase","trim","test","getCssRulesString","rules","cssRules","Array","from","map","getCssRuleString","join","rule","isCSSImportRule","styleSheet","cssText","extractOrigin","url","origin","indexOf","split","slice","URL_IN_CSS_REF","RELATIVE_PATH","DATA_URI","absoluteToStylesheet","href","replace","quote1","path1","quote2","path2","path3","filePath","maybeQuote","stack","parts","pop","_i","parts_1","part","getAbsoluteSrcsetString","doc","attributeValue","srcItem","trimmedSrcItem","urlAndSize","trimLeft","trimRight","absoluteToDoc","a","createElement","isSVGElement","el","SVGElement","transformAttribute","name","location","_isBlockedElement","blockClass","blockSelector","classList","contains","forEach","className","matches","serializeNode","options","inlineStylesheet","_a","maskInputOptions","recordCanvas","nodeType","DOCUMENT_NODE","type","Document","childNodes","DOCUMENT_TYPE_NODE","DocumentType","publicId","systemId","ELEMENT_NODE","needBlock","attributes_1","_b","attributes","_c","stylesheet","styleSheets","find","rel","_cssText","sheet","innerText","textContent","repeat","checked","selectValue","parentElement","selected","rr_dataURL","toDataURL","rr_mediaState","paused","scrollLeft","rr_scrollLeft","scrollTop","rr_scrollTop","_d","getBoundingClientRect","width","height","class","rr_width","rr_height","Element","isSVG","undefined","TEXT_NODE","parentTagName","parentNode","isStyle","Text","CDATA_SECTION_NODE","CDATA","COMMENT_NODE","Comment","lowerIfExists","maybeAttr","slimDOMExcluded","sn","slimDOMOptions","comment","script","as","headFavicon","match","headMetaDescKeywords","headMetaSocial","property","headMetaRobots","headMetaHttpEquiv","headMetaAuthorship","headMetaVerification","serializeNodeWithId","id","skipChild","_e","preserveWhiteSpace","_serializedNode","console","warn","__sn","serializedNode","recordChild","headWhitespace","_f","childN","serializedChildNode","snapshot","maskAllInputs","_g","slimDOM","idNodeMap","color","date","email","month","number","range","search","tel","text","time","week","textarea","select","commentre","parse","css","lineno","column","updatePosition","str","lines","lastIndexOf","position","start","line","node","Position","whitespace","end","source","content","errorsList","msg","err","Error","reason","filename","silent","open","close","comments","charAt","atrule","re","exec","c","pos","selector","declaration","propMatch","prop","val","ret","declarations","decls","decl","keyframe","vals","values","atimport","rulesList","_compileAtrule","atcharset","atnamespace","atkeyframes","vendor","frame","frames","keyframes","atmedia","media","style","atcustommedia","atsupports","supports","atdocument","document","atpage","sel","selectors","athost","atfontface","addParent","parsingErrors","obj","parent","isNode","childParent","keys","k","isArray","v","defineProperty","configurable","writable","enumerable","tagMap","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","clippath","feblend","fecolormatrix","fecomponenttransfer","fecomposite","feconvolvematrix","fediffuselighting","fedisplacementmap","fedistantlight","fedropshadow","feflood","fefunca","fefuncb","fefuncg","fefuncr","fegaussianblur","feimage","femerge","femergenode","femorphology","feoffset","fepointlight","fespecularlighting","fespotlight","fetile","feturbulence","foreignobject","glyphref","lineargradient","radialgradient","getTagName","HOVER_SELECTOR","addHoverClass","ast","newSelector","buildNode","hackCss","implementation","createDocument","createDocumentType","node_1","createElementNS","_loop_1","startsWith","image_1","src","onload","ctx","getContext","drawImage","play","pause","isTextarea","isRemoteOrDynamicCss","child","createTextNode","removeChild","appendChild","setAttributeNS","substring","setAttribute","createCDATASection","createComment","buildNodeWithSN","childNode","visit","onVisit","key","walk","handleScroll","rebuild","visitedNode","on","fn","target","capture","passive","addEventListener","removeEventListener","mirror","getId","getNode","removeNodeFromMap","has","throttle","func","wait","timeout","previous","arg","now","Date","leading","remaining","context","args","window","clearTimeout","trailing","setTimeout","hookSetter","d","isRevoked","win","original","getOwnPropertyDescriptor","set","_this","patch","replacement","original_1","wrapped","defineProperties","__rrweb_original__","getWindowHeight","innerHeight","documentElement","clientHeight","body","getWindowWidth","innerWidth","clientWidth","isBlocked","needBlock_1","isIgnored","isAncestorRemoved","isTouchEvent","event","Boolean","changedTouches","polyfill","NodeList","DOMTokenList","needCastInSyncMode","DomContentLoaded","Load","Custom","FullSnapshot","Meta","data","MouseMove","MouseInteraction","TouchMove","MediaInteraction","ViewportResize","StyleSheetRule","Scroll","Input","TreeIndex","reset","add","mutation","parentTreeNode","indexes","get","parentId","treeNode","children","texts","tree","remove","deepRemoveFromMirror","removeIdSet","deepRemoveFromTreeIndex","_treeNode","_parentTreeNode","delete","removeNodeMutations","textMutations","attribute","attributeMutations","scroll","scrollMap","input","inputMap","flush","e_1","e_2","batchMutationData","Mutation","removes","adds","removed","filter","e_1_1","return","e_2_1","Map","mutationData","Set","queueToResolveTrees","queue","e_3","queueNodeMap","putIntoMap","nodeInTree","queueNodeTrees","queue_1","queue_1_1","nextId","nextInTree","idx","splice","parentInTree","e_3_1","iterateResolveTree","cb","MutationBuffer","isNodeInLinkedList","DoubleLinkedList","head","current","index","addNode","__ln","previousSibling","nextSibling","removeNode","moveKey","isINode","frozen","mapRemoves","movedMap","addedSet","movedSet","droppedSet","processMutations","mutations","processMutation","emit","addList","getNextId","ns","pushAdd","shift","isParentRemoved","isAncestorInSet","candidate","_node","payload","emissionCallback","oldValue","getAttribute","attributeName","item","addedNodes","genAdds","removedNodes","nodeId","deepDelete","targetId","init","freeze","unfreeze","isFrozen","addsSet","some","pathToSelector","outerHTML","path","localName","domSiblings","sibling","stringify","stringifyOptions","numOfKeysLimit","JSON","thisPos","Infinity","shouldToString","toString","stringLengthLimit","Event","eventResult","key_1","eventValue","Node","HTMLElement","nodeName","mutationBuffer","initMutationObserver","observer","MutationObserver","bind","observe","attributeOldValue","characterData","characterDataOldValue","childList","subtree","initMoveObserver","sampling","mousemove","threshold","timeBaseline","positions","wrappedCb","isTouch","totalOffset","timeOffset","evt","clientX","clientY","x","y","handlers","h","initMouseInteractionObserver","mouseInteraction","disableMap","Number","isNaN","endsWith","eventKey","eventName","handler","getHandler","initScrollObserver","scrollEl","scrollingElement","initViewportResizeObserver","last_h","last_w","updateDimension","INPUT_TAGS","lastInputValueMap","WeakMap","initInputObserver","ignoreClass","maskInputFn","eventHandler","isChecked","cbWithDedup","querySelectorAll","lastInputValue","events","propertyDescriptor","HTMLInputElement","hookProperties","HTMLSelectElement","HTMLTextAreaElement","initStyleSheetObserver","insertRule","CSSStyleSheet","ownerNode","deleteRule","initMediaInteractionObserver","mediaInteractionCb","Play","Pause","initCanvasMutationObserver","props","getOwnPropertyNames","CanvasRenderingContext2D","restoreHandler","canvas","recordArgs","HTMLCanvasElement","hookHandler","setter","props_1","props_1_1","initFontObserver","fontMap","originalFontFace","FontFace","family","descriptors","fontFace","buffer","fontSource","Uint8Array","fonts","FonFace","initLogObserver","logOptions","logger","logCount","cancelHandlers","level","includes","originalOnError_1","onerror","parseStack","trace","levelType","lengthThreshold","omitDepth","stacks","mergeHooks","hooks","mutationCb","mousemoveCb","mouseInteractionCb","scrollCb","viewportResizeCb","inputCb","styleSheetRuleCb","canvasMutationCb","fontCb","logCb","viewportResize","mediaInteaction","styleSheetRule","canvasMutation","font","log","initObservers","mutationObserver","mousemoveHandler","mouseInteractionHandler","scrollHandler","viewportResizeHandler","inputHandler","mediaInteractionHandler","styleSheetObserver","canvasMutationObserver","fontObserver","collectFonts","logObserver","disconnect","record","wrappedEmit","wrapEvent","timestamp","checkoutEveryNms","checkoutEveryNth","_maskInputOptions","_slimDOMOptions","packFn","mousemoveWait","_h","recordLog","lastFullSnapshotEvent","defaultLogOptions","incrementalSnapshotCount","takeFullSnapshot","isCheckout","wasFrozen","initialOffset","left","pageXOffset","top","pageYOffset","IncrementalSnapshot","exceedCount","exceedTime","handlers_1","init_1","CanvasMutation","Font","Log","readyState","addCustomEvent","tag","freezePage","mitt","all","create","off","w","__forceSmoothScrollPolyfill__","userAgent","SCROLL_TIME","scrollTo","scrollBy","elementScroll","scrollElement","scrollIntoView","performance","ROUNDING_TOLERANCE","navigator","shouldBailOut","smoothScroll","scrollX","scrollY","SyntaxError","behavior","scrollableParent","findScrollableParent","isScrollable","host","parentRects","clientRects","getComputedStyle","firstArg","hasScrollableSpace","axis","scrollHeight","scrollWidth","canOverflow","overflowValue","isScrollableY","isScrollableX","step","currentX","currentY","elapsed","startTime","Math","cos","PI","startX","startY","method","scrollable","requestAnimationFrame","Timer","actions","speed","raf","addAction","action","findActionIndex","addActions","sort","a1","a2","delay","lastTimestamp","self","check","doAction","liveMode","clear","cancelAnimationFrame","setSpeed","toggleLiveMode","mode","isActive","mid","floor","addDelay","baselineTime","firstOffset","firstTimestamp","NotStarted","Running","Stopped","assignment","u","changed","config","_options","initialState","initial","states","entry","transition","f","l","g","cond","exit","S","_machine","send","subscribe","unsubscribe","stop","state","status","discardPriorSnapshots","createPlayerService","getCastFn","emitter","playerMachine","playing","PAUSE","CAST_EVENT","END","ADD_EVENT","PLAY","TO_LIVE","live","castEvent","lastPlayedEvent","recordTimeOffset","timer","events_1","events_1_1","neededEvents","lastPlayedTimestamp","isSync","castFn","EventCast","neededEvents_1","neededEvents_1_1","Flush","resetLastPlayedEvent","startLive","addEvent","machineEvent","event_1","castFn_1","createSpeedService","speedMachine","normal","FAST_FORWARD","SET_SPEED","skipping","BACK_TO_NORMAL","recordSpeed","normalSpeed","restoreSpeed","SKIP_TIME_THRESHOLD","SKIP_TIME_INTERVAL","mitt$1","mitt_es","REPLAY_CONSOLE_PREFIX","defaultMouseTailConfig","duration","lineCap","lineWidth","strokeStyle","defaultLogConfig","replayLogger","Replayer","mouseTail","tailPositions","legacy_missingNodeRetryMap","imageMap","defaultConfig","root","loadTimeout","skipInactive","showWarning","showDebug","insertStyleRules","triggerFocus","UNSAFE_replayCanvas","pauseAnimation","logConfig","getConsoleLogger","handleResize","Resize","setupDom","treeIndex","fragmentParentMap","elementStateMap","entries","frag","restoreState","_j","applyScroll","_k","_l","applyInput","service","unpackFn","StateChange","player","speedService","firstMeta","firstFullsnapshot","width_1","height_1","rebuildFullSnapshot","iframe","contentWindow","setConfig","backToNormal","display","parseFloat","wrapper","insertBefore","getMetaData","firstEvent","lastEvent","endTime","totalTime","getCurrentTime","getTimeOffset","contentDocument","getElementsByTagName","Start","resume","Resume","rawEvent","Promise","resolve","then","enableInteract","pointerEvents","disableInteract","mouse","dimension","e_4","String","e_4_1","CustomEvent","e_5","applyIncremental","nextUserInteractionEvent","_event","isUserInteraction","e_5_1","skipTime","min","round","SkipStart","wrappedCastFn","finish_1","Finish","max","styleEl","injectStylesRules","FullsnapshotRebuilded","waitForStylesheetLoad","preloadAllImages","unloadSheets_1","timer_1","beforeLoadState_1","stateHandler_1","unsubscribe_1","size","LoadStylesheetEnd","LoadStylesheetStart","e_6","beforeLoadState","stateHandler","count","resolved","image","e_6_1","applyMutation","lastPosition","moveAndHover","debugNodeNotFound","Blur","blur","Focus","focus","preventScroll","Click","TouchStart","TouchEnd","offsetWidth","dispatchEvent","mediaEl_1","HTMLMediaElement","HAVE_CURRENT_DATA","message","usingVirtualParent","placeholderNode","domParent","replaceChild","styleSheet_1","_index","warnCanvasMutationFailed","logData_1","useVirtualParent","e_7","warnNodeNotFound","realParent","realTarget","legacy_missingNodeMap","appendNode","parentInDocument","virtualParent","createDocumentFragment","storeState","firstChild","nextNotInDOM","previousId","legacy_resolveMissingNode","resolveTrees","resolveTrees_1","resolveTrees_1_1","debug","e_7_1","removeAttribute","formatMessage","stackPrefix","result","e_8","e_8_1","targetMutation","previousInMap","nextInMap","drawMouseTail","hoverElements","draw","clearRect","beginPath","moveTo","lineTo","stroke","hoveredEl","currentEl","SkipEnd","e_9","e_9_1","e_10","storedState","e_10_1","u8","u16","Uint16Array","u32","Uint32Array","fleb","fdeb","clim","freb","eb","b","j","fl","revfl","fd","revfd","rev","hMap","cd","mb","le","co","rvb","sv","r_1","flt","fdt","flm","flrm","fdm","fdrm","bits","bits16","shft","slc","subarray","inflt","dat","buf","st","sl","noBuf","noSt","cbuf","bl","nbuf","final","bt","lm","dm","lbt","dbt","tbts","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","lt","dt","lms","dms","mxa","sym","dsym","wbits","wbits16","hTree","t2","i0","i1","i2","maxSym","tr","mbt","ln","lft","cst","i2_1","i2_2","i2_3","lc","cl","cli","cln","cls","clen","cf","wfblk","out","wblk","syms","lf","df","li","bs","dlt","mlb","ddt","mdb","lclt","nlc","lcdt","ndc","lcfreq","nlcc","lct","mlcb","flen","ll","dl","ftlen","dtlen","llm","lcts","it","clct","len","dst","deo","et","dflt","lvl","plvl","pre","post","lst","opt","msk_1","prev","bs1_1","ceil","bs2_1","hsh","lc_1","wi","hv","imod","pimod","rem","ch_1","dif","maxn","maxd","ml","nl","mmd","md","ti","lin","din","crct","adler","dopt","mem","wbytes","zlh","lv","zlv","zlibSync","opts","unzlibSync","strToU8","latin1","TextEncoder","encode","ai","charCodeAt","strFromU8","TextDecoder","decode","fromCharCode","MARK","pack","unpack","raw","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","run","Item","array","noop","nextTick","title","env","argv","version","versions","addListener","once","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","eventsBuffer","sessionRecorderConfig","websiteId","apiUrl","idenfityClient","reject","clientId","sessionStorage","getItem","setItem","catch","identifySession","ip","sessionId","params","save","setInterval"],"mappings":";AA2CA,aA3CA,IAAIA,EASAC,EAeAC,EAaAC,EAKAC,EACJ,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,QAAA,kBAAA,QAAA,kBAAA,QAAA,kBAAA,QAAA,eAAA,EAAA,QAAA,UAAA,EA1CA,SAAWJ,GACPA,EAAUA,EAAS,iBAAuB,GAAK,mBAC/CA,EAAUA,EAAS,KAAW,GAAK,OACnCA,EAAUA,EAAS,aAAmB,GAAK,eAC3CA,EAAUA,EAAS,oBAA0B,GAAK,sBAClDA,EAAUA,EAAS,KAAW,GAAK,OACnCA,EAAUA,EAAS,OAAa,GAAK,SANzC,CAOGA,IAAcA,QAAAA,UAAAA,EAAY,KAmC7B,QAAA,kBAAA,EAjCA,SAAWC,GACPA,EAAkBA,EAAiB,SAAe,GAAK,WACvDA,EAAkBA,EAAiB,UAAgB,GAAK,YACxDA,EAAkBA,EAAiB,iBAAuB,GAAK,mBAC/DA,EAAkBA,EAAiB,OAAa,GAAK,SACrDA,EAAkBA,EAAiB,eAAqB,GAAK,iBAC7DA,EAAkBA,EAAiB,MAAY,GAAK,QACpDA,EAAkBA,EAAiB,UAAgB,GAAK,YACxDA,EAAkBA,EAAiB,iBAAuB,GAAK,mBAC/DA,EAAkBA,EAAiB,eAAqB,GAAK,iBAC7DA,EAAkBA,EAAiB,eAAqB,GAAK,iBAC7DA,EAAkBA,EAAiB,KAAW,IAAM,OACpDA,EAAkBA,EAAiB,IAAU,IAAM,MAZvD,CAaGA,IAAsBA,QAAAA,kBAAAA,EAAoB,KAoB7C,QAAA,kBAAA,EAlBA,SAAWC,GACPA,EAAkBA,EAAiB,QAAc,GAAK,UACtDA,EAAkBA,EAAiB,UAAgB,GAAK,YACxDA,EAAkBA,EAAiB,MAAY,GAAK,QACpDA,EAAkBA,EAAiB,YAAkB,GAAK,cAC1DA,EAAkBA,EAAiB,SAAe,GAAK,WACvDA,EAAkBA,EAAiB,MAAY,GAAK,QACpDA,EAAkBA,EAAiB,KAAW,GAAK,OACnDA,EAAkBA,EAAiB,WAAiB,GAAK,aACzDA,EAAkBA,EAAiB,mBAAyB,GAAK,qBACjEA,EAAkBA,EAAiB,SAAe,GAAK,WAV3D,CAWGA,IAAsBA,QAAAA,kBAAAA,EAAoB,KAO7C,QAAA,kBAAA,EALA,SAAWC,GACPA,EAAkBA,EAAiB,KAAW,GAAK,OACnDA,EAAkBA,EAAiB,MAAY,GAAK,QAFxD,CAGGA,IAAsBA,QAAAA,kBAAAA,EAAoB,KAE7C,QAAA,eAAA,EAAA,SAAWC,GACPA,EAAc,MAAY,QAC1BA,EAAc,MAAY,QAC1BA,EAAc,OAAa,SAC3BA,EAAc,OAAa,SAC3BA,EAAc,OAAa,SAC3BA,EAAc,sBAA4B,yBAC1CA,EAAc,oBAA0B,wBACxCA,EAAc,kBAAwB,sBACtCA,EAAc,UAAgB,aAC9BA,EAAc,QAAc,WAC5BA,EAAc,iBAAuB,oBACrCA,EAAc,UAAgB,aAC9BA,EAAc,YAAkB,eAChCA,EAAc,MAAY,QAC1BA,EAAc,YAAkB,eAfpC,CAgBGA,IAAmBA,QAAAA,eAAAA,EAAiB;;ACAtC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAAA,QAAA,SAAA,EAAA,QAAA,SAAA,EAAA,QAAA,cAAA,EA5CD,IAAIC,EAAW,WAQJA,OAPPA,QAAAA,SAAAA,EAAWC,OAAOC,QAAU,SAAkBC,GACrC,IAAA,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAEvC,IAAA,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,IAEvEN,OAAAA,GAEJH,EAASa,MAAM,KAAMN,YAGhC,SAASO,EAASC,GACVX,IAAAA,EAAsB,mBAAXY,QAAyBA,OAAOC,SAAUC,EAAId,GAAKW,EAAEX,GAAIC,EAAI,EACxEa,GAAAA,EAAG,OAAOA,EAAEN,KAAKG,GACjBA,GAAAA,GAAyB,iBAAbA,EAAEP,OAAqB,MAAO,CAC1CW,KAAM,WAEK,OADHJ,GAAKV,GAAKU,EAAEP,SAAQO,OAAI,GACrB,CAAEK,MAAOL,GAAKA,EAAEV,KAAMgB,MAAON,KAGtC,MAAA,IAAIO,UAAUlB,EAAI,0BAA4B,mCAGxD,SAASmB,EAAOR,EAAGT,GACXY,IAAAA,EAAsB,mBAAXF,QAAyBD,EAAEC,OAAOC,UAC7C,IAACC,EAAG,OAAOH,EACXV,IAAemB,EAAYC,EAA3BpB,EAAIa,EAAEN,KAAKG,GAAOW,EAAK,GACvB,IACO,WAAO,IAANpB,GAAgBA,KAAM,MAAQkB,EAAInB,EAAEc,QAAQE,MAAMK,EAAGC,KAAKH,EAAEJ,OAExE,MAAOQ,GAASH,EAAI,CAAEG,MAAOA,GACrB,QACA,IACIJ,IAAMA,EAAEH,OAASH,EAAIb,EAAC,SAAaa,EAAEN,KAAKP,GAE1C,QAAMoB,GAAAA,EAAG,MAAMA,EAAEG,OAEtBF,OAAAA,EAGX,SAASG,IACA,IAAA,IAAIH,EAAK,GAAIrB,EAAI,EAAGA,EAAIE,UAAUC,OAAQH,IAC3CqB,EAAKA,EAAGI,OAAOP,EAAOhB,UAAUF,KAC7BqB,OAAAA,EACV,QAAA,SAAA;;ACqlCA,aAhpCD,IAAIK,EAgpCH,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,QAAA,EAAA,QAAA,oBAAA,EAAA,QAAA,SAAA,EAAA,QAAA,mBAAA,EAAA,QAAA,SAAA,QAAA,kBAAA,EAAA,QAAA,SAAA,EA/oCD,SAAWA,GACPA,EAASA,EAAQ,SAAe,GAAK,WACrCA,EAASA,EAAQ,aAAmB,GAAK,eACzCA,EAASA,EAAQ,QAAc,GAAK,UACpCA,EAASA,EAAQ,KAAW,GAAK,OACjCA,EAASA,EAAQ,MAAY,GAAK,QAClCA,EAASA,EAAQ,QAAc,GAAK,UANxC,CAOGA,IAAaA,QAAAA,SAAAA,EAAW,KAE3B,IAAIC,EAAM,EACNC,EAAeC,OAAO,eACtBC,GAAgB,EACpB,SAASC,IACEJ,OAAAA,IAEX,SAASK,EAAgBC,GACjBA,GAAAA,aAAmBC,gBACZ,MAAA,OAEPC,IAAAA,EAAmBF,EAAQG,QAAQC,cAAcC,OACjDV,OAAAA,EAAaW,KAAKJ,GACX,MAEJA,EAEX,SAASK,EAAkBzC,GACnB,IACI0C,IAAAA,EAAQ1C,EAAE0C,OAAS1C,EAAE2C,SAClBD,OAAAA,EAAQE,MAAMC,KAAKH,GAAOI,IAAIC,GAAkBC,KAAK,IAAM,KAEtE,MAAOxB,GACI,OAAA,MAGf,SAASuB,EAAiBE,GACfC,OAAAA,EAAgBD,GACjBR,EAAkBQ,EAAKE,aAAe,GACtCF,EAAKG,QAEf,SAASF,EAAgBD,GACd,MAAA,eAAgBA,EAE3B,SAASI,EAAcC,GASZC,OAPHD,EAAIE,QAAQ,OAAS,EACZF,EAAIG,MAAM,KAAKC,MAAM,EAAG,GAAGV,KAAK,KAGhCM,EAAIG,MAAM,KAAK,IAEZA,MAAM,KAAK,GA6lC9B,QAAA,aAAA,EA1lCD,IAAIE,EAAiB,+CACjBC,EAAgB,sDAChBC,EAAW,wBACf,SAASC,EAAqBV,EAASW,GAC5B,OAACX,GAAW,IAAIY,QAAQL,EAAgB,SAAUJ,EAAQU,EAAQC,EAAOC,EAAQC,EAAOC,GACvFC,IAAAA,EAAWJ,GAASE,GAASC,EAC7BE,EAAaN,GAAUE,GAAU,GACjC,IAACG,EACMf,OAAAA,EAEP,IAACK,EAAcpB,KAAK8B,GACb,MAAA,OAASC,EAAaD,EAAWC,EAAa,IAErDV,GAAAA,EAASrB,KAAK8B,GACP,MAAA,OAASC,EAAaD,EAAWC,EAAa,IAErDD,GAAgB,MAAhBA,EAAS,GACF,MAAA,OAASC,GAAclB,EAAcU,GAAQO,GAAYC,EAAa,IAE7EC,IAAAA,EAAQT,EAAKN,MAAM,KACnBgB,EAAQH,EAASb,MAAM,KAC3Be,EAAME,MACD,IAAA,IAAIC,EAAK,EAAGC,EAAUH,EAAOE,EAAKC,EAAQxE,OAAQuE,IAAM,CACrDE,IAAAA,EAAOD,EAAQD,GACN,MAATE,IAGc,OAATA,EACLL,EAAME,MAGNF,EAAMjD,KAAKsD,IAGZ,MAAA,OAASN,EAAaC,EAAMxB,KAAK,KAAOuB,EAAa,MAGpE,SAASO,EAAwBC,EAAKC,GAC9BA,MAA0B,KAA1BA,EAAezC,OACRyC,EAEQA,EAAevB,MAAM,KAEnCX,IAAI,SAAUmC,GACXC,IACAC,EADiBF,EAAQG,WAAWC,YACR5B,MAAM,KAClC0B,OAAsB,IAAtBA,EAAW/E,OACEkF,EAAcP,EAAKI,EAAW,IAC3B,IAAMA,EAAW,GAEN,IAAtBA,EAAW/E,OAET,GADMkF,EAAcP,EAAKI,EAAW,IAGxC,KAENnC,KAAK,MAGd,SAASsC,EAAcP,EAAKC,GACpB,IAACA,GAA4C,KAA1BA,EAAezC,OAC3ByC,OAAAA,EAEPO,IAAAA,EAAIR,EAAIS,cAAc,KAEnBD,OADPA,EAAExB,KAAOiB,EACFO,EAAExB,KAEb,SAAS0B,EAAaC,GACXA,MAAe,QAAfA,EAAGrD,SAAqBqD,aAAcC,WAEjD,SAASC,EAAmBb,EAAKc,EAAM7E,GAC/B6E,MAAS,QAATA,IAA6B,SAATA,GAA4B,eAATA,IAA0B7E,EAC1DsE,EAAcP,EAAK/D,GAEZ,WAAT6E,GAAqB7E,EACnB8D,EAAwBC,EAAK/D,GAEtB,UAAT6E,GAAoB7E,EAClB8C,EAAqB9C,EAAO8E,SAAS/B,MAGrC/C,EAGf,SAAS+E,EAAkB7D,EAAS8D,EAAYC,GACxC,GAAsB,iBAAfD,GACH9D,GAAAA,EAAQgE,UAAUC,SAASH,GACpB,OAAA,OAIX9D,EAAQgE,UAAUE,QAAQ,SAAUC,GAC5BL,GAAAA,EAAWxD,KAAK6D,GACT,OAAA,IAIfJ,QAAAA,GACO/D,EAAQoE,QAAQL,GAI/B,SAASM,EAAcrG,EAAGsG,GAClBzB,IAAAA,EAAMyB,EAAQzB,IAAKiB,EAAaQ,EAAQR,WAAYC,EAAgBO,EAAQP,cAAeQ,EAAmBD,EAAQC,iBAAkBC,EAAKF,EAAQG,iBAAkBA,OAA0B,IAAPD,EAAgB,GAAKA,EAAIE,EAAeJ,EAAQI,aACtO1G,OAAAA,EAAE2G,UACD3G,KAAAA,EAAE4G,cACI,MAAA,CACHC,KAAMpF,EAASqF,SACfC,WAAY,IAEf/G,KAAAA,EAAEgH,mBACI,MAAA,CACHH,KAAMpF,EAASwF,aACftB,KAAM3F,EAAE2F,KACRuB,SAAUlH,EAAEkH,SACZC,SAAUnH,EAAEmH,UAEfnH,KAAAA,EAAEoH,aAIE,IAHDC,IAAAA,EAAYxB,EAAkB7F,EAAG8F,EAAYC,GAC7C5D,EAAUJ,EAAgB/B,GAC1BsH,EAAe,GACV7C,EAAK,EAAG8C,EAAK7E,MAAMC,KAAK3C,EAAEwH,YAAa/C,EAAK8C,EAAGrH,OAAQuE,IAAM,CAC9DgD,IAAAA,EAAKF,EAAG9C,GAAKkB,EAAO8B,EAAG9B,KAAM7E,EAAQ2G,EAAG3G,MAC5CwG,EAAa3B,GAAQD,EAAmBb,EAAKc,EAAM7E,GAEnDqB,GAAY,SAAZA,GAAsBoE,EAAkB,CACpCmB,IAGAxE,EAHAwE,EAAahF,MAAMC,KAAKkC,EAAI8C,aAAaC,KAAK,SAAU9H,GACjDA,OAAAA,EAAE+D,OAAS7D,EAAE6D,QAEpBX,EAAUX,EAAkBmF,aAErBJ,EAAaO,WACbP,EAAazD,KACpByD,EAAaQ,SAAWlE,EAAqBV,EAASwE,EAAW7D,OAGrE1B,GAAY,UAAZA,GACAnC,EAAE+H,SACA/H,EAAEgI,WACAhI,EAAEiI,aACF,IAAI5F,OAAOnC,QACXgD,EAAUX,EAAkBvC,EAAE+H,UAE9BT,EAAaQ,SAAWlE,EAAqBV,EAAS0C,SAAS/B,OAGnE1B,GAAY,UAAZA,GACY,aAAZA,GACY,WAAZA,EAAsB,CAClBrB,EAAQd,EAAEc,MACY,UAAtBwG,EAAaT,MACS,aAAtBS,EAAaT,MACS,WAAtBS,EAAaT,MACS,WAAtBS,EAAaT,MACb/F,EACAwG,EAAaxG,MACT2F,EAAiBa,EAAaT,OAC1BJ,EAAiBtE,GACf,IAAI+F,OAAOpH,EAAMZ,QACjBY,EAELd,EAAEmI,UACPb,EAAaa,QAAUnI,EAAEmI,SAG7BhG,GAAY,WAAZA,EAAsB,CAClBiG,IAAAA,EAAcpI,EAAEqI,cAChBf,EAAaxG,QAAUsH,EAAYtH,QACnCwG,EAAagB,SAAWtI,EAAEsI,UAiB9BjB,GAdY,WAAZlF,GAAwBuE,IACxBY,EAAaiB,WAAavI,EAAEwI,aAEhB,UAAZrG,GAAmC,UAAZA,IACvBmF,EAAamB,cAAgBzI,EAAE0I,OACzB,SACA,UAEN1I,EAAE2I,aACFrB,EAAasB,cAAgB5I,EAAE2I,YAE/B3I,EAAE6I,YACFvB,EAAawB,aAAe9I,EAAE6I,WAE9BxB,EAAW,CACP0B,IAAAA,EAAK/I,EAAEgJ,wBAAyBC,EAAQF,EAAGE,MAAOC,EAASH,EAAGG,OAClE5B,EAAe,CACX6B,MAAO7B,EAAa6B,MACpBC,SAAUH,EAAQ,KAClBI,UAAWH,EAAS,MAGrB,MAAA,CACHrC,KAAMpF,EAAS6H,QACfnH,QAASA,EACTqF,WAAYF,EACZP,WAAY,GACZwC,MAAOhE,EAAavF,SAAMwJ,EAC1BnC,UAAWA,GAEdrH,KAAAA,EAAEyJ,UACCC,IAAAA,EAAgB1J,EAAE2J,YAAc3J,EAAE2J,WAAWxH,QAC7C8F,EAAcjI,EAAEiI,YAChB2B,EAA4B,UAAlBF,QAAmCF,EAO1C,OANHI,GAAW3B,IACXA,EAAcrE,EAAqBqE,EAAarC,SAAS/B,OAEvC,WAAlB6F,IACAzB,EAAc,sBAEX,CACHpB,KAAMpF,EAASoI,KACf5B,YAAaA,GAAe,GAC5B2B,QAASA,GAEZ5J,KAAAA,EAAE8J,mBACI,MAAA,CACHjD,KAAMpF,EAASsI,MACf9B,YAAa,IAEhBjI,KAAAA,EAAEgK,aACI,MAAA,CACHnD,KAAMpF,EAASwI,QACfhC,YAAajI,EAAEiI,aAAe,IAEtC,QACW,OAAA,GAGnB,SAASiC,EAAcC,GACfA,YAAcX,IAAdW,EACO,GAGAA,EAAU/H,cAGzB,SAASgI,EAAgBC,EAAIC,GACrBA,GAAAA,EAAeC,SAAWF,EAAGxD,OAASpF,EAASwI,QACxC,OAAA,EAEN,GAAII,EAAGxD,OAASpF,EAAS6H,QAAS,CAC/BgB,GAAAA,EAAeE,SACC,WAAfH,EAAGlI,SACgB,SAAfkI,EAAGlI,SACsB,YAAtBkI,EAAG7C,WAAWK,KACO,WAArBwC,EAAG7C,WAAWiD,IACf,OAAA,EAEN,GAAIH,EAAeI,cACH,SAAfL,EAAGlI,SAA4C,kBAAtBkI,EAAG7C,WAAWK,KACrB,SAAfwC,EAAGlI,UACC+H,EAAcG,EAAG7C,WAAW7B,MAAMgF,MAAM,sCACC,qBAAtCT,EAAcG,EAAG7C,WAAW7B,OACS,SAArCuE,EAAcG,EAAG7C,WAAWK,MACS,qBAArCqC,EAAcG,EAAG7C,WAAWK,MACS,kBAArCqC,EAAcG,EAAG7C,WAAWK,OACjC,OAAA,EAEN,GAAmB,SAAfwC,EAAGlI,QAAoB,CACxBmI,GAAAA,EAAeM,sBACfV,EAAcG,EAAG7C,WAAW7B,MAAMgF,MAAM,0BACjC,OAAA,EAEN,GAAIL,EAAeO,iBACnBX,EAAcG,EAAG7C,WAAWsD,UAAUH,MAAM,sBACzCT,EAAcG,EAAG7C,WAAW7B,MAAMgF,MAAM,mBACF,cAAtCT,EAAcG,EAAG7C,WAAW7B,OACzB,OAAA,EAEN,GAAI2E,EAAeS,iBACmB,WAAtCb,EAAcG,EAAG7C,WAAW7B,OACa,cAAtCuE,EAAcG,EAAG7C,WAAW7B,OACU,YAAtCuE,EAAcG,EAAG7C,WAAW7B,OACzB,OAAA,EAEN,GAAI2E,EAAeU,wBACYxB,IAAhCa,EAAG7C,WAAW,cACP,OAAA,EAEN,GAAI8C,EAAeW,qBACmB,WAAtCf,EAAcG,EAAG7C,WAAW7B,OACa,cAAtCuE,EAAcG,EAAG7C,WAAW7B,OACU,cAAtCuE,EAAcG,EAAG7C,WAAW7B,OACU,cAAtCuE,EAAcG,EAAG7C,WAAW7B,OACU,WAAtCuE,EAAcG,EAAG7C,WAAW7B,OAC5BuE,EAAcG,EAAG7C,WAAWsD,UAAUH,MAAM,cAC5CT,EAAcG,EAAG7C,WAAWsD,UAAUH,MAAM,cACzC,OAAA,EAEN,GAAIL,EAAeY,uBACmB,6BAAtChB,EAAcG,EAAG7C,WAAW7B,OACa,wBAAtCuE,EAAcG,EAAG7C,WAAW7B,OACU,eAAtCuE,EAAcG,EAAG7C,WAAW7B,OACU,oBAAtCuE,EAAcG,EAAG7C,WAAW7B,OACU,cAAtCuE,EAAcG,EAAG7C,WAAW7B,OACU,iBAAtCuE,EAAcG,EAAG7C,WAAW7B,OACU,+BAAtCuE,EAAcG,EAAG7C,WAAW7B,OACzB,OAAA,GAIZ,OAAA,EAEX,SAASwF,EAAoBnL,EAAGsG,GACxBzB,IAcAuG,EAdAvG,EAAMyB,EAAQzB,IAAKjC,EAAM0D,EAAQ1D,IAAKkD,EAAaQ,EAAQR,WAAYC,EAAgBO,EAAQP,cAAeS,EAAKF,EAAQ+E,UAAWA,OAAmB,IAAP7E,GAAwBA,EAAIe,EAAKjB,EAAQC,iBAAkBA,OAA0B,IAAPgB,GAAuBA,EAAIE,EAAKnB,EAAQG,iBAAkBA,OAA0B,IAAPgB,EAAgB,GAAKA,EAAI6C,EAAiBhE,EAAQgE,eAAgBvB,EAAKzC,EAAQI,aAAcA,OAAsB,IAAPqC,GAAwBA,EACjbuC,EAAKhF,EAAQiF,mBAAoBA,OAA4B,IAAPD,GAAuBA,EAC7EE,EAAkBnF,EAAcrG,EAAG,CACnC6E,IAAKA,EACLiB,WAAYA,EACZC,cAAeA,EACfQ,iBAAkBA,EAClBE,iBAAkBA,EAClBC,aAAcA,IAEd,IAAC8E,EAEM,OADPC,QAAQC,KAAK1L,EAAG,kBACT,KAIPoL,EADA,SAAUpL,EACLA,EAAE2L,KAAKP,GAEPhB,EAAgBoB,EAAiBlB,KACpCiB,GACEC,EAAgB3E,OAASpF,EAASoI,OACjC2B,EAAgB5B,UAChB4B,EAAgBvD,YAAYnE,QAAQ,cAAe,IAAI5D,OACvD2B,EAGAC,IAEL8J,IAAAA,EAAiBjM,OAAOC,OAAO4L,EAAiB,CAAEJ,GAAIA,IAEtDA,GADJpL,EAAE2L,KAAOC,EACLR,IAAOvJ,EACA,OAAA,KAEXe,EAAIwI,GAAMpL,EACN6L,IAAAA,GAAeR,EAKf,GAJAO,EAAe/E,OAASpF,EAAS6H,UACjCuC,EAAcA,IAAgBD,EAAevE,iBACtCuE,EAAevE,YAErBuE,EAAe/E,OAASpF,EAASqF,UAClC8E,EAAe/E,OAASpF,EAAS6H,UACjCuC,EAAa,CACTvB,EAAewB,gBACfN,EAAgB3E,OAASpF,EAAS6H,SACN,SAA5BkC,EAAgBrJ,UAChBoJ,GAAqB,GAEpB,IAAA,IAAI9G,EAAK,EAAGsH,EAAKrJ,MAAMC,KAAK3C,EAAE+G,YAAatC,EAAKsH,EAAG7L,OAAQuE,IAAM,CAC9DuH,IACAC,EAAsBd,EADbY,EAAGtH,GACsC,CAClDI,IAAKA,EACLjC,IAAKA,EACLkD,WAAYA,EACZC,cAAeA,EACfsF,UAAWA,EACX9E,iBAAkBA,EAClBE,iBAAkBA,EAClB6D,eAAgBA,EAChB5D,aAAcA,EACd6E,mBAAoBA,IAEpBU,GACAL,EAAe7E,WAAW1F,KAAK4K,IAIpCL,OAAAA,EAEX,SAASM,EAASlM,EAAGsG,GACbE,IAAAA,EAAKF,GAAW,GAAIiB,EAAKf,EAAGV,WAAYA,OAAoB,IAAPyB,EAAgB,WAAaA,EAAIE,EAAKjB,EAAGD,iBAAkBA,OAA0B,IAAPkB,GAAuBA,EAAIsB,EAAKvC,EAAGE,aAAcA,OAAsB,IAAPqC,GAAwBA,EAAIuC,EAAK9E,EAAGT,cAAeA,OAAuB,IAAPuF,EAAgB,KAAOA,EAAIS,EAAKvF,EAAG2F,cAAeA,OAAuB,IAAPJ,GAAwBA,EAAIK,EAAK5F,EAAG6F,QAASA,OAAiB,IAAPD,GAAwBA,EACvZE,EAAY,GAuCT,MAAA,CACHnB,EAAoBnL,EAAG,CACnB6E,IAAK7E,EACL4C,IAAK0J,EACLxG,WAAYA,EACZC,cAAeA,EACfsF,WAAW,EACX9E,iBAAkBA,EAClBE,kBA9CiC,IAAlB0F,EACjB,CACEI,OAAO,EACPC,MAAM,EACY,kBAAA,EAClBC,OAAO,EACPC,OAAO,EACPC,QAAQ,EACRC,OAAO,EACPC,QAAQ,EACRC,KAAK,EACLC,MAAM,EACNC,MAAM,EACN5J,KAAK,EACL6J,MAAM,EACNC,UAAU,EACVC,QAAQ,IAEQ,IAAlBhB,EACI,GACAA,EA2BF7B,gBA1ByB,IAAZ+B,GAAgC,QAAZA,EAEjC,CACI7B,QAAQ,EACRD,SAAS,EACTG,aAAa,EACboB,gBAAgB,EAChBlB,qBAAkC,QAAZyB,EACtBxB,gBAAgB,EAChBE,gBAAgB,EAChBC,mBAAmB,EACnBC,oBAAoB,EACpBC,sBAAsB,IAEhB,IAAZmB,EACI,GACAA,EAWF3F,aAAcA,IAElB4F,GAIR,IAAIc,EAAY,kCAChB,SAASC,EAAMC,EAAKhH,QACA,IAAZA,IAAsBA,EAAU,IAChCiH,IAAAA,EAAS,EACTC,EAAS,EACJC,SAAAA,EAAeC,GAChBC,IAAAA,EAAQD,EAAI/C,MAAM,OAClBgD,IACAJ,GAAUI,EAAMzN,QAEhBH,IAAAA,EAAI2N,EAAIE,YAAY,MACxBJ,GAAgB,IAAPzN,EAAWyN,EAASE,EAAIxN,OAASwN,EAAIxN,OAASH,EAElD8N,SAAAA,IACDC,IAAAA,EAAQ,CAAEC,KAAMR,EAAQC,OAAQA,GAC7B,OAAA,SAAUQ,GAGNA,OAFPA,EAAKH,SAAW,IAAII,EAASH,GAC7BI,IACOF,GAGXC,IAAAA,EAAY,WAMLA,OALEA,SAASH,GACTA,KAAAA,MAAQA,EACRK,KAAAA,IAAM,CAAEJ,KAAMR,EAAQC,OAAQA,GAC9BY,KAAAA,OAAS9H,EAAQ8H,QAJd,GAQhBH,EAAS7N,UAAUiO,QAAUf,EACzBgB,IAAAA,EAAa,GACRhN,SAAAA,EAAMiN,GACPC,IAAAA,EAAM,IAAIC,MAAMnI,EAAQ8H,OAAS,IAAMb,EAAS,IAAMC,EAAS,KAAOe,GAMtEjI,GALJkI,EAAIE,OAASH,EACbC,EAAIG,SAAWrI,EAAQ8H,OACvBI,EAAIT,KAAOR,EACXiB,EAAIhB,OAASA,EACbgB,EAAIJ,OAASd,GACThH,EAAQsI,OAIFJ,MAAAA,EAHNF,EAAWjN,KAAKmN,GAiBfK,SAAAA,IACElE,OAAAA,EAAM,SAERmE,SAAAA,IACEnE,OAAAA,EAAM,MAERnI,SAAAA,IACDwL,IAAAA,EACAxL,EAAQ,GAGL8K,IAFPY,IACAa,EAASvM,GACF8K,EAAIpN,QAA4B,MAAlBoN,EAAI0B,OAAO,KAAehB,EAAOiB,KAAYlM,OACjD,IAATiL,IACAxL,EAAMnB,KAAK2M,GACXe,EAASvM,IAGVA,OAAAA,EAEFmI,SAAAA,EAAMuE,GACPtO,IAAAA,EAAIsO,EAAGC,KAAK7B,GACZ,GAAC1M,EAAD,CAGA8M,IAAAA,EAAM9M,EAAE,GAGLA,OAFP6M,EAAeC,GACfJ,EAAMA,EAAI9J,MAAMkK,EAAIxN,QACbU,GAEFsN,SAAAA,IACLvD,EAAM,QAEDoE,SAAAA,EAASvM,GAEV4M,IAAAA,EACIA,SAFM,IAAV5M,IAAoBA,EAAQ,IAExB4M,EAAI7E,MACE,IAAN6E,GACA5M,EAAMnB,KAAK+N,GAEfA,EAAI7E,IAED/H,OAAAA,EAEF+H,SAAAA,IACD8E,IAAAA,EAAMxB,IACN,GAAA,MAAQP,EAAI0B,OAAO,IAAM,MAAQ1B,EAAI0B,OAAO,GAA5C,CAIG,IADHjP,IAAAA,EAAI,EACD,KAAOuN,EAAI0B,OAAOjP,KACpB,MAAQuN,EAAI0B,OAAOjP,IAAM,MAAQuN,EAAI0B,OAAOjP,EAAI,OAC/CA,EAGF,GADJA,GAAK,EACD,KAAOuN,EAAI0B,OAAOjP,EAAI,GACfuB,OAAAA,EAAM,0BAEboM,IAAAA,EAAMJ,EAAI9J,MAAM,EAAGzD,EAAI,GAKpBsP,OAJP7B,GAAU,EACVC,EAAeC,GACfJ,EAAMA,EAAI9J,MAAMzD,GAChByN,GAAU,EACH6B,EAAI,CACPxI,KAAM,UACN0D,QAASmD,KAGR4B,SAAAA,IACD1O,IAAAA,EAAI+J,EAAM,YACV,GAAC/J,EAGEyB,OAAAA,EAAKzB,EAAE,IACTkD,QAAQ,+CAAgD,IACxDA,QAAQ,mCAAoC,SAAUlD,GAChDA,OAAAA,EAAEkD,QAAQ,KAAM,OAEtBP,MAAM,sBACNX,IAAI,SAAU9C,GACRA,OAAAA,EAAEgE,QAAQ,UAAW,OAG3ByL,SAAAA,IACDF,IAAAA,EAAMxB,IACN2B,EAAY7E,EAAM,4CAClB,GAAC6E,EAAD,CAGAC,IAAAA,EAAOpN,EAAKmN,EAAU,IACtB,IAAC7E,EAAM,SACArJ,OAAAA,EAAM,wBAEboO,IAAAA,EAAM/E,EAAM,yDACZgF,EAAMN,EAAI,CACVxI,KAAM,cACNiE,SAAU2E,EAAK3L,QAAQsJ,EAAW,IAClCtM,MAAO4O,EAAMrN,EAAKqN,EAAI,IAAI5L,QAAQsJ,EAAW,IAAM,KAGhDuC,OADPhF,EAAM,WACCgF,GAEFC,SAAAA,IACDC,IAKAC,EALAD,EAAQ,GACR,IAAChB,IACMvN,OAAAA,EAAM,eAITwO,IAFRf,EAASc,GAEDC,EAAOP,MACE,IAATO,IACAD,EAAMxO,KAAKyO,GACXf,EAASc,IAEbC,EAAOP,IAEP,OAACT,IAGEe,EAFIvO,EAAM,eAIZyO,SAAAA,IAIGnP,IAHJA,IAAAA,EACAoP,EAAO,GACPX,EAAMxB,IACFjN,EAAI+J,EAAM,wCACdqF,EAAK3O,KAAKT,EAAE,IACZ+J,EAAM,SAEN,GAACqF,EAAK9P,OAGHmP,OAAAA,EAAI,CACPxI,KAAM,WACNoJ,OAAQD,EACRJ,aAAcA,MA8KlBM,IA9TIC,EA8TJD,EAAWE,EAAe,UAC1BC,EAAYD,EAAe,WAC3BE,EAAcF,EAAe,aACxBA,SAAAA,EAAezK,GAChBuJ,IAAAA,EAAK,IAAItN,OAAO,KAAO+D,EAAO,gBAC3B,OAAA,WACC0J,IAAAA,EAAMxB,IACNjN,EAAI+J,EAAMuE,GACV,GAACtO,EAAD,CAGA+O,IAAAA,EAAM,CAAE9I,KAAMlB,GAEX0J,OADPM,EAAIhK,GAAQ/E,EAAE,GAAGyB,OACVgN,EAAIM,KAGVV,SAAAA,IACD3B,GAAW,MAAXA,EAAI,GAGAiD,OA/LHA,WACDlB,IAAAA,EAAMxB,IACNjN,EAAI+J,EAAM,2BACV,GAAC/J,EAAD,CAGA4P,IAAAA,EAAS5P,EAAE,GAEX,KADJA,EAAI+J,EAAM,iBAECrJ,OAAAA,EAAM,2BAEbqE,IAIA8K,EAJA9K,EAAO/E,EAAE,GACT,IAACiO,IACMvN,OAAAA,EAAM,0BAITmP,IADJC,IAAAA,EAAS3B,IACL0B,EAAQV,KACZW,EAAOrP,KAAKoP,GACZC,EAASA,EAAOlP,OAAOuN,KAEvB,OAACD,IAGEO,EAAI,CACPxI,KAAM,YACNlB,KAAMA,EACN6K,OAAQA,EACRG,UAAWD,IANJpP,EAAM,2BAyKTiP,IA1HHK,WACDvB,IAAAA,EAAMxB,IACNjN,EAAI+J,EAAM,oBACV,GAAC/J,EAAD,CAGAiQ,IAAAA,EAAQxO,EAAKzB,EAAE,IACf,IAACiO,IACMvN,OAAAA,EAAM,sBAEbwP,IAAAA,EAAQ/B,IAAWvN,OAAOgB,KAC1B,OAACsM,IAGEO,EAAI,CACPxI,KAAM,QACNgK,MAAOA,EACPrO,MAAOsO,IALAxP,EAAM,uBA+GbsP,IAvGCG,WACD1B,IAAAA,EAAMxB,IACNjN,EAAI+J,EAAM,2CACV,GAAC/J,EAGEyO,OAAAA,EAAI,CACPxI,KAAM,eACNlB,KAAMtD,EAAKzB,EAAE,IACbiQ,MAAOxO,EAAKzB,EAAE,MA+FdmQ,IAlKCC,WACD3B,IAAAA,EAAMxB,IACNjN,EAAI+J,EAAM,uBACV,GAAC/J,EAAD,CAGAqQ,IAAAA,EAAW5O,EAAKzB,EAAE,IAClB,IAACiO,IACMvN,OAAAA,EAAM,yBAEbwP,IAAAA,EAAQ/B,IAAWvN,OAAOgB,KAC1B,OAACsM,IAGEO,EAAI,CACPxI,KAAM,WACNoK,SAAUA,EACVzO,MAAOsO,IALAxP,EAAM,0BAuJb0P,IACAd,KACAG,KACAC,KAvECY,WACD7B,IAAAA,EAAMxB,IACNjN,EAAI+J,EAAM,gCACV,GAAC/J,EAAD,CAGA4P,IAAAA,EAASnO,EAAKzB,EAAE,IAChBiE,EAAMxC,EAAKzB,EAAE,IACb,IAACiO,IACMvN,OAAAA,EAAM,yBAEbwP,IAAAA,EAAQ/B,IAAWvN,OAAOgB,KAC1B,OAACsM,IAGEO,EAAI,CACPxI,KAAM,WACNsK,SAAUtM,EACV2L,OAAQA,EACRhO,MAAOsO,IANAxP,EAAM,0BA2Db4P,IAjGCE,WACD/B,IAAAA,EAAMxB,IAEN,GADIlD,EAAM,YACV,CAGA0G,IAAAA,EAAM/B,KAAc,GACpB,IAACT,IACMvN,OAAAA,EAAM,qBAITwO,IAFJD,IACAC,EADAD,EAAQd,IAEJe,EAAOP,KACXM,EAAMxO,KAAKyO,GACXD,EAAQA,EAAMrO,OAAOuN,KAErB,OAACD,IAGEO,EAAI,CACPxI,KAAM,OACNyK,UAAWD,EACXzB,aAAcC,IALPvO,EAAM,sBAiFb8P,IApJCG,WACDlC,IAAAA,EAAMxB,IAEN,GADIlD,EAAM,aACV,CAGA,IAACkE,IACMvN,OAAAA,EAAM,qBAEbwP,IAAAA,EAAQ/B,IAAWvN,OAAOgB,KAC1B,OAACsM,IAGEO,EAAI,CACPxI,KAAM,OACNrE,MAAOsO,IAJAxP,EAAM,sBA0IbiQ,IApDCC,WACDnC,IAAAA,EAAMxB,IAEN,GADIlD,EAAM,kBACV,CAGA,IAACkE,IACMvN,OAAAA,EAAM,0BAITwO,IAFJD,IACAC,EADAD,EAAQd,IAEJe,EAAOP,KACXM,EAAMxO,KAAKyO,GACXD,EAAQA,EAAMrO,OAAOuN,KAErB,OAACD,IAGEO,EAAI,CACPxI,KAAM,YACN+I,aAAcC,IAJPvO,EAAM,2BAqCbkQ,GAECzO,SAAAA,IACDsM,IAAAA,EAAMxB,IACNwD,EAAM/B,IACN,OAAC+B,GAGLtC,IACOM,EAAI,CACPxI,KAAM,OACNyK,UAAWD,EACXzB,aAAcA,OANPtO,EAAM,oBASdmQ,OAAAA,GA3WCtB,EAAY3N,IACT,CACHqE,KAAM,aACNa,WAAY,CACR0G,OAAQ9H,EAAQ8H,OAChB5L,MAAO2N,EACPuB,cAAepD,MAuW/B,SAASjM,EAAKqL,GACHA,OAAAA,EAAMA,EAAI5J,QAAQ,aAAc,IAAM,GAEjD,SAAS2N,EAAUE,EAAKC,GAGf,IAFDC,IAAAA,EAASF,GAA2B,iBAAbA,EAAI9K,KAC3BiL,EAAcD,EAASF,EAAMC,EACxBnN,EAAK,EAAG+B,EAAK7G,OAAOoS,KAAKJ,GAAMlN,EAAK+B,EAAGtG,OAAQuE,IAAM,CACtDuN,IACAlR,EAAQ6Q,EADJnL,EAAG/B,IAEP/B,MAAMuP,QAAQnR,GACdA,EAAMoF,QAAQ,SAAUgM,GACpBT,EAAUS,EAAGJ,KAGZhR,GAA0B,iBAAVA,GACrB2Q,EAAU3Q,EAAOgR,GAWlBH,OARHE,GACAlS,OAAOwS,eAAeR,EAAK,SAAU,CACjCS,cAAc,EACdC,UAAU,EACVC,YAAY,EACZxR,MAAO8Q,GAAU,OAGlBD,EAGX,IAAIY,EAAS,CACT/H,OAAQ,WACRgI,SAAU,WACVC,YAAa,cACbC,aAAc,eACdC,aAAc,eACdC,cAAe,gBACfC,iBAAkB,mBAClBC,SAAU,WACVC,QAAS,UACTC,cAAe,gBACfC,oBAAqB,sBACrBC,YAAa,cACbC,iBAAkB,mBAClBC,kBAAmB,oBACnBC,kBAAmB,oBACnBC,eAAgB,iBAChBC,aAAc,eACdC,QAAS,UACTC,QAAS,UACTC,QAAS,UACTC,QAAS,UACTC,QAAS,UACTC,eAAgB,iBAChBC,QAAS,UACTC,QAAS,UACTC,YAAa,cACbC,aAAc,eACdC,SAAU,WACVC,aAAc,eACdC,mBAAoB,qBACpBC,YAAa,cACbC,OAAQ,SACRC,aAAc,eACdC,cAAe,gBACfC,SAAU,WACVC,eAAgB,iBAChBC,eAAgB,kBAEpB,SAASC,EAAW5U,GACZmC,IAAAA,EAAUoQ,EAAOvS,EAAEmC,SAAWoQ,EAAOvS,EAAEmC,SAAWnC,EAAEmC,QAIjDA,MAHS,SAAZA,GAAsBnC,EAAEwH,WAAWM,WACnC3F,EAAU,SAEPA,EAEX,IAAI0S,EAAiB,iBACrB,SAASC,EAAc5R,GACf6R,IAAAA,EAAM1H,EAAMnK,EAAS,CAAE0L,QAAQ,IAC/B,OAACmG,EAAIrN,YAGTqN,EAAIrN,WAAWlF,MAAM0D,QAAQ,SAAUnD,GAC/B,cAAeA,IACdA,EAAKuO,WAAa,IAAIpL,QAAQ,SAAUoJ,GACjCuF,GAAAA,EAAevS,KAAKgN,GAAW,CAC3B0F,IAAAA,EAAc1F,EAASxL,QAAQ+Q,EAAgB,eACnD3R,EAAUA,EAAQY,QAAQwL,EAAUA,EAAW,KAAO0F,QAK/D9R,GAZIA,EAcf,SAAS+R,EAAUjV,EAAGsG,GACdzB,IAAAA,EAAMyB,EAAQzB,IAAKqQ,EAAU5O,EAAQ4O,QACjClV,OAAAA,EAAE6G,MACDpF,KAAAA,EAASqF,SACHjC,OAAAA,EAAIsQ,eAAeC,eAAe,KAAM,GAAI,MAClD3T,KAAAA,EAASwF,aACHpC,OAAAA,EAAIsQ,eAAeE,mBAAmBrV,EAAE2F,MAAQ,OAAQ3F,EAAEkH,SAAUlH,EAAEmH,UAC5E1F,KAAAA,EAAS6H,QACNnH,IACAmT,EADAnT,EAAUyS,EAAW5U,GAGrBsV,EADAtV,EAAEuJ,MACO1E,EAAI0Q,gBAAgB,6BAA8BpT,GAGlD0C,EAAIS,cAAcnD,GAE3BqT,IAAAA,EAAU,SAAU7P,GAChB,IAAC3F,EAAEwH,WAAWnH,eAAesF,GACtB,MAAA,WAEP7E,IAAAA,EAAQd,EAAEwH,WAAW7B,GAGrB,GAFJ7E,EACqB,kBAAVA,GAAwC,iBAAVA,EAAqB,GAAKA,EAC9D6E,EAAK8P,WAAW,OAoChB,CACGtT,GAAY,WAAZA,GAAiC,eAATwD,EAAuB,CAC3C+P,IAAAA,EAAUvE,SAAS7L,cAAc,OACrCoQ,EAAQC,IAAM7U,EACd4U,EAAQE,OAAS,WACTC,IAAAA,EAAMP,EAAOQ,WAAW,MACxBD,GACAA,EAAIE,UAAUL,EAAS,EAAG,EAAGA,EAAQzM,MAAOyM,EAAQxM,SAU5DvD,GANS,aAATA,IACA2P,EAAOxE,MAAM7H,MAAQnI,GAEZ,cAAT6E,IACA2P,EAAOxE,MAAM5H,OAASpI,GAEb,kBAAT6E,EACQ7E,OAAAA,GACC,IAAA,SACDwU,EAAOU,OACN,IAAA,SACDV,EAAOW,aA1DM,CACrBC,IAAAA,EAAyB,aAAZ/T,GAAmC,UAATwD,EACvCwQ,EAAmC,UAAZhU,GAAgC,aAATwD,EAI9CuQ,GAHAC,GAAwBjB,IACxBpU,EAAQgU,EAAchU,IAEtBoV,GAAcC,EAAsB,CAE/B,IADDC,IAAAA,EAAQvR,EAAIwR,eAAevV,GACtB2D,EAAK,EAAG+B,EAAK9D,MAAMC,KAAK2S,EAAOvO,YAAatC,EAAK+B,EAAGtG,OAAQuE,IAAM,CACnE2K,IAAAA,EAAI5I,EAAG/B,GACP2K,EAAEzI,WAAa2O,EAAO7L,WACtB6L,EAAOgB,YAAYlH,GAIpB,OADPkG,EAAOiB,YAAYH,GACZ,WAEPjU,GAAY,WAAZA,GAAiC,QAATwD,EACjB,MAAA,WAEP,IACI3F,EAAEuJ,OAAkB,eAAT5D,EACX2P,EAAOkB,eAAe,+BAAgC7Q,EAAM7E,GAE9C,WAAT6E,GACI,YAATA,GACyB,YAAzBA,EAAK8Q,UAAU,EAAG,GAClBnB,EAAOoB,aAAa,IAAM/Q,EAAM7E,GAGhCwU,EAAOoB,aAAa/Q,EAAM7E,GAGlC,MAAOQ,OA+BV,IAAA,IAAIqE,KAAQ3F,EAAEwH,WACfgO,EAAQ7P,GAEL2P,OAAAA,EACN7T,KAAAA,EAASoI,KACHhF,OAAAA,EAAIwR,eAAerW,EAAE4J,SAAWsL,EAAUJ,EAAc9U,EAAEiI,aAAejI,EAAEiI,aACjFxG,KAAAA,EAASsI,MACHlF,OAAAA,EAAI8R,mBAAmB3W,EAAEiI,aAC/BxG,KAAAA,EAASwI,QACHpF,OAAAA,EAAI+R,cAAc5W,EAAEiI,aAC/B,QACW,OAAA,MAGnB,SAAS4O,EAAgB7W,EAAGsG,GACpBzB,IAAAA,EAAMyB,EAAQzB,IAAKjC,EAAM0D,EAAQ1D,IAAK4D,EAAKF,EAAQ+E,UAAWA,OAAmB,IAAP7E,GAAwBA,EAAIe,EAAKjB,EAAQ4O,QAASA,OAAiB,IAAP3N,GAAuBA,EAC7JyG,EAAOiH,EAAUjV,EAAG,CAAE6E,IAAKA,EAAKqQ,QAASA,IACzC,IAAClH,EACM,OAAA,KASP,GAPAhO,EAAE6G,OAASpF,EAASqF,WACpBjC,EAAIiK,QACJjK,EAAIgK,OACJb,EAAOnJ,GAEXmJ,EAAKrC,KAAO3L,EACZ4C,EAAI5C,EAAEoL,IAAM4C,GACPhO,EAAE6G,OAASpF,EAASqF,UAAY9G,EAAE6G,OAASpF,EAAS6H,WACpD+B,EACI,IAAA,IAAI5G,EAAK,EAAGgD,EAAKzH,EAAE+G,WAAYtC,EAAKgD,EAAGvH,OAAQuE,IAAM,CAClDuH,IAAAA,EAASvE,EAAGhD,GACZqS,EAAYD,EAAgB7K,EAAQ,CACpCnH,IAAKA,EACLjC,IAAKA,EACLyI,WAAW,EACX6J,QAASA,IAER4B,EAID9I,EAAKuI,YAAYO,GAHjBrL,QAAQC,KAAK,oBAAqBM,GAOvCgC,OAAAA,EAEX,SAAS+I,EAAMzK,EAAW0K,GAIjB,IAAA,IAAIC,KAAO3K,EACRA,EAAU2K,KAJJjJ,EAKD1B,EAAU2K,GAJnBD,EAAQhJ,IADHkJ,IAAKlJ,EASlB,SAASmJ,EAAanJ,GACdhO,IAAAA,EAAIgO,EAAKrC,KACT3L,GAAAA,EAAE6G,OAASpF,EAAS6H,QAApBtJ,CAGAwF,IAAAA,EAAKwI,EACJ,IAAA,IAAIrI,KAAQ3F,EAAEwH,WACX,GAAExH,EAAEwH,WAAWnH,eAAesF,IAASA,EAAK8P,WAAW,OAAvD,CAGA3U,IAAAA,EAAQd,EAAEwH,WAAW7B,GACZ,kBAATA,IACAH,EAAGmD,WAAa7H,GAEP,iBAAT6E,IACAH,EAAGqD,UAAY/H,KAI3B,SAASsW,EAAQpX,EAAGsG,GACZzB,IAAAA,EAAMyB,EAAQzB,IAAKmS,EAAU1Q,EAAQ0Q,QAASxQ,EAAKF,EAAQ4O,QAC3D5I,EAAY,GACZ0B,EAAO6I,EAAgB7W,EAAG,CAC1B6E,IAAKA,EACLjC,IAAK0J,EACLjB,WAAW,EACX6J,aANqF,IAAP1O,GAAuBA,IAclG,OANPuQ,EAAMzK,EAAW,SAAU+K,GACnBL,GACAA,EAAQK,GAEZF,EAAaE,KAEV,CAACrJ,EAAM1B;;AC1uBjB,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAAA,QAAA,eAAA,EAAA,QAAA,WAAA,EAAA,QAAA,kBAAA,EAAA,QAAA,UAAA,EAAA,QAAA,UAAA,EAAA,QAAA,aAAA,EAAA,QAAA,mBAAA,EAAA,QAAA,mBAAA,EAAA,QAAA,GAAA,EAAA,QAAA,MAAA,EAAA,QAAA,SAAA,EAAA,QAAA,oBAAA,EAAA,QAAA,SAAA,EAAA,QAAA,OAAA,QAAA,eAAA,EAraD,IAAA,EAAA,QAAA,sCACA,EAAA,QAAA,uDACA,EAAA,QAAA,cAEA,SAASgL,EAAGzQ,EAAM0Q,EAAIC,QACH,IAAXA,IAAqBA,EAASrG,UAC9B7K,IAAAA,EAAU,CAAEmR,SAAS,EAAMC,SAAS,GAEjC,OADPF,EAAOG,iBAAiB9Q,EAAM0Q,EAAIjR,GAC3B,WAAqBkR,OAAAA,EAAOI,oBAAoB/Q,EAAM0Q,EAAIjR,IAErE,IAAIuR,EAAS,CACTjV,IAAK,GACLkV,MAAO,SAAU9X,GACT,OAACA,EAAE2L,KAGA3L,EAAE2L,KAAKP,IAFF,GAIhB2M,QAAS,SAAU3M,GACRyM,OAAAA,EAAOjV,IAAIwI,IAAO,MAE7B4M,kBAAmB,SAAUhY,GACrBoL,IAAAA,EAAKpL,EAAE2L,MAAQ3L,EAAE2L,KAAKP,UACnByM,EAAOjV,IAAIwI,GACdpL,EAAE+G,YACF/G,EAAE+G,WAAWb,QAAQ,SAAUkQ,GACpByB,OAAAA,EAAOG,kBAAkB5B,MAI5C6B,IAAK,SAAU7M,GACJyM,OAAAA,EAAOjV,IAAIvC,eAAe+K,KAGzC,SAAS8M,EAASC,EAAMC,EAAM9R,QACV,IAAZA,IAAsBA,EAAU,IAChC+R,IAAAA,EAAU,KACVC,EAAW,EACR,OAAA,SAAUC,GACTC,IAAAA,EAAMC,KAAKD,MACVF,IAAgC,IAApBhS,EAAQoS,UACrBJ,EAAWE,GAEXG,IAAAA,EAAYP,GAAQI,EAAMF,GAC1BM,EAAU,KACVC,EAAO5Y,UACP0Y,GAAa,GAAKA,EAAYP,GAC1BC,IACAS,OAAOC,aAAaV,GACpBA,EAAU,MAEdC,EAAWE,EACXL,EAAK5X,MAAMqY,EAASC,IAEdR,IAAgC,IAArB/R,EAAQ0S,WACzBX,EAAUS,OAAOG,WAAW,WACxBX,GAA+B,IAApBhS,EAAQoS,QAAoB,EAAID,KAAKD,MAChDH,EAAU,KACVF,EAAK5X,MAAMqY,EAASC,IACrBF,KAIf,SAASO,EAAW1B,EAAQP,EAAKkC,EAAGC,EAAWC,QAC/B,IAARA,IAAkBA,EAAMP,QACxBQ,IAAAA,EAAWD,EAAI1Z,OAAO4Z,yBAAyB/B,EAAQP,GAcpD,OAbPoC,EAAI1Z,OAAOwS,eAAeqF,EAAQP,EAAKmC,EACjCD,EACA,CACEK,IAAK,SAAU1Y,GACP2Y,IAAAA,EAAQ,KACZR,WAAW,WACPE,EAAEK,IAAIlZ,KAAKmZ,EAAO3Y,IACnB,GACCwY,GAAYA,EAASE,KACrBF,EAASE,IAAIlZ,KAAK,KAAMQ,MAIjC,WAAqBoY,OAAAA,EAAW1B,EAAQP,EAAKqC,GAAY,IAAI,IAExE,SAASI,EAAMtL,EAAQzI,EAAMgU,GACrB,IACI,KAAEhU,KAAQyI,GACH,OAAA,aAEPwL,IAAAA,EAAaxL,EAAOzI,GACpBkU,EAAUF,EAAYC,GAWnB,MAVgB,mBAAZC,IACPA,EAAQzZ,UAAYyZ,EAAQzZ,WAAa,GACzCT,OAAOma,iBAAiBD,EAAS,CAC7BE,mBAAoB,CAChBzH,YAAY,EACZxR,MAAO8Y,MAInBxL,EAAOzI,GAAQkU,EACR,WACHzL,EAAOzI,GAAQiU,GAGvB,MAAOpT,GACI,OAAA,cAGf,SAASwT,IACGlB,OAAAA,OAAOmB,aACV9I,SAAS+I,iBAAmB/I,SAAS+I,gBAAgBC,cACrDhJ,SAASiJ,MAAQjJ,SAASiJ,KAAKD,aAExC,SAASE,IACGvB,OAAAA,OAAOwB,YACVnJ,SAAS+I,iBAAmB/I,SAAS+I,gBAAgBK,aACrDpJ,SAASiJ,MAAQjJ,SAASiJ,KAAKG,YAExC,SAASC,EAAUxM,EAAMlI,GACjB,IAACkI,EACM,OAAA,EAEPA,GAAAA,EAAKrH,WAAaqH,EAAK5G,aAAc,CACjCqT,IAAAA,GAAc,EAWXA,MAVmB,iBAAf3U,EACP2U,EAAczM,EAAKhI,UAAUC,SAASH,GAGtCkI,EAAKhI,UAAUE,QAAQ,SAAUC,GACzBL,EAAWxD,KAAK6D,KAChBsU,GAAc,KAInBA,GAAeD,EAAUxM,EAAKrE,WAAY7D,GAEjDkI,OAAAA,EAAKrH,SAAaqH,EAAKvE,UAChB+Q,EAAUxM,EAAKrE,WAAY7D,GAI1C,SAAS4U,EAAU1a,GACX,MAAA,SAAUA,GACHA,EAAE2L,KAAKP,KAAOvJ,EAArB,aAIR,SAAS8Y,EAAkBnD,GACnBpM,IAAAA,EAAKyM,EAAOC,MAAMN,GAClB,OAACK,EAAOI,IAAI7M,MAGZoM,EAAO7N,YACP6N,EAAO7N,WAAWhD,WAAa6Q,EAAO5Q,kBAGrC4Q,EAAO7N,YAGLgR,EAAkBnD,EAAO7N,aAEpC,SAASiR,EAAaC,GACXC,OAAAA,QAAQD,EAAME,gBAEzB,SAASC,EAAS3B,QACF,IAARA,IAAkBA,EAAMP,QACxB,aAAcO,IAAQA,EAAI4B,SAAS7a,UAAU8F,UAC7CmT,EAAI4B,SAAS7a,UAAU8F,QAAUxD,MAAMtC,UAClC8F,SAEL,iBAAkBmT,IAAQA,EAAI6B,aAAa9a,UAAU8F,UACrDmT,EAAI6B,aAAa9a,UAAU8F,QAAUxD,MAAMtC,UACtC8F,SAGb,SAASiV,EAAmBN,GAChBA,OAAAA,EAAMhU,MACLxH,KAAAA,EAAU+b,UAAAA,iBACV/b,KAAAA,EAAUgc,UAAAA,KACVhc,KAAAA,EAAUic,UAAAA,OACJ,OAAA,EACNjc,KAAAA,EAAUkc,UAAAA,aACVlc,KAAAA,EAAUmc,UAAAA,KACJ,OAAA,EAEPX,OAAAA,EAAMY,KAAKrN,QACV9O,KAAAA,EAAkBoc,kBAAAA,UAClBpc,KAAAA,EAAkBqc,kBAAAA,iBAClBrc,KAAAA,EAAkBsc,kBAAAA,UAClBtc,KAAAA,EAAkBuc,kBAAAA,iBACZ,OAAA,EACNvc,KAAAA,EAAkBwc,kBAAAA,eAClBxc,KAAAA,EAAkByc,kBAAAA,eAClBzc,KAAAA,EAAkB0c,kBAAAA,OAClB1c,KAAAA,EAAkB2c,kBAAAA,MACZ,OAAA,EAER,OAAA,EAkOV,QAAA,OAAA,EAhOD,IAAIC,EAAa,WACJA,SAAAA,IACAC,KAAAA,QAyKFD,OAvKPA,EAAU9b,UAAUgc,IAAM,SAAUC,GAC5BC,IAAAA,EAAiB,KAAKC,QAAQC,IAAIH,EAASI,UAC3CC,EAAW,CACXtR,GAAIiR,EAASrO,KAAK5C,GAClBiR,SAAUA,EACVM,SAAU,GACVC,MAAO,GACPpV,WAAY,IAEX8U,GAIDI,EAAS9K,OAAS0K,EAClBA,EAAeK,SAASD,EAAStR,IAAMsR,GAJlCG,KAAAA,KAAKH,EAAStR,IAAMsR,EAMxBH,KAAAA,QAAQ/C,IAAIkD,EAAStR,GAAIsR,IAElCR,EAAU9b,UAAU0c,OAAS,SAAUT,GAC/B5C,IAAAA,EAAQ,KACR6C,EAAiB,KAAKC,QAAQC,IAAIH,EAASI,UAC3CC,EAAW,KAAKH,QAAQC,IAAIH,EAASjR,IACrC2R,EAAuB,SAAU3R,GACjCqO,EAAMuD,YAAYZ,IAAIhR,GAClB4C,IAAAA,EAAO6J,EAAOE,QAAQ3M,GAC1B4C,MAAAA,GAA4CA,EAAKjH,WAAWb,QAAQ,SAAU4Q,GACtE,SAAUA,GACViG,EAAqBjG,EAAUnL,KAAKP,OAI5C6R,EAA0B,SAAUjP,GACpCyL,EAAMuD,YAAYZ,IAAIpO,EAAK5C,IAC3BzL,OAAOsQ,OAAOjC,EAAK2O,UAAUzW,QAAQ,SAAUlG,GAAYid,OAAAA,EAAwBjd,KAC/Ekd,IAAAA,EAAYzD,EAAM8C,QAAQC,IAAIxO,EAAK5C,IACnC8R,GAAAA,EAAW,CACPC,IAAAA,EAAkBD,EAAUtL,OAC5BuL,WACOD,EAAUtL,cACVuL,EAAgBR,SAASO,EAAU9R,IAC1CqO,EAAM8C,QAAQa,OAAOf,EAASjR,OAIrCsR,EAIKJ,UAMCI,EAAS9K,cACT0K,EAAeK,SAASD,EAAStR,IACnCmR,KAAAA,QAAQa,OAAOf,EAASjR,IAC7B6R,EAAwBP,YARjB,KAAKG,KAAKH,EAAStR,IACrBmR,KAAAA,QAAQa,OAAOV,EAAStR,IAC7B6R,EAAwBP,KANnBW,KAAAA,oBAAoBhc,KAAKgb,GAC9BU,EAAqBV,EAASjR,MActC8Q,EAAU9b,UAAU2M,KAAO,SAAUsP,GAC7BK,IAAAA,EAAW,KAAKH,QAAQC,IAAIH,EAASjR,IACrCsR,EACAA,EAASE,MAAMvb,KAAKgb,GAGfiB,KAAAA,cAAcjc,KAAKgb,IAGhCH,EAAU9b,UAAUmd,UAAY,SAAUlB,GAClCK,IAAAA,EAAW,KAAKH,QAAQC,IAAIH,EAASjR,IACrCsR,EACAA,EAASlV,WAAWnG,KAAKgb,GAGpBmB,KAAAA,mBAAmBnc,KAAKgb,IAGrCH,EAAU9b,UAAUqd,OAAS,SAAUtE,GAC9BuE,KAAAA,UAAUlE,IAAIL,EAAE/N,GAAI+N,IAE7B+C,EAAU9b,UAAUud,MAAQ,SAAUxE,GAC7ByE,KAAAA,SAASpE,IAAIL,EAAE/N,GAAI+N,IAE5B+C,EAAU9b,UAAUyd,MAAQ,WACpBC,IAAAA,EAAKtX,EAAIuX,EAAKxW,EACdkS,EAAQ,KACGoD,EAAN,KAAgBA,KAAMQ,EAAtB,KAA+CA,oBAAqBC,EAApE,KAAuFA,cAAeE,EAAtG,KAA8HA,mBACnIQ,EAAoB,CACpB5P,OAAQ9O,EAAkB2e,kBAAAA,SAC1BC,QAASb,EACTT,MAAOU,EACP9V,WAAYgW,EACZW,KAAM,IAENjH,EAAO,SAAUwF,EAAU0B,GACvBA,GACA3E,EAAMuD,YAAYZ,IAAIM,EAAStR,IAEnC4S,EAAkBpB,MAAQoB,EAAkBpB,MACvCpb,OAAO4c,EAAU,GAAK1B,EAASE,OAC/ByB,OAAO,SAAUzd,GAAY,OAAC6Y,EAAMuD,YAAY/E,IAAIrX,EAAEwK,MAC3D4S,EAAkBxW,WAAawW,EAAkBxW,WAC5ChG,OAAO4c,EAAU,GAAK1B,EAASlV,YAC/B6W,OAAO,SAAUzd,GAAY,OAAC6Y,EAAMuD,YAAY/E,IAAIrX,EAAEwK,MACtDqO,EAAMuD,YAAY/E,IAAIyE,EAAStR,KAC/BqO,EAAMuD,YAAY/E,IAAIyE,EAASL,SAASI,WACxC2B,EAODze,OAAOsQ,OAAOyM,EAASC,UAAUzW,QAAQ,SAAUlG,GAAYkX,OAAAA,EAAKlX,GAAG,MANvEge,EAAkBG,KAAK9c,KAAKqb,EAASL,UACjCK,EAASC,UACThd,OAAOsQ,OAAOyM,EAASC,UAAUzW,QAAQ,SAAUlG,GAAYkX,OAAAA,EAAKlX,GAAG,OAOnFL,OAAOsQ,OAAO4M,GAAM3W,QAAQ,SAAUlG,GAAYkX,OAAAA,EAAKlX,GAAG,KACtD,IACK,IAAA,IAAI+I,GAAK,EAAS,EAAA,UAAA,KAAK2U,UAAU3L,QAASzG,EAAKvC,EAAGlI,QAASyK,EAAGvK,KAAMuK,EAAKvC,EAAGlI,OAAQ,CACjFuK,IAAAA,EAAKE,EAAGxK,MACR,KAAKkc,YAAY/E,IAAI7M,IAChBsS,KAAAA,UAAUN,OAAOhS,IAIlC,MAAOkT,GAASR,EAAM,CAAExc,MAAOgd,GACvB,QACA,IACIhT,IAAOA,EAAGvK,OAASyF,EAAKuC,EAAGwV,SAAS/X,EAAGlG,KAAKyI,GAE5C,QAAM+U,GAAAA,EAAK,MAAMA,EAAIxc,OAE7B,IACK,IAAA,IAAIyK,GAAK,EAAS,EAAA,UAAA,KAAK6R,SAAS7L,QAAS3F,EAAKL,EAAGlL,QAASuL,EAAGrL,KAAMqL,EAAKL,EAAGlL,OAAQ,CAChFuK,EAAKgB,EAAGtL,MACR,KAAKkc,YAAY/E,IAAI7M,IAChBwS,KAAAA,SAASR,OAAOhS,IAIjC,MAAOoT,GAAST,EAAM,CAAEzc,MAAOkd,GACvB,QACA,IACIpS,IAAOA,EAAGrL,OAASwG,EAAKwE,EAAGwS,SAAShX,EAAGjH,KAAKyL,GAE5C,QAAMgS,GAAAA,EAAK,MAAMA,EAAIzc,OAE7Boc,IAAAA,EAAY,IAAIe,IAAI,KAAKf,WACzBE,EAAW,IAAIa,IAAI,KAAKb,UAErB,OADFzB,KAAAA,QACE,CACHuC,aAAcV,EACdN,UAAWA,EACXE,SAAUA,IAGlB1B,EAAU9b,UAAU+b,MAAQ,WACnBU,KAAAA,KAAO,GACPN,KAAAA,QAAU,IAAIkC,IACdpB,KAAAA,oBAAsB,GACtBC,KAAAA,cAAgB,GAChBE,KAAAA,mBAAqB,GACrBR,KAAAA,YAAc,IAAI2B,IAClBjB,KAAAA,UAAY,IAAIe,IAChBb,KAAAA,SAAW,IAAIa,KAEjBvC,EA3KM,GA6KjB,SAAS0C,EAAoBC,GACrBC,IAAAA,EAAKtY,EACLuY,EAAe,GACfC,EAAa,SAAUpe,EAAGgR,GACtBqN,IAAAA,EAAa,CACbne,MAAOF,EACPgR,OAAQA,EACR+K,SAAU,IAGPsC,OADPF,EAAane,EAAEoN,KAAK5C,IAAM6T,EACnBA,GAEPC,EAAiB,GACjB,IACK,IAAA,IAAIC,GAAU,EAASN,EAAAA,UAAAA,GAAQO,EAAYD,EAAQte,QAASue,EAAUre,KAAMqe,EAAYD,EAAQte,OAAQ,CACrGwb,IAAAA,EAAW+C,EAAUte,MACrBue,EAAShD,EAASgD,OAAQ5C,EAAWJ,EAASI,SAC9C4C,GAAAA,GAAUA,KAAUN,EAApBM,CACIC,IAAAA,EAAaP,EAAaM,GAC1BC,GAAAA,EAAW1N,OAAQ,CACf2N,IAAAA,EAAMD,EAAW1N,OAAO+K,SAASrZ,QAAQgc,GAC7CA,EAAW1N,OAAO+K,SAAS6C,OAAOD,EAAK,EAAGP,EAAW3C,EAAUiD,EAAW1N,aAEzE,CACG2N,EAAML,EAAe5b,QAAQgc,GACjCJ,EAAeM,OAAOD,EAAK,EAAGP,EAAW3C,EAAU,aAIvDI,GAAAA,KAAYsC,EAAZtC,CACIgD,IAAAA,EAAeV,EAAatC,GAChCgD,EAAa9C,SAAStb,KAAK2d,EAAW3C,EAAUoD,SAGpDP,EAAe7d,KAAK2d,EAAW3C,EAAU,QAGjD,MAAOqD,GAASZ,EAAM,CAAExd,MAAOoe,GACvB,QACA,IACIN,IAAcA,EAAUre,OAASyF,EAAK2Y,EAAQZ,SAAS/X,EAAGlG,KAAK6e,GAE/D,QAAML,GAAAA,EAAK,MAAMA,EAAIxd,OAE1B4d,OAAAA,EAEX,SAASS,EAAmB9C,EAAM+C,GAC9BA,EAAG/C,EAAK/b,OACH,IAAA,IAAIf,EAAI8c,EAAKF,SAASzc,OAAS,EAAGH,GAAK,EAAGA,IAC3C4f,EAAmB9C,EAAKF,SAAS5c,GAAI6f,GAE5C,QAAA,UAAA;;ACnCcC,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAlYf,IAAA,EAAA,QAAA,yCACA,EAAA,QAAA,0DACA,EAAA,QAAA,eAEA,SAASC,EAAmB9f,GACjB,MAAA,SAAUA,EAErB,IAAI+f,EAAoB,WACXA,SAAAA,IACA7f,KAAAA,OAAS,EACT8f,KAAAA,KAAO,KAoETD,OAlEPA,EAAiB3f,UAAUoc,IAAM,SAAU3O,GACnCA,GAAAA,GAAY,KAAK3N,OACX,MAAA,IAAIuO,MAAM,kCAGf,IADDwR,IAAAA,EAAU,KAAKD,KACVE,EAAQ,EAAGA,EAAQrS,EAAUqS,IAClCD,GAAWA,MAAAA,OAAyC,EAASA,EAAQpf,OAAS,KAE3Eof,OAAAA,GAEXF,EAAiB3f,UAAU+f,QAAU,SAAUngB,GACvCgO,IAAAA,EAAO,CACPlN,MAAOd,EACPsY,SAAU,KACVzX,KAAM,MAGNb,GADJA,EAAEogB,KAAOpS,EACLhO,EAAEqgB,iBAAmBP,EAAmB9f,EAAEqgB,iBAAkB,CACxDJ,IAAAA,EAAUjgB,EAAEqgB,gBAAgBD,KAAKvf,KACrCmN,EAAKnN,KAAOof,EACZjS,EAAKsK,SAAWtY,EAAEqgB,gBAAgBD,KAClCpgB,EAAEqgB,gBAAgBD,KAAKvf,KAAOmN,EAC1BiS,IACAA,EAAQ3H,SAAWtK,QAGtB,GAAIhO,EAAEsgB,aAAeR,EAAmB9f,EAAEsgB,aAAc,CACrDL,EAAUjgB,EAAEsgB,YAAYF,KAAK9H,SACjCtK,EAAKsK,SAAW2H,EAChBjS,EAAKnN,KAAOb,EAAEsgB,YAAYF,KAC1BpgB,EAAEsgB,YAAYF,KAAK9H,SAAWtK,EAC1BiS,IACAA,EAAQpf,KAAOmN,QAIf,KAAKgS,OACAA,KAAAA,KAAK1H,SAAWtK,GAEzBA,EAAKnN,KAAO,KAAKmf,KACZA,KAAAA,KAAOhS,EAEX9N,KAAAA,UAET6f,EAAiB3f,UAAUmgB,WAAa,SAAUvgB,GAC1CigB,IAAAA,EAAUjgB,EAAEogB,KACX,KAAKJ,OAGLC,EAAQ3H,UAOT2H,EAAQ3H,SAASzX,KAAOof,EAAQpf,KAC5Bof,EAAQpf,OACRof,EAAQpf,KAAKyX,SAAW2H,EAAQ3H,YAR/B0H,KAAAA,KAAOC,EAAQpf,KAChB,KAAKmf,OACAA,KAAAA,KAAK1H,SAAW,OASzBtY,EAAEogB,aACKpgB,EAAEogB,KAERlgB,KAAAA,WAEF6f,EAvEa,GAyEpBS,EAAU,SAAUpV,EAAIqR,GAAmBrR,OAAAA,EAAK,IAAMqR,GAC1D,SAASgE,EAAQzgB,GACN,MAAA,SAAUA,EAErB,IAAI6f,EAAkB,WACTA,SAAAA,IACDpG,IAAAA,EAAQ,KACPiH,KAAAA,QAAS,EACT9D,KAAAA,MAAQ,GACRpV,KAAAA,WAAa,GACb0W,KAAAA,QAAU,GACVyC,KAAAA,WAAa,GACbC,KAAAA,SAAW,GACXC,KAAAA,SAAW,IAAIlC,IACfmC,KAAAA,SAAW,IAAInC,IACfoC,KAAAA,WAAa,IAAIpC,IACjBqC,KAAAA,iBAAmB,SAAUC,GAC9BA,EAAU/a,QAAQuT,EAAMyH,iBACnBzH,EAAMiH,QACPjH,EAAM0H,QAGTA,KAAAA,KAAO,WA4CD1H,IA3CHqE,IAAAA,EAAKtX,EAAIuX,EAAKxW,EACd4W,EAAO,GACPiD,EAAU,IAAIrB,EACdsB,EAAY,SAAUrhB,GAGfqf,IAFHiC,IAAAA,EAAKthB,EACLqf,EAASxd,EAAb,aACOwd,IAAWxd,EAAlB,cAEIwd,GADAiC,EAAKA,GAAMA,EAAGhB,cACCzI,EAAOC,OAAAA,MAAMwJ,GAKzBjC,OAHS,IAAZA,IAAiB,EAAUrf,EAAAA,WAAAA,EAAEsgB,YAAa7G,EAAM3T,cAChDuZ,EAAS,MAENA,GAEPkC,EAAU,SAAUvhB,GAChB,GAACA,EAAE2J,YAAewH,SAASlL,SAASjG,GAApC,CAGAyc,IAAAA,EAAW5E,EAAOC,OAAAA,MAAM9X,EAAE2J,YAC1B0V,EAASgC,EAAUrhB,GACnByc,IAAc,IAAdA,IAA+B,IAAZ4C,EACZ+B,OAAAA,EAAQjB,QAAQngB,GAEvBqK,IAAAA,GAAK,EAAoBrK,EAAAA,qBAAAA,EAAG,CAC5B6E,IAAKsM,SACLvO,IAAKiV,EAAOjV,OAAAA,IACZkD,WAAY2T,EAAM3T,WAClBC,cAAe0T,EAAM1T,cACrBsF,WAAW,EACX9E,iBAAkBkT,EAAMlT,iBACxBE,iBAAkBgT,EAAMhT,iBACxB6D,eAAgBmP,EAAMnP,eACtB5D,aAAc+S,EAAM/S,eAEpB2D,GACA8T,EAAK9c,KAAK,CACNob,SAAUA,EACV4C,OAAQA,EACRrR,KAAM3D,MAIXoP,EAAMkH,WAAWzgB,QACb8X,EAAAA,OAAAA,kBAAkByB,EAAMkH,WAAWa,SAE1C,IACK,IAAA,IAAI/Z,GAAK,EAASgS,EAAAA,UAAAA,EAAMqH,UAAW/X,EAAKtB,EAAG5G,QAASkI,EAAGhI,KAAMgI,EAAKtB,EAAG5G,OAAQ,CAC1Eb,IAAAA,EAAI+I,EAAGjI,MACP2gB,EAAgBhI,EAAMyE,QAASle,KAC9ByZ,EAAMqH,SAAS7I,IAAIjY,EAAE2J,aAG1B4X,EAAQvhB,IAGhB,MAAOse,GAASR,EAAM,CAAExc,MAAOgd,GACvB,QACA,IACIvV,IAAOA,EAAGhI,OAASyF,EAAKiB,EAAG8W,SAAS/X,EAAGlG,KAAKmH,GAE5C,QAAMqW,GAAAA,EAAK,MAAMA,EAAIxc,OAE7B,IACK,IAAA,IAAIgK,GAAK,EAASmO,EAAAA,UAAAA,EAAMoH,UAAW9U,EAAKT,EAAGzK,QAASkL,EAAGhL,KAAMgL,EAAKT,EAAGzK,OAAQ,CAC1Eb,EAAI+L,EAAGjL,MACN4gB,EAAgBjI,EAAMsH,WAAY/gB,IAClCyhB,EAAgBhI,EAAMyE,QAASle,GAG3B0hB,EAAgBjI,EAAMqH,SAAU9gB,GACrCuhB,EAAQvhB,GAGRyZ,EAAMsH,WAAW3E,IAAIpc,GANrBuhB,EAAQvhB,IAUpB,MAAOwe,GAAST,EAAM,CAAEzc,MAAOkd,GACvB,QACA,IACIzS,IAAOA,EAAGhL,OAASwG,EAAK+D,EAAGiT,SAAShX,EAAGjH,KAAKgL,GAE5C,QAAMyS,GAAAA,EAAK,MAAMA,EAAIzc,OAG1B8f,IADHO,IAAAA,EAAY,KACTP,EAAQlhB,QAAQ,CACf8N,IAAAA,EAAO,KACP2T,GAAAA,EAAW,CACPlF,IAAAA,EAAW5E,EAAOC,OAAAA,MAAM6J,EAAU7gB,MAAM6I,YACxC0V,EAASgC,EAAUM,EAAU7gB,QACf,IAAd2b,IAA+B,IAAZ4C,IACnBrR,EAAO2T,GAGX,IAAC3T,EACI,IAAA,IAAIkS,EAAQkB,EAAQlhB,OAAS,EAAGggB,GAAS,EAAGA,IAAS,CAClD0B,IAAAA,EAAQR,EAAQ5E,IAAI0D,GACpBzD,EAAW5E,EAAOC,OAAAA,MAAM8J,EAAM9gB,MAAM6I,YACpC0V,EAASgC,EAAUO,EAAM9gB,OACzB2b,IAAc,IAAdA,IAA+B,IAAZ4C,EAAe,CAClCrR,EAAO4T,EACP,OAIR,IAAC5T,EAAM,CACAoT,KAAAA,EAAQpB,MACXoB,EAAQb,WAAWa,EAAQpB,KAAKlf,OAEpC,MAEJ6gB,EAAY3T,EAAKsK,SACjB8I,EAAQb,WAAWvS,EAAKlN,OACxBygB,EAAQvT,EAAKlN,OAEb+gB,IAAAA,EAAU,CACVjF,MAAOnD,EAAMmD,MACRha,IAAI,SAAUmK,GAAgB,MAAA,CAC/B3B,GAAIyM,EAAOC,OAAAA,MAAM/K,EAAKiB,MACtBlN,MAAOiM,EAAKjM,SAEXud,OAAO,SAAUtR,GAAe8K,OAAAA,EAAOI,OAAAA,IAAIlL,EAAK3B,MACrD5D,WAAYiS,EAAMjS,WACb5E,IAAI,SAAU2a,GAAqB,MAAA,CACpCnS,GAAIyM,EAAOC,OAAAA,MAAMyF,EAAUvP,MAC3BxG,WAAY+V,EAAU/V,cAErB6W,OAAO,SAAUd,GAAoB1F,OAAAA,EAAOI,OAAAA,IAAIsF,EAAUnS,MAC/D8S,QAASzE,EAAMyE,QACfC,KAAMA,IAEL0D,EAAQjF,MAAM1c,QACd2hB,EAAQra,WAAWtH,QACnB2hB,EAAQ3D,QAAQhe,QAChB2hB,EAAQ1D,KAAKje,UAGlBuZ,EAAMmD,MAAQ,GACdnD,EAAMjS,WAAa,GACnBiS,EAAMyE,QAAU,GAChBzE,EAAMoH,SAAW,IAAIlC,IACrBlF,EAAMqH,SAAW,IAAInC,IACrBlF,EAAMsH,WAAa,IAAIpC,IACvBlF,EAAMmH,SAAW,GACjBnH,EAAMqI,iBAAiBD,KAEtBX,KAAAA,gBAAkB,SAAUtgB,GACzB,KAAA,EAAUA,EAAAA,WAAAA,EAAE4W,QAGR5W,OAAAA,EAAEiG,MACD,IAAA,gBACG/F,IAAAA,EAAQF,EAAE4W,OAAOvP,aAChB,EAAUrH,EAAAA,WAAAA,EAAE4W,OAAQiC,EAAM3T,aAAehF,IAAUF,EAAEmhB,UACtDtI,EAAMmD,MAAMvb,KAAK,CACbP,MAAOA,EACPkN,KAAMpN,EAAE4W,SAGhB,MAEC,IAAA,aACG1W,EAAQF,EAAE4W,OAAOwK,aAAaphB,EAAEqhB,eAChC,IAAA,EAAUrhB,EAAAA,WAAAA,EAAE4W,OAAQiC,EAAM3T,aAAehF,IAAUF,EAAEmhB,SACrD,OAEAG,IAAAA,EAAOzI,EAAMjS,WAAWI,KAAK,SAAUvC,GAAYA,OAAAA,EAAE2I,OAASpN,EAAE4W,SAC/D0K,IACDA,EAAO,CACHlU,KAAMpN,EAAE4W,OACRhQ,WAAY,IAEhBiS,EAAMjS,WAAWnG,KAAK6gB,IAE1BA,EAAK1a,WAAW5G,EAAEqhB,gBAAiB,EAAmB9Q,EAAAA,oBAAAA,SAAUvQ,EAAEqhB,cAAenhB,GACjF,MAEC,IAAA,YACDF,EAAEuhB,WAAWjc,QAAQ,SAAUlG,GAAYyZ,OAAAA,EAAM2I,QAAQpiB,EAAGY,EAAE4W,UAC9D5W,EAAEyhB,aAAanc,QAAQ,SAAUlG,GACzBsiB,IAAAA,EAASzK,EAAOC,OAAAA,MAAM9X,GACtByc,EAAW5E,EAAOC,OAAAA,MAAMlX,EAAE4W,SAC1B,EAAUxX,EAAAA,WAAAA,EAAGyZ,EAAM3T,cACnB,EAAUlF,EAAAA,WAAAA,EAAE4W,OAAQiC,EAAM3T,cAC1B,EAAU9F,EAAAA,WAAAA,KAGVyZ,EAAMoH,SAAS5I,IAAIjY,IACnBuiB,EAAW9I,EAAMoH,SAAU7gB,GAC3ByZ,EAAMsH,WAAW3E,IAAIpc,IAEhByZ,EAAMoH,SAAS5I,IAAIrX,EAAE4W,UAAuB,IAAZ8K,IAChC,EAAkB1hB,EAAAA,mBAAAA,EAAE4W,UACpBiC,EAAMqH,SAAS7I,IAAIjY,IACxByZ,EAAMmH,SAASJ,EAAQ8B,EAAQ7F,IAC/B8F,EAAW9I,EAAMqH,SAAU9gB,GAG3ByZ,EAAMyE,QAAQ7c,KAAK,CACfob,SAAUA,EACVrR,GAAIkX,KAGZ7I,EAAMkH,WAAWtf,KAAKrB,QAMjCoiB,KAAAA,QAAU,SAAUpiB,EAAGwX,GACpB,MAAA,EAAUxX,EAAAA,WAAAA,EAAGyZ,EAAM3T,aAGnB0R,IAAU,EAAUA,EAAAA,WAAAA,EAAQiC,EAAM3T,aAAlC0R,CAGAiJ,GAAAA,EAAQzgB,GAAI,CACR,IAAA,EAAUA,EAAAA,WAAAA,GACV,OAEJyZ,EAAMqH,SAAS1E,IAAIpc,GACfwiB,IAAAA,EAAW,KACXhL,GAAUiJ,EAAQjJ,KAClBgL,EAAWhL,EAAO7L,KAAKP,IAEvBoX,IACA/I,EAAMmH,SAASJ,EAAQxgB,EAAE2L,KAAKP,GAAIoX,KAAa,QAInD/I,EAAMoH,SAASzE,IAAIpc,GACnByZ,EAAMsH,WAAW3D,OAAOpd,GAE5BA,EAAE+G,WAAWb,QAAQ,SAAU8F,GAAiByN,OAAAA,EAAM2I,QAAQpW,OAqB/D6T,OAlBPA,EAAezf,UAAUqiB,KAAO,SAAU7C,EAAI9Z,EAAYC,EAAeQ,EAAkBE,EAAkBC,EAAc4D,GAClHxE,KAAAA,WAAaA,EACbC,KAAAA,cAAgBA,EAChBQ,KAAAA,iBAAmBA,EACnBE,KAAAA,iBAAmBA,EACnBC,KAAAA,aAAeA,EACf4D,KAAAA,eAAiBA,EACjBwX,KAAAA,iBAAmBlC,GAE5BC,EAAezf,UAAUsiB,OAAS,WACzBhC,KAAAA,QAAS,GAElBb,EAAezf,UAAUuiB,SAAW,WAC3BjC,KAAAA,QAAS,GAElBb,EAAezf,UAAUwiB,SAAW,WACzB,OAAA,KAAKlC,QAETb,EAlRW,GAoRtB,SAAS0C,EAAWM,EAAS7iB,GACzB6iB,EAAQzF,OAAOpd,GACfA,EAAE+G,WAAWb,QAAQ,SAAU8F,GAAiBuW,OAAAA,EAAWM,EAAS7W,KAExE,SAASyV,EAAgBvD,EAASle,GAC1B2J,IAAAA,EAAa3J,EAAE2J,WACf,IAACA,EACM,OAAA,EAEP8S,IAAAA,EAAW5E,EAAOC,OAAAA,MAAMnO,GACxBuU,QAAAA,EAAQ4E,KAAK,SAAU5hB,GAAYA,OAAAA,EAAEkK,KAAOqR,KAGzCgF,EAAgBvD,EAASvU,GAEpC,SAAS+X,EAAgBlI,EAAKxZ,GACtB2J,IAAAA,EAAa3J,EAAE2J,WACf,QAACA,MAGD6P,EAAIvB,IAAItO,IAGL+X,EAAgBlI,EAAK7P,IAGjBkW,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;ACvSd,aA3FD,SAASkD,EAAe/U,GAChB,IAACA,IAASA,EAAKgV,UACR,MAAA,GAGJhV,IADHiV,IAAAA,EAAO,GACJjV,EAAK3F,eAAe,CACnB1C,IAAAA,EAAOqI,EAAKkV,UACZ,IAACvd,EACD,MACJA,EAAOA,EAAKvD,cACRwP,IAAAA,EAAS5D,EAAK3F,cACd8a,EAAc,GACdvR,GAAAA,EAAO+K,UAAY/K,EAAO+K,SAASzc,OAAS,EACvC,IAAA,IAAIH,EAAI,EAAGA,EAAI6R,EAAO+K,SAASzc,OAAQH,IAAK,CACzCqjB,IAAAA,EAAUxR,EAAO+K,SAAS5c,GAC1BqjB,EAAQF,WAAaE,EAAQF,UAAU9gB,aACnCghB,EAAQF,UAAU9gB,gBAAkBuD,GACpCwd,EAAY9hB,KAAK+hB,GAK7BD,EAAYjjB,OAAS,IACrByF,GAAQ,OAASwd,EAAY7f,QAAQ0K,GAAQ,KAEjDiV,EAAOtd,GAAQsd,EAAO,IAAMA,EAAO,IACnCjV,EAAO4D,EAEJqR,OAAAA,EAEX,SAASI,EAAU1R,EAAK2R,GAChBhd,IAAAA,EAAU,CACVid,eAAgB,IAEpB5jB,OAAOC,OAAO0G,EAASgd,GACnBhf,IAAAA,EAAQ,GAAIyN,EAAO,GAChByR,OAAAA,KAAKH,UAAU1R,EAAK,SAAUsF,EAAKnW,GAClCwD,GAAAA,EAAMpE,OAAS,EAAG,CACdujB,IAAAA,EAAUnf,EAAMhB,QAAQ,OAC3BmgB,EAAUnf,EAAMkb,OAAOiE,EAAU,GAAKnf,EAAMjD,KAAK,OACjDoiB,EAAU1R,EAAKyN,OAAOiE,EAASC,EAAAA,EAAUzM,GAAOlF,EAAK1Q,KAAK4V,IACtD3S,EAAMhB,QAAQxC,KAEXA,EADAwD,EAAM,KAAOxD,EACL,eAGJ,eACIiR,EAAKvO,MAAM,EAAGc,EAAMhB,QAAQxC,IAAQgC,KAAK,KACzC,UAIhBwB,EAAMjD,KAAKP,GACXA,GAAAA,MAAAA,EACA,OAAOA,EACP6iB,GAsBe,iBADChS,EArBD7Q,IAuBfnB,OAAOoS,KAAKJ,GAAKzR,OAASoG,EAAQid,gBAEnB,mBAAR5R,EAxBAiS,OA4BNA,SAASjS,GACVjE,IAAAA,EAAMiE,EAAIiS,WACVtd,EAAQud,mBAAqBnW,EAAIxN,OAASoG,EAAQud,oBAClDnW,EAAMA,EAAIlK,MAAM,EAAG8C,EAAQud,mBAAqB,OAE7CnW,OAAAA,EAjCIkW,CAAS9iB,GAoBf6iB,IAAehS,EAlBhB7Q,GAAAA,aAAiBgjB,MAAO,CACpBC,IAAAA,EAAc,GACb,IAAA,IAAIC,KAASljB,EAAO,CACjBmjB,IAAAA,EAAanjB,EAAMkjB,GACnBthB,MAAMuP,QAAQgS,GACdF,EAAYC,GAASjB,EAAekB,EAAW/jB,OAAS+jB,EAAW,GAAK,MAExEF,EAAYC,GAASC,EAEtBF,OAAAA,EAEN,OAAIjjB,aAAiBojB,KAClBpjB,aAAiBqjB,YACVrjB,EAAQA,EAAMkiB,UAAY,GAC9BliB,EAAMsjB,SAEVtjB,IAiBd,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA;;AC0gBA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,EAAA,QAAA,eAAA,QAAA,gBAAA,EArmBD,IAAA,EAAA,QAAA,yCACA,EAAA,QAAA,eACA,EAAA,QAAA,eACA,EAAA,EAAA,QAAA,kBACA,EAAA,QAAA,kBAimBC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA/lBD,IAAIujB,EAAiB,IAAIxE,EAAJ,QACrB,SAASyE,EAAqB1E,EAAI9Z,EAAYC,EAAeQ,EAAkBE,EAAkBC,EAAc4D,GAC3G+Z,EAAe5B,KAAK7C,EAAI9Z,EAAYC,EAAeQ,EAAkBE,EAAkBC,EAAc4D,GACjGia,IAAAA,EAAW,IAAIC,iBAAiBH,EAAerD,iBAAiByD,KAAKJ,IASlEE,OARPA,EAASG,QAAQvT,SAAU,CACvB3J,YAAY,EACZmd,mBAAmB,EACnBC,eAAe,EACfC,uBAAuB,EACvBC,WAAW,EACXC,SAAS,IAENR,EAEX,SAASS,EAAiBpF,EAAIqF,GACtBA,IAAuB,IAAvBA,EAASC,UACF,OAAA,aAEPC,IAEAC,EAFAD,EAA0C,iBAAvBF,EAASC,UAAyBD,EAASC,UAAY,GAC1EG,EAAY,GAEZC,GAAY,EAAS,EAAA,UAAA,SAAUC,GAC3BC,IAAAA,EAAc/M,KAAKD,MAAQ4M,EAC/BxF,EAAGyF,EAAUziB,IAAI,SAAUzC,GAEhBA,OADPA,EAAEslB,YAAcD,EACTrlB,IACPolB,EAAUjmB,EAAkBsc,kBAAAA,UAAYtc,EAAkBoc,kBAAAA,WAC9D2J,EAAY,GACZD,EAAe,MAChB,KACC3X,GAAiB,EAAS,EAAA,UAAA,SAAUiY,GAChClO,IAAAA,EAASkO,EAAIlO,OACbhR,GAAK,EAAakf,EAAAA,cAAAA,GAChBA,EAAI3K,eAAe,GACnB2K,EAAKC,EAAUnf,EAAGmf,QAASC,EAAUpf,EAAGof,QACzCR,IACDA,EAAe3M,KAAKD,OAExB6M,EAAUhkB,KAAK,CACXwkB,EAAGF,EACHG,EAAGF,EACHxa,GAAIyM,EAAOC,OAAAA,MAAMN,GACjBiO,WAAYhN,KAAKD,MAAQ4M,IAE7BE,GAAU,EAAaI,EAAAA,cAAAA,KACxBP,EAAW,CACVnM,UAAU,IAEV+M,EAAW,EACX,EAAG,EAAA,IAAA,YAAatY,IAChB,EAAG,EAAA,IAAA,YAAaA,IAEb,OAAA,WACHsY,EAAS7f,QAAQ,SAAU8f,GAAYA,OAAAA,OAG/C,SAASC,EAA6BrG,EAAI9Z,EAAYmf,GAC9CA,IAA8B,IAA9BA,EAASiB,iBACF,OAAA,aAEPC,IAAAA,GAA2C,IAA9BlB,EAASiB,uBACQ1c,IAA9Byb,EAASiB,iBACP,GACAjB,EAASiB,iBACXH,EAAW,GA6BR,OAXPpmB,OAAOoS,KAAKxS,EAAZ,mBACK8e,OAAO,SAAUpH,GACXmP,OAAAA,OAAOC,MAAMD,OAAOnP,MACtBA,EAAIqP,SAAS,eACM,IAApBH,EAAWlP,KAEd/Q,QAAQ,SAAUqgB,GACfC,IAAAA,EAAYD,EAASnkB,cACrBqkB,EAzBS,SAAUF,GAChB,OAAA,SAAU1L,GACT,KAAA,EAAUA,EAAAA,WAAAA,EAAMrD,OAAQ1R,GAAxB,CAGAsF,IAAAA,EAAKyM,EAAOC,OAAAA,MAAM+C,EAAMrD,QACxBhR,GAAK,EAAaqU,EAAAA,cAAAA,GAChBA,EAAME,eAAe,GACrBF,EAAO8K,EAAUnf,EAAGmf,QAASC,EAAUpf,EAAGof,QAChDhG,EAAG,CACC/Y,KAAMtH,EAAkBgnB,kBAAAA,GACxBnb,GAAIA,EACJya,EAAGF,EACHG,EAAGF,MAYGc,CAAWH,GACzBR,EAAS1kB,MAAK,EAAGmlB,EAAAA,IAAAA,EAAWC,MAEzB,WACHV,EAAS7f,QAAQ,SAAU8f,GAAYA,OAAAA,OAG/C,SAASW,EAAmB/G,EAAI9Z,EAAYmf,GACpCxX,IAAAA,GAAiB,EAAS,EAAA,UAAA,SAAUiY,GAChC,GAACA,EAAIlO,UAAU,EAAUkO,EAAAA,WAAAA,EAAIlO,OAAQ1R,GAArC,CAGAsF,IAAAA,EAAKyM,EAAOC,OAAAA,MAAM4N,EAAIlO,QACtBkO,GAAAA,EAAIlO,SAAWrG,SAAU,CACrByV,IAAAA,EAAYzV,SAAS0V,kBAAoB1V,SAAS+I,gBACtD0F,EAAG,CACCxU,GAAIA,EACJya,EAAGe,EAASje,WACZmd,EAAGc,EAAS/d,iBAIhB+W,EAAG,CACCxU,GAAIA,EACJya,EAAGH,EAAIlO,OAAO7O,WACdmd,EAAGJ,EAAIlO,OAAO3O,cAGvBoc,EAASxH,QAAU,KACf,OAAA,EAAG,EAAA,IAAA,SAAUhQ,GAExB,SAASqZ,EAA2BlH,GAC5BmH,IAAAA,GAAU,EACVC,GAAU,EACVC,GAAkB,EAAS,EAAA,UAAA,WACvB/d,IAAAA,GAAS,EAAb,EAAA,mBACID,GAAQ,EAAZ,EAAA,kBACI8d,IAAW7d,GAAU8d,GAAU/d,IAC/B2W,EAAG,CACC3W,MAAOmd,OAAOnd,GACdC,OAAQkd,OAAOld,KAEnB6d,EAAS7d,EACT8d,EAAS/d,IAEd,KACI,OAAA,EAAG,EAAA,IAAA,SAAUge,EAAiBnO,QAudxC,QAAA,eAAA,EArdD,IAAIoO,EAAa,CAAC,QAAS,WAAY,UAqdtC,QAAA,WAAA,EApdD,IAAIC,EAAoB,IAAIC,QAC5B,SAASC,EAAkBzH,EAAI9Z,EAAYwhB,EAAa7gB,EAAkB8gB,EAAatC,GAC1EuC,SAAAA,EAAa3M,GACdrD,IAAAA,EAASqD,EAAMrD,OACf,GAACA,GACAA,EAAOrV,WACR+kB,EAAW5jB,QAAQkU,EAAOrV,SAAW,MACrC,EAAUqV,EAAAA,WAAAA,EAAQ1R,GAHlB,CAMAe,IAAAA,EAAO2Q,EAAO3Q,KACdA,GAAS,aAATA,IACA2Q,EAAOxR,UAAUC,SAASqhB,GAD1BzgB,CAIAkG,IAAAA,EAAOyK,EAAO1W,MACd2mB,GAAY,EACH,UAAT5gB,GAA6B,aAATA,EACpB4gB,EAAYjQ,EAAOrP,SAEd1B,EAAiB+Q,EAAOrV,QAAQC,gBACrCqE,EAAiBI,MAEbkG,EADAwa,EACOA,EAAYxa,GAGZ,IAAI7E,OAAO6E,EAAK7M,SAG/BwnB,EAAYlQ,EAAQ,CAAEzK,KAAMA,EAAM0a,UAAWA,IACzC9hB,IAAAA,EAAO6R,EAAO7R,KACL,UAATkB,GAAoBlB,GAAQ8hB,GAC5BtW,SACKwW,iBAAiB,6BAAkChiB,EAAO,MAC1DO,QAAQ,SAAUV,GACfA,IAAOgS,GACPkQ,EAAYliB,EAAI,CACZuH,KAAMvH,EAAG1E,MACT2mB,WAAYA,QAMvBC,SAAAA,EAAYlQ,EAAQtF,GACrB0V,IAAAA,EAAiBT,EAAkB3K,IAAIhF,GACvC,IAACoQ,GACDA,EAAe7a,OAASmF,EAAEnF,MAC1B6a,EAAeH,YAAcvV,EAAEuV,UAAW,CAC1CN,EAAkB3N,IAAIhC,EAAQtF,GAC1B9G,IAAAA,EAAKyM,EAAOC,OAAAA,MAAMN,GACtBoI,GAAG,EAAS,EAAA,WAAA,EAAS,EAAA,UAAA,GAAI1N,GAAI,CAAE9G,GAAIA,MAGvCyc,IACA9B,GAD4B,SAAnBd,EAAStH,MAAmB,CAAC,UAAY,CAAC,QAAS,WAC1C/a,IAAI,SAAU4jB,GAAoB,OAAA,EAAGA,EAAAA,IAAAA,EAAWgB,KAClEM,EAAqBnoB,OAAO4Z,yBAAyBwO,iBAAiB3nB,UAAW,SACjF4nB,EAAiB,CACjB,CAACD,iBAAiB3nB,UAAW,SAC7B,CAAC2nB,iBAAiB3nB,UAAW,WAC7B,CAAC6nB,kBAAkB7nB,UAAW,SAC9B,CAAC8nB,oBAAoB9nB,UAAW,SAChC,CAAC6nB,kBAAkB7nB,UAAW,kBAW3B,OATH0nB,GAAsBA,EAAmBtO,KACzCuM,EAAS1kB,KAAKd,MAAMwlB,GAAU,EAASiC,EAAAA,UAAAA,EAAeplB,IAAI,SAAUzC,GACzD,OAAA,EAAWA,EAAAA,YAAAA,EAAE,GAAIA,EAAE,GAAI,CAC1BqZ,IAAK,WACDgO,EAAa,CAAEhQ,OAAQ,cAKhC,WACHuO,EAAS7f,QAAQ,SAAU8f,GAAYA,OAAAA,OAG/C,SAASmC,EAAuBvI,GACxBwI,IAAAA,EAAaC,cAAcjoB,UAAUgoB,WACzCC,cAAcjoB,UAAUgoB,WAAa,SAAUrlB,EAAMmd,GAC7C9U,IAAAA,EAAKyM,EAAOC,OAAAA,MAAM,KAAKwQ,WAOpBF,OANK,IAARhd,GACAwU,EAAG,CACCxU,GAAIA,EACJ+S,KAAM,CAAC,CAAEpb,KAAMA,EAAMmd,MAAOA,MAG7BkI,EAAW7nB,MAAM,KAAMN,YAE9BsoB,IAAAA,EAAaF,cAAcjoB,UAAUmoB,WAWlC,OAVPF,cAAcjoB,UAAUmoB,WAAa,SAAUrI,GACvC9U,IAAAA,EAAKyM,EAAOC,OAAAA,MAAM,KAAKwQ,WAOpBC,OANK,IAARnd,GACAwU,EAAG,CACCxU,GAAIA,EACJ8S,QAAS,CAAC,CAAEgC,MAAOA,MAGpBqI,EAAWhoB,MAAM,KAAMN,YAE3B,WACHooB,cAAcjoB,UAAUgoB,WAAaA,EACrCC,cAAcjoB,UAAUmoB,WAAaA,GAG7C,SAASC,EAA6BC,EAAoB3iB,GAClD2gB,IAAAA,EAAU,SAAU5f,GAAe,OAAA,SAAUgU,GACzCrD,IAAAA,EAASqD,EAAMrD,OACdA,KAAU,EAAUA,EAAAA,WAAAA,EAAQ1R,IAGjC2iB,EAAmB,CACf5hB,KAAe,SAATA,EAAkBrH,EAAkBkpB,kBAAAA,KAAOlpB,EAAkBmpB,kBAAAA,MACnEvd,GAAIyM,EAAOC,OAAAA,MAAMN,OAGrBuO,EAAW,EAAC,EAAG,EAAA,IAAA,OAAQU,EAAQ,UAAU,EAAG,EAAA,IAAA,QAASA,EAAQ,WAC1D,OAAA,WACHV,EAAS7f,QAAQ,SAAU8f,GAAYA,OAAAA,OAG/C,SAAS4C,EAA2BhJ,EAAI9Z,GAChCgY,IAAAA,EAAKtX,EACLqiB,EAAQlpB,OAAOmpB,oBAAoBC,yBAAyB3oB,WAC5D2lB,EAAW,GACXvQ,EAAU,SAAU/F,GAChB,IACI,GAAoD,mBAA7CsZ,yBAAyB3oB,UAAUqP,GACnC,MAAA,WAEPuZ,IAAAA,GAAiB,EAAMD,EAAAA,OAAAA,yBAAyB3oB,UAAWqP,EAAM,SAAU6J,GACpE,OAAA,WAGE,IAFDG,IAAAA,EAAQ,KACRZ,EAAO,GACFpU,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCoU,EAAKpU,GAAMxE,UAAUwE,GAkBlB6U,OAhBF,EAAU,EAAA,WAAA,KAAK2P,OAAQnjB,IACxBmT,WAAW,WACHiQ,IAAAA,GAAa,EAASrQ,EAAAA,UAAAA,GACb,cAATpJ,GACIyZ,EAAW,IACXA,EAAW,aAAcC,oBACzBD,EAAW,GAAKA,EAAW,GAAG1gB,aAGtCoX,EAAG,CACCxU,GAAIyM,EAAOC,OAAAA,MAAM2B,EAAMwP,QACvBne,SAAU2E,EACVoJ,KAAMqQ,KAEX,GAEA5P,EAAS/Y,MAAM,KAAMsY,MAGpCkN,EAAS1kB,KAAK2nB,GAElB,MAAOxiB,GACC4iB,IAAAA,GAAc,EAAWL,EAAAA,YAAAA,yBAAyB3oB,UAAWqP,EAAM,CACnE+J,IAAK,SAAUtH,GACX0N,EAAG,CACCxU,GAAIyM,EAAOC,OAAAA,MAAM,KAAKmR,QACtBne,SAAU2E,EACVoJ,KAAM,CAAC3G,GACPmX,QAAQ,OAIpBtD,EAAS1kB,KAAK+nB,KAGlB,IACK,IAAA,IAAIE,GAAU,EAAST,EAAAA,UAAAA,GAAQU,EAAYD,EAAQzoB,QAAS0oB,EAAUxoB,KAAMwoB,EAAYD,EAAQzoB,OAAQ,CAEzG2U,EADW+T,EAAUzoB,QAI7B,MAAOwd,GAASR,EAAM,CAAExc,MAAOgd,GACvB,QACA,IACIiL,IAAcA,EAAUxoB,OAASyF,EAAK8iB,EAAQ/K,SAAS/X,EAAGlG,KAAKgpB,GAE/D,QAAMxL,GAAAA,EAAK,MAAMA,EAAIxc,OAE1B,OAAA,WACHykB,EAAS7f,QAAQ,SAAU8f,GAAYA,OAAAA,OAG/C,SAASwD,EAAiB5J,GAClBmG,IAAAA,EAAW,GACX0D,EAAU,IAAIrC,QACdsC,EAAmBC,SACvB7Q,OAAO6Q,SAAW,SAAkBC,EAAQxb,EAAQyb,GAC5CC,IAAAA,EAAW,IAAIJ,EAAiBE,EAAQxb,EAAQyb,GAU7CC,OATPL,EAAQjQ,IAAIsQ,EAAU,CAClBF,OAAQA,EACRG,OAA0B,iBAAX3b,EACfyb,YAAaA,EACbG,WAA8B,iBAAX5b,EACbA,EAEEoV,KAAKH,UAAU3gB,MAAMC,KAAK,IAAIsnB,WAAW7b,OAE9C0b,GAEPd,IAAAA,GAAiB,EAAM7X,EAAAA,OAAAA,SAAS+Y,MAAO,MAAO,SAAU5Q,GACjD,OAAA,SAAUwQ,GAQNxQ,OAPPL,WAAW,WACH9Y,IAAAA,EAAIspB,EAAQjN,IAAIsN,GAChB3pB,IACAyf,EAAGzf,GACHspB,EAAQrM,OAAO0M,KAEpB,GACIxQ,EAAS/Y,MAAM,KAAM,CAACupB,OAO9B,OAJP/D,EAAS1kB,KAAK,WACVyX,OAAOqR,QAAUT,IAErB3D,EAAS1kB,KAAK2nB,GACP,WACHjD,EAAS7f,QAAQ,SAAU8f,GAAYA,OAAAA,OAG/C,SAASoE,EAAgBxK,EAAIyK,GACrBtM,IAAAA,EAAKvX,EACLiT,EAAQ,KACR6Q,EAASD,EAAWC,OACpB,IAACA,EACD,OAAO,aACPC,IAAAA,EAAW,EACXC,EAAiB,GACjBH,GAAAA,EAAWI,MAAMC,SAAS,UACtB5R,OAAQ,CACJ6R,IAAAA,EAAoB7R,OAAO8R,QAC/B9R,OAAO8R,QAAU,WAER,IADD/R,IAAAA,EAAO,GACFpU,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCoU,EAAKpU,GAAMxE,UAAUwE,GAEzBkmB,GAAqBA,EAAkBpqB,MAAMkZ,EAAOZ,GAChDvU,IAAAA,EAAQ,GACRuU,EAAKA,EAAK3Y,OAAS,aAAcuO,QACjCnK,EAAQumB,EAAWhS,EAAKA,EAAK3Y,OAAS,GAAGoE,MAAO,IAChDud,IAAAA,EAAU,EAAC,EAAUhJ,EAAAA,WAAAA,EAAK,GAAIwR,EAAW/G,mBAC7C1D,EAAG,CACC6K,MAAO,QACPK,MAAOxmB,EACPud,QAASA,KAGjB2I,EAAenpB,KAAK,WAChByX,OAAO8R,QAAUD,IAIzB,IACK,IAAA,IAAIpjB,GAAK,EAAS8iB,EAAAA,UAAAA,EAAWI,OAAQhjB,EAAKF,EAAG1G,QAAS4G,EAAG1G,KAAM0G,EAAKF,EAAG1G,OAAQ,CAC5EkqB,IAAAA,EAAYtjB,EAAG3G,MACnB0pB,EAAenpB,KAAKyC,EAAQwmB,EAAQS,KAG5C,MAAOvM,GAAST,EAAM,CAAEzc,MAAOkd,GACvB,QACA,IACI/W,IAAOA,EAAG1G,OAASyF,EAAKe,EAAGgX,SAAS/X,EAAGlG,KAAKiH,GAE5C,QAAMwW,GAAAA,EAAK,MAAMA,EAAIzc,OAE1B,OAAA,WACHkpB,EAAetkB,QAAQ,SAAU8f,GAAYA,OAAAA,OAExCliB,SAAAA,EAAQwmB,EAAQG,GACjBhR,IAAAA,EAAQ,KACR,OAAC6Q,EAAOG,IAEL,EAAMH,EAAAA,OAAAA,EAAQG,EAAO,SAAUnR,GAC3B,OAAA,WAEE,IADDT,IAAAA,EAAO,GACFpU,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCoU,EAAKpU,GAAMxE,UAAUwE,GAEzB6U,EAAS/Y,MAAMkZ,EAAOZ,GAClB,IACIvU,IAAAA,EAAQumB,GAAW,IAAIpc,OAAQnK,OAC/Bud,EAAUhJ,EAAKjW,IAAI,SAAU9C,GACtB,OAAA,EAAUA,EAAAA,WAAAA,EAAGuqB,EAAW/G,sBAEnCiH,EACeF,EAAWW,gBACtBpL,EAAG,CACC6K,MAAOA,EACPK,MAAOxmB,EACPud,QAASA,IAER0I,IAAaF,EAAWW,iBAC7BpL,EAAG,CACC6K,MAAO,OACPK,MAAO,GACPjJ,QAAS,EACL,EAAU,EAAA,WAAA,uDAI1B,MAAOvgB,GACHgY,EAAS/Y,WAAM,GAAQ,EAAS,EAAA,UAAA,CAAC,sBAAuBe,GAAQuX,QA9BjE,aAmCNgS,SAAAA,EAAWvmB,EAAO2mB,QACL,IAAdA,IAAwBA,EAAY,GACpCC,IAAAA,EAAS,GAONA,OANH5mB,IACA4mB,EAAS5mB,EACJf,MAAM,MACNic,OAAO,EAAIyL,GACXroB,IAAI,SAAU9C,GAAYA,OAAAA,EAAEuC,UAE9B6oB,GAGf,SAASC,EAAW1qB,EAAG2qB,GACfC,IAAAA,EAAa5qB,EAAE4qB,WAAYC,EAAc7qB,EAAE6qB,YAAaC,EAAqB9qB,EAAE8qB,mBAAoBC,EAAW/qB,EAAE+qB,SAAUC,EAAmBhrB,EAAEgrB,iBAAkBC,EAAUjrB,EAAEirB,QAASjD,EAAqBhoB,EAAEgoB,mBAAoBkD,EAAmBlrB,EAAEkrB,iBAAkBC,EAAmBnrB,EAAEmrB,iBAAkBC,EAASprB,EAAEorB,OAAQC,EAAQrrB,EAAEqrB,MAChVrrB,EAAE4qB,WAAa,WAEN,IADDlrB,IAAAA,EAAI,GACCsE,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCtE,EAAEsE,GAAMxE,UAAUwE,GAElB2mB,EAAM/O,UACN+O,EAAM/O,SAAS9b,MAAM6qB,GAAO,EAASjrB,EAAAA,UAAAA,IAEzCkrB,EAAW9qB,WAAM,GAAQ,EAASJ,EAAAA,UAAAA,KAEtCM,EAAE6qB,YAAc,WAEP,IADDnrB,IAAAA,EAAI,GACCsE,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCtE,EAAEsE,GAAMxE,UAAUwE,GAElB2mB,EAAMlG,WACNkG,EAAMlG,UAAU3kB,MAAM6qB,GAAO,EAASjrB,EAAAA,UAAAA,IAE1CmrB,EAAY/qB,WAAM,GAAQ,EAASJ,EAAAA,UAAAA,KAEvCM,EAAE8qB,mBAAqB,WAEd,IADDprB,IAAAA,EAAI,GACCsE,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCtE,EAAEsE,GAAMxE,UAAUwE,GAElB2mB,EAAMlF,kBACNkF,EAAMlF,iBAAiB3lB,MAAM6qB,GAAO,EAASjrB,EAAAA,UAAAA,IAEjDorB,EAAmBhrB,WAAM,GAAQ,EAASJ,EAAAA,UAAAA,KAE9CM,EAAE+qB,SAAW,WAEJ,IADDrrB,IAAAA,EAAI,GACCsE,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCtE,EAAEsE,GAAMxE,UAAUwE,GAElB2mB,EAAM3N,QACN2N,EAAM3N,OAAOld,MAAM6qB,GAAO,EAASjrB,EAAAA,UAAAA,IAEvCqrB,EAASjrB,WAAM,GAAQ,EAASJ,EAAAA,UAAAA,KAEpCM,EAAEgrB,iBAAmB,WAEZ,IADDtrB,IAAAA,EAAI,GACCsE,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCtE,EAAEsE,GAAMxE,UAAUwE,GAElB2mB,EAAMW,gBACNX,EAAMW,eAAexrB,MAAM6qB,GAAO,EAASjrB,EAAAA,UAAAA,IAE/CsrB,EAAiBlrB,WAAM,GAAQ,EAASJ,EAAAA,UAAAA,KAE5CM,EAAEirB,QAAU,WAEH,IADDvrB,IAAAA,EAAI,GACCsE,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCtE,EAAEsE,GAAMxE,UAAUwE,GAElB2mB,EAAMzN,OACNyN,EAAMzN,MAAMpd,MAAM6qB,GAAO,EAASjrB,EAAAA,UAAAA,IAEtCurB,EAAQnrB,WAAM,GAAQ,EAASJ,EAAAA,UAAAA,KAEnCM,EAAEgoB,mBAAqB,WAEd,IADDtoB,IAAAA,EAAI,GACCsE,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCtE,EAAEsE,GAAMxE,UAAUwE,GAElB2mB,EAAMY,iBACNZ,EAAMY,gBAAgBzrB,MAAM6qB,GAAO,EAASjrB,EAAAA,UAAAA,IAEhDsoB,EAAmBloB,WAAM,GAAQ,EAASJ,EAAAA,UAAAA,KAE9CM,EAAEkrB,iBAAmB,WAEZ,IADDxrB,IAAAA,EAAI,GACCsE,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCtE,EAAEsE,GAAMxE,UAAUwE,GAElB2mB,EAAMa,gBACNb,EAAMa,eAAe1rB,MAAM6qB,GAAO,EAASjrB,EAAAA,UAAAA,IAE/CwrB,EAAiBprB,WAAM,GAAQ,EAASJ,EAAAA,UAAAA,KAE5CM,EAAEmrB,iBAAmB,WAEZ,IADDzrB,IAAAA,EAAI,GACCsE,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCtE,EAAEsE,GAAMxE,UAAUwE,GAElB2mB,EAAMc,gBACNd,EAAMc,eAAe3rB,MAAM6qB,GAAO,EAASjrB,EAAAA,UAAAA,IAE/CyrB,EAAiBrrB,WAAM,GAAQ,EAASJ,EAAAA,UAAAA,KAE5CM,EAAEorB,OAAS,WAEF,IADD1rB,IAAAA,EAAI,GACCsE,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCtE,EAAEsE,GAAMxE,UAAUwE,GAElB2mB,EAAMe,MACNf,EAAMe,KAAK5rB,MAAM6qB,GAAO,EAASjrB,EAAAA,UAAAA,IAErC0rB,EAAOtrB,WAAM,GAAQ,EAASJ,EAAAA,UAAAA,KAElCM,EAAEqrB,MAAQ,WAED,IADD3rB,IAAAA,EAAI,GACCsE,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCtE,EAAEsE,GAAMxE,UAAUwE,GAElB2mB,EAAMgB,KACNhB,EAAMgB,IAAI7rB,MAAM6qB,GAAO,EAASjrB,EAAAA,UAAAA,IAEpC2rB,EAAMvrB,WAAM,GAAQ,EAASJ,EAAAA,UAAAA,KAGrC,SAASksB,EAAc5rB,EAAG2qB,QACR,IAAVA,IAAoBA,EAAQ,IAChCD,EAAW1qB,EAAG2qB,GACVkB,IAAAA,EAAmBhI,EAAqB7jB,EAAE4qB,WAAY5qB,EAAEqF,WAAYrF,EAAEsF,cAAetF,EAAE8F,iBAAkB9F,EAAEgG,iBAAkBhG,EAAEiG,aAAcjG,EAAE6J,gBAC/IiiB,EAAmBvH,EAAiBvkB,EAAE6qB,YAAa7qB,EAAEwkB,UACrDuH,EAA0BvG,EAA6BxlB,EAAE8qB,mBAAoB9qB,EAAEqF,WAAYrF,EAAEwkB,UAC7FwH,EAAgB9F,EAAmBlmB,EAAE+qB,SAAU/qB,EAAEqF,WAAYrF,EAAEwkB,UAC/DyH,EAAwB5F,EAA2BrmB,EAAEgrB,kBACrDkB,EAAetF,EAAkB5mB,EAAEirB,QAASjrB,EAAEqF,WAAYrF,EAAE6mB,YAAa7mB,EAAEgG,iBAAkBhG,EAAE8mB,YAAa9mB,EAAEwkB,UAC9G2H,EAA0BpE,EAA6B/nB,EAAEgoB,mBAAoBhoB,EAAEqF,YAC/E+mB,EAAqB1E,EAAuB1nB,EAAEkrB,kBAC9CmB,EAAyBrsB,EAAEiG,aACzBkiB,EAA2BnoB,EAAEmrB,iBAAkBnrB,EAAEqF,YACjD,aACFinB,EAAetsB,EAAEusB,aAAexD,EAAiB/oB,EAAEorB,QAAU,aAC7DoB,EAAcxsB,EAAE4pB,WACdD,EAAgB3pB,EAAEqrB,MAAOrrB,EAAE4pB,YAC3B,aACC,OAAA,WACHiC,EAAiBY,aACjBX,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAE;;ACnUOE,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAhSf,IASIC,EATJ,EAAA,QAAA,yCACA,EAAA,QAAA,0DACA,EAAA,QAAA,eACA,EAAA,QAAA,eACA,EAAA,QAAA,iBAEA,SAASC,EAAUlsB,GACR,OAAA,EAAS,EAAA,WAAA,EAAS,EAAA,UAAA,GAAIA,GAAI,CAAEmsB,UAAW7U,KAAKD,QAGvD,SAAS2U,EAAO7mB,QACI,IAAZA,IAAsBA,EAAU,IAChC6a,IAAAA,EAAO7a,EAAQ6a,KAAMoM,EAAmBjnB,EAAQinB,iBAAkBC,EAAmBlnB,EAAQknB,iBAAkBhnB,EAAKF,EAAQR,WAAYA,OAAoB,IAAPU,EAAgB,WAAaA,EAAIe,EAAKjB,EAAQP,cAAeA,OAAuB,IAAPwB,EAAgB,KAAOA,EAAIE,EAAKnB,EAAQghB,YAAaA,OAAqB,IAAP7f,EAAgB,YAAcA,EAAIsB,EAAKzC,EAAQC,iBAAkBA,OAA0B,IAAPwC,GAAuBA,EAAIoD,EAAgB7F,EAAQ6F,cAAeshB,EAAoBnnB,EAAQG,iBAAkBinB,EAAkBpnB,EAAQgE,eAAgBid,EAAcjhB,EAAQihB,YAAa6D,EAAQ9kB,EAAQ8kB,MAAOuC,EAASrnB,EAAQqnB,OAAQriB,EAAKhF,EAAQ2e,SAAUA,OAAkB,IAAP3Z,EAAgB,GAAKA,EAAIsiB,EAAgBtnB,EAAQsnB,cAAe7hB,EAAKzF,EAAQI,aAAcA,OAAsB,IAAPqF,GAAwBA,EAAIK,EAAK9F,EAAQ0mB,aAAcA,OAAsB,IAAP5gB,GAAwBA,EAAIyhB,EAAKvnB,EAAQwnB,UAAWA,OAAmB,IAAPD,GAAwBA,EACh5B,IAAC1M,EACK,MAAA,IAAI1S,MAAM,kCAEEjF,IAAlBokB,QAAsDpkB,IAAvByb,EAASC,YACxCD,EAASC,UAAY0I,GAErBnnB,IAoEAsnB,EApEAtnB,GAAqC,IAAlB0F,EACjB,CACEI,OAAO,EACPC,MAAM,EACY,kBAAA,EAClBC,OAAO,EACPC,OAAO,EACPC,QAAQ,EACRC,OAAO,EACPC,QAAQ,EACRC,KAAK,EACLC,MAAM,EACNC,MAAM,EACN5J,KAAK,EACL6J,MAAM,EACNC,UAAU,EACVC,QAAQ,QAEY3D,IAAtBikB,EACIA,EACA,GACNnjB,GAAqC,IAApBojB,GAAgD,QAApBA,EAC3C,CACEljB,QAAQ,EACRD,SAAS,EACTG,aAAa,EACboB,gBAAgB,EAChBjB,gBAAgB,EAChBE,gBAAgB,EAChBC,mBAAmB,EACnBE,sBAAsB,EACtBD,mBAAwC,QAApByiB,EACpB9iB,qBAA0C,QAApB8iB,GAExBA,GAEI,GACNM,EAAoB,CACpBvD,MAAO,CACH,SACA,QACA,QACA,aACA,QACA,MACA,SACA,QACA,QACA,iBACA,WACA,OACA,MACA,QACA,OACA,UACA,UACA,QACA,QAEJO,gBAAiB,IACjBV,OAAQ7e,SAER4e,EAAayD,GACG,IAAdA,EACIE,EACAruB,OAAOC,OAAO,GAAIouB,EAAmBF,GACzC,IACN,EAAA,EAAA,YAEIG,IAAAA,EAA2B,EAwBtBC,SAAAA,EAAiBC,GAClB3nB,IAAAA,EAAIe,EAAIE,EAAIsB,OACG,IAAfolB,IAAyBA,GAAa,GAC1Cf,EAAYC,EAAU,CAClBxmB,KAAMxH,EAAUmc,UAAAA,KAChBC,KAAM,CACF5X,KAAMiV,OAAOlT,SAAS/B,KACtBoF,OAAO,EAFL,EAAA,kBAGFC,QAAQ,EAAA,EAAA,sBAEZilB,GACAC,IAAAA,EAAY/J,EAAezB,eAAAA,WAChBF,EAAAA,eAAAA,SACXpX,IAAAA,GAAK,EAAO,EAAA,SAAA,EAAS6F,EAAAA,UAAAA,SAAU,CAC/BrL,WAAYA,EACZC,cAAeA,EACfQ,iBAAkBA,EAClB4F,cAAe1F,EACf4F,QAAS/B,EACT5D,aAAcA,IACd,GAAIsH,EAAO1C,EAAG,GAAIgB,EAAYhB,EAAG,GACjC,IAAC0C,EACMvC,OAAAA,QAAQC,KAAK,mCAEjB9I,EAAAA,OAAAA,IAAM0J,EACb8gB,EAAYC,EAAU,CAClBxmB,KAAMxH,EAAUkc,UAAAA,aAChBE,KAAM,CACFzN,KAAMA,EACNqgB,cAAe,CACXC,UAA6B9kB,IAAvBsP,OAAOyV,YACPzV,OAAOyV,aACO,OAAbpd,eAAkC,IAAbA,cAAsB,EAASA,SAAS+I,gBAAgBvR,cAA0J,QAAzIpB,EAAkF,QAA5Ef,EAAkB,OAAb2K,eAAkC,IAAbA,cAAsB,EAASA,SAASiJ,YAAyB,IAAP5T,OAAgB,EAASA,EAAG6B,qBAAkC,IAAPd,OAAgB,EAASA,EAAGoB,cAA6B,OAAbwI,eAAkC,IAAbA,cAAsB,EAASA,SAASiJ,KAAKzR,aAC5V,EACR6lB,SAA4BhlB,IAAvBsP,OAAO2V,YACN3V,OAAO2V,aACO,OAAbtd,eAAkC,IAAbA,cAAsB,EAASA,SAAS+I,gBAAgBrR,aAAyJ,QAAzIE,EAAkF,QAA5EtB,EAAkB,OAAb0J,eAAkC,IAAbA,cAAsB,EAASA,SAASiJ,YAAyB,IAAP3S,OAAgB,EAASA,EAAGY,qBAAkC,IAAPU,OAAgB,EAASA,EAAGF,aAA4B,OAAbsI,eAAkC,IAAbA,cAAsB,EAASA,SAASiJ,KAAKvR,YAC1V,OAIfulB,IACcjN,EAAAA,eAAAA,OACAwB,EAAAA,eAAAA,YAlEvByK,EAAc,SAAUjsB,EAAGgtB,GASnBhtB,IARAkjB,EAAezB,eAAAA,YACfzhB,EAAE0F,OAASxH,EAAUkc,UAAAA,cACnBpa,EAAE0F,OAASxH,EAAUqvB,UAAAA,qBACnBvtB,EAAEsa,KAAKrN,SAAW9O,EAAkB2e,kBAAAA,WACzBkD,EAAAA,eAAAA,OACAwB,EAAAA,eAAAA,YAEnBxB,EAAMwM,EAASA,EAAOxsB,GAAKA,EAAIgtB,GAC3BhtB,EAAE0F,OAASxH,EAAUkc,UAAAA,aACrBwS,EAAwB5sB,EACxB8sB,EAA2B,OAE1B,GAAI9sB,EAAE0F,OAASxH,EAAUqvB,UAAAA,oBAAqB,CAC/CT,IACIU,IAAAA,EAAcnB,GAAoBS,GAA4BT,EAC9DoB,EAAarB,GACbpsB,EAAEmsB,UAAYS,EAAsBT,UAAYC,GAChDoB,GAAeC,IACfV,GAAiB,KAkDzB,IACIW,IAAAA,EAAa,GACjBA,EAAWxtB,MAAK,EAAG,EAAA,IAAA,mBAAoB,WACnC+rB,EAAYC,EAAU,CAClBxmB,KAAMxH,EAAU+b,UAAAA,iBAChBK,KAAM,SAGVqT,IAAAA,EAAS,WACTZ,IACAW,EAAWxtB,MAAK,EAAc,EAAA,eAAA,CAC1BgqB,WAAY,SAAUzqB,GACXwsB,OAAAA,EAAYC,EAAU,CACzBxmB,KAAMxH,EAAUqvB,UAAAA,oBAChBjT,MAAM,EAAS,EAAA,UAAA,CAAErN,OAAQ9O,EAAkB2e,kBAAAA,UAAYrd,OAG/D0qB,YAAa,SAAUjG,EAAWjX,GACvBgf,OAAAA,EAAYC,EAAU,CACzBxmB,KAAMxH,EAAUqvB,UAAAA,oBAChBjT,KAAM,CACFrN,OAAQA,EACRiX,UAAWA,OAIvBkG,mBAAoB,SAAUpS,GACnBiU,OAAAA,EAAYC,EAAU,CACzBxmB,KAAMxH,EAAUqvB,UAAAA,oBAChBjT,MAAM,EAAS,EAAA,UAAA,CAAErN,OAAQ9O,EAAkBqc,kBAAAA,kBAAoBxC,OAGvEqS,SAAU,SAAUrrB,GACTitB,OAAAA,EAAYC,EAAU,CACzBxmB,KAAMxH,EAAUqvB,UAAAA,oBAChBjT,MAAM,EAAS,EAAA,UAAA,CAAErN,OAAQ9O,EAAkB0c,kBAAAA,QAAU7b,OAG7DsrB,iBAAkB,SAAUtS,GACjBiU,OAAAA,EAAYC,EAAU,CACzBxmB,KAAMxH,EAAUqvB,UAAAA,oBAChBjT,MAAM,EAAS,EAAA,UAAA,CAAErN,OAAQ9O,EAAkBwc,kBAAAA,gBAAkB3C,OAGrEuS,QAAS,SAAUxZ,GACRkb,OAAAA,EAAYC,EAAU,CACzBxmB,KAAMxH,EAAUqvB,UAAAA,oBAChBjT,MAAM,EAAS,EAAA,UAAA,CAAErN,OAAQ9O,EAAkB2c,kBAAAA,OAAS/J,OAG5DuW,mBAAoB,SAAUtoB,GACnBitB,OAAAA,EAAYC,EAAU,CACzBxmB,KAAMxH,EAAUqvB,UAAAA,oBAChBjT,MAAM,EAAS,EAAA,UAAA,CAAErN,OAAQ9O,EAAkBuc,kBAAAA,kBAAoB1b,OAGvEwrB,iBAAkB,SAAUzqB,GACjBksB,OAAAA,EAAYC,EAAU,CACzBxmB,KAAMxH,EAAUqvB,UAAAA,oBAChBjT,MAAM,EAAS,EAAA,UAAA,CAAErN,OAAQ9O,EAAkByc,kBAAAA,gBAAkB7a,OAGrE0qB,iBAAkB,SAAUzrB,GACjBitB,OAAAA,EAAYC,EAAU,CACzBxmB,KAAMxH,EAAUqvB,UAAAA,oBAChBjT,MAAM,EAAS,EAAA,UAAA,CAAErN,OAAQ9O,EAAkByvB,kBAAAA,gBAAkB5uB,OAGrE0rB,OAAQ,SAAU1rB,GACPitB,OAAAA,EAAYC,EAAU,CACzBxmB,KAAMxH,EAAUqvB,UAAAA,oBAChBjT,MAAM,EAAS,EAAA,UAAA,CAAErN,OAAQ9O,EAAkB0vB,kBAAAA,MAAQ7uB,OAG3D2rB,MAAO,SAAU3rB,GACNitB,OAAAA,EAAYC,EAAU,CACzBxmB,KAAMxH,EAAUqvB,UAAAA,oBAChBjT,MAAM,EAAS,EAAA,UAAA,CAAErN,OAAQ9O,EAAkB2vB,kBAAAA,KAAO9uB,OAG1D2F,WAAYA,EACZC,cAAeA,EACfuhB,YAAaA,EACb7gB,iBAAkBA,EAClB8gB,YAAaA,EACbhhB,iBAAkBA,EAClB0e,SAAUA,EACVve,aAAcA,EACdsmB,aAAcA,EACd1iB,eAAgBA,EAChB+f,WAAYA,GACbe,KAeA,MAbqB,gBAAxBja,SAAS+d,YACe,aAAxB/d,SAAS+d,WACTJ,IAGAD,EAAWxtB,MAAK,EAAG,EAAA,IAAA,OAAQ,WACvB+rB,EAAYC,EAAU,CAClBxmB,KAAMxH,EAAUgc,UAAAA,KAChBI,KAAM,MAEVqT,KACDhW,SAEA,WACH+V,EAAW3oB,QAAQ,SAAU8f,GAAYA,OAAAA,OAGjD,MAAO1kB,GACHmK,QAAQC,KAAKpK,IAGrB6rB,EAAOgC,eAAiB,SAAUC,EAAKvN,GAC/B,IAACuL,EACK,MAAA,IAAI3e,MAAM,iDAEpB2e,EAAYC,EAAU,CAClBxmB,KAAMxH,EAAUic,UAAAA,OAChBG,KAAM,CACF2T,IAAKA,EACLvN,QAASA,OAIrBsL,EAAOkC,WAAa,WACD3M,EAAAA,eAAAA,UAGJyK,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;AClOAmC,aA3Cf,SAASA,EAAKC,GAGN,OAFPA,EAAMA,GAAO5vB,OAAO6vB,OAAO,MAEpB,CAQNlY,GAAI,SAAYzQ,EAAc4f,IAC5B8I,EAAI1oB,KAAU0oB,EAAI1oB,GAAQ,KAAKxF,KAAKolB,IAUtCgJ,IAAK,SAAa5oB,EAAc4f,GAC3B8I,EAAI1oB,IACP0oB,EAAI1oB,GAAM2Y,OAAO+P,EAAI1oB,GAAMvD,QAAQmjB,KAAa,EAAG,IAYrDtF,KAAM,SAActa,EAAc6e,IAChC6J,EAAI1oB,IAAS,IAAIrD,QAAQZ,IAAI,SAAU6jB,GAAWA,EAAQf,MAC1D6J,EAAI,MAAQ,IAAI/rB,QAAQZ,IAAI,SAAU6jB,GAAWA,EAAQ5f,EAAM6e,OAKpD4J,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAAAA,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;AC4Jd,aA1ND,SAAStU,EAAS0U,EAAGvW,GAGb,QAFM,IAANuW,IAAgBA,EAAI5W,aACd,IAANK,IAAgBA,EAAIhI,YACpB,mBAAoBgI,EAAEe,gBAAgBpJ,QACF,IAApC4e,EAAEC,+BADF,CAIArmB,IAWwBsmB,EAXxBtmB,EAAUomB,EAAEvL,aAAeuL,EAAEpmB,QAC7BumB,EAAc,IACdvW,EAAW,CACXmE,OAAQiS,EAAEjS,QAAUiS,EAAEI,SACtBC,SAAUL,EAAEK,SACZC,cAAe1mB,EAAQlJ,UAAUqd,QAAUwS,EAC3CC,eAAgB5mB,EAAQlJ,UAAU8vB,gBAElC1X,EAAMkX,EAAES,aAAeT,EAAES,YAAY3X,IACnCkX,EAAES,YAAY3X,IAAIiM,KAAKiL,EAAES,aACzB1X,KAAKD,IAKP4X,GAJwBR,EAIgBF,EAAEW,UAAUT,UAF7C,IAAIhuB,OADa,CAAC,QAAS,WAAY,SACVkB,KAAK,MAAMR,KAAKstB,GAEa,EAAI,GAyFzEF,EAAEjS,OAASiS,EAAEI,SAAW,gBACCtmB,IAAjBvJ,UAAU,MAGsB,IAAhCqwB,EAAcrwB,UAAU,IAY5BswB,EAAajwB,KAAKovB,EAAGvW,EAAEiB,UAA4B5Q,IAAtBvJ,UAAU,GAAGquB,OAClCruB,UAAU,GAAGquB,KACfoB,EAAEc,SAAWd,EAAEnB,iBAAkC/kB,IAArBvJ,UAAU,GAAGuuB,MACvCvuB,UAAU,GAAGuuB,IACfkB,EAAEe,SAAWf,EAAEjB,aAfjBnV,EAASmE,OAAOnd,KAAKovB,OAAyBlmB,IAAtBvJ,UAAU,GAAGquB,KAC/BruB,UAAU,GAAGquB,KACW,iBAAjBruB,UAAU,GACbA,UAAU,GACVyvB,EAAEc,SAAWd,EAAEnB,iBAAkC/kB,IAArBvJ,UAAU,GAAGuuB,IAC7CvuB,UAAU,GAAGuuB,SACIhlB,IAAjBvJ,UAAU,GACNA,UAAU,GACVyvB,EAAEe,SAAWf,EAAEjB,eASjCiB,EAAEK,SAAW,gBACYvmB,IAAjBvJ,UAAU,KAGVqwB,EAAcrwB,UAAU,IACxBqZ,EAASyW,SAASzvB,KAAKovB,OAAyBlmB,IAAtBvJ,UAAU,GAAGquB,KACjCruB,UAAU,GAAGquB,KACW,iBAAjBruB,UAAU,GACbA,UAAU,GACV,OAAwBuJ,IAArBvJ,UAAU,GAAGuuB,IACpBvuB,UAAU,GAAGuuB,SACIhlB,IAAjBvJ,UAAU,GACNA,UAAU,GACV,GAGdswB,EAAajwB,KAAKovB,EAAGvW,EAAEiB,OAAQna,UAAU,GAAGquB,MAAQoB,EAAEc,SAAWd,EAAEnB,eAAgBtuB,UAAU,GAAGuuB,KAAOkB,EAAEe,SAAWf,EAAEjB,gBAE1HnlB,EAAQlJ,UAAUqd,OAASnU,EAAQlJ,UAAU0vB,SAAW,WAChD7vB,QAAiBuJ,IAAjBvJ,UAAU,GAGVqwB,IAAgC,IAAhCA,EAAcrwB,UAAU,IAAxBqwB,CAeAhC,IAAAA,EAAOruB,UAAU,GAAGquB,KACpBE,EAAMvuB,UAAU,GAAGuuB,IACvB+B,EAAajwB,KAAK,KAAM,UAAsB,IAATguB,EAAuB,KAAK3lB,aAAe2lB,OAAqB,IAARE,EAAsB,KAAK3lB,YAAc2lB,OAjBlI8B,CACI,GAAwB,iBAAjBrwB,UAAU,SAAoCuJ,IAAjBvJ,UAAU,GACxC,MAAA,IAAIywB,YAAY,gCAE1BpX,EAAS0W,cAAc1vB,KAAK,UAA4BkJ,IAAtBvJ,UAAU,GAAGquB,OACvCruB,UAAU,GAAGquB,KACS,iBAAjBruB,UAAU,KACXA,UAAU,GACZ,KAAK0I,gBAAiCa,IAArBvJ,UAAU,GAAGuuB,MAChCvuB,UAAU,GAAGuuB,SACEhlB,IAAjBvJ,UAAU,KACJA,UAAU,GACZ,KAAK4I,aAOvBS,EAAQlJ,UAAU2vB,SAAW,gBACJvmB,IAAjBvJ,UAAU,MAGsB,IAAhCqwB,EAAcrwB,UAAU,IAQvBwd,KAAAA,OAAO,CACR6Q,OAAQruB,UAAU,GAAGquB,KAAO,KAAK3lB,WACjC6lB,MAAOvuB,UAAU,GAAGuuB,IAAM,KAAK3lB,UAC/B8nB,SAAU1wB,UAAU,GAAG0wB,WAVvBrX,EAAS0W,cAAc1vB,KAAK,UAA4BkJ,IAAtBvJ,UAAU,GAAGquB,OACvCruB,UAAU,GAAGquB,KAAO,KAAK3lB,aACzB1I,UAAU,GAAK,KAAK0I,gBAAiCa,IAArBvJ,UAAU,GAAGuuB,MAC7CvuB,UAAU,GAAGuuB,IAAM,KAAK3lB,YACxB5I,UAAU,GAAK,KAAK4I,aASpCS,EAAQlJ,UAAU8vB,eAAiB,WAC3BI,IAAgC,IAAhCA,EAAcrwB,UAAU,IAAxBqwB,CAIAM,IAAAA,EAvICC,SAAqBrrB,GACnBA,KAAAA,IAAO2T,EAAEiB,OAA6B,IAArB0W,EAAatrB,IACjCA,EAAKA,EAAGmE,YAAcnE,EAAGurB,KAEtBvrB,OAAAA,EAmIgBqrB,CAAqB,MACxCG,EAAcJ,EAAiB5nB,wBAC/BioB,EAAc,KAAKjoB,wBACnB4nB,IAAqBzX,EAAEiB,MACvBmW,EAAajwB,KAAK,KAAMswB,EAAkBA,EAAiBjoB,WAAasoB,EAAY3C,KAAO0C,EAAY1C,KAAMsC,EAAiB/nB,UAAYooB,EAAYzC,IAAMwC,EAAYxC,KAClH,UAAlDkB,EAAEwB,iBAAiBN,GAAkB/iB,UACrC6hB,EAAEK,SAAS,CACPzB,KAAM0C,EAAY1C,KAClBE,IAAKwC,EAAYxC,IACjBmC,SAAU,YAKlBjB,EAAEK,SAAS,CACPzB,KAAM2C,EAAY3C,KAClBE,IAAKyC,EAAYzC,IACjBmC,SAAU,gBApBdrX,EAAS4W,eAAe5vB,KAAK,UAAuBkJ,IAAjBvJ,UAAU,IAA0BA,UAAU,KA3KhFgwB,SAAAA,EAAcpK,EAAGC,GACjBnd,KAAAA,WAAakd,EACbhd,KAAAA,UAAYid,EAKZwK,SAAAA,EAAca,GACfA,GAAa,OAAbA,GACoB,iBAAbA,QACe3nB,IAAtB2nB,EAASR,UACa,SAAtBQ,EAASR,UACa,YAAtBQ,EAASR,SACF,OAAA,EAEP,GAAoB,iBAAbQ,GAA+C,WAAtBA,EAASR,SAClC,OAAA,EAEL,MAAA,IAAI3vB,UAAU,oCAChBmwB,EAASR,SACT,yDAECS,SAAAA,EAAmB5rB,EAAI6rB,GACxBA,MAAS,MAATA,EACO7rB,EAAG2U,aAAeiW,EAAqB5qB,EAAG8rB,aAExC,MAATD,EACO7rB,EAAG+U,YAAc6V,EAAqB5qB,EAAG+rB,iBADhDF,EAICG,SAAAA,EAAYhsB,EAAI6rB,GACjBI,IAAAA,EAAgB/B,EAAEwB,iBAAiB1rB,EAAI,MAAM,WAAa6rB,GACvDI,MAAkB,SAAlBA,GAA8C,WAAlBA,EAE9BX,SAAAA,EAAatrB,GACdksB,IAAAA,EAAgBN,EAAmB5rB,EAAI,MAAQgsB,EAAYhsB,EAAI,KAC/DmsB,EAAgBP,EAAmB5rB,EAAI,MAAQgsB,EAAYhsB,EAAI,KAC5DksB,OAAAA,GAAiBC,EAQnBC,SAAAA,EAAKhZ,GACN5L,IACAlM,EACA+wB,EACAC,EA7CM9f,EA8CN+f,GAJOvZ,IAIWI,EAAQoZ,WAAanC,EA9CjC7d,EA+CV+f,EAAUA,EAAU,EAAI,EAAIA,EAC5BjxB,EA/CO,IAAO,EAAImxB,KAAKC,IAAID,KAAKE,GAAKngB,IAgDrC6f,EAAWjZ,EAAQwZ,QAAUxZ,EAAQiN,EAAIjN,EAAQwZ,QAAUtxB,EAC3DgxB,EAAWlZ,EAAQyZ,QAAUzZ,EAAQkN,EAAIlN,EAAQyZ,QAAUvxB,EAC3D8X,EAAQ0Z,OAAOhyB,KAAKsY,EAAQ2Z,WAAYV,EAAUC,GAC9CD,IAAajZ,EAAQiN,GAAKiM,IAAalZ,EAAQkN,GAC/C4J,EAAE8C,sBAAsBZ,EAAKnN,KAAKiL,EAAG9W,IAGpC2X,SAAAA,EAAa/qB,EAAIqgB,EAAGC,GACrByM,IAAAA,EACAH,EACAC,EACAC,EACAN,EAAYxZ,IACZhT,IAAO2T,EAAEiB,MACTmY,EAAa7C,EACb0C,EAAS1C,EAAEc,SAAWd,EAAEnB,YACxB8D,EAAS3C,EAAEe,SAAWf,EAAEjB,YACxB6D,EAAShZ,EAASmE,SAGlB8U,EAAa/sB,EACb4sB,EAAS5sB,EAAGmD,WACZ0pB,EAAS7sB,EAAGqD,UACZypB,EAASrC,GAEb2B,EAAK,CACDW,WAAYA,EACZD,OAAQA,EACRN,UAAWA,EACXI,OAAQA,EACRC,OAAQA,EACRxM,EAAGA,EACHC,EAAGA,KA8Gd,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA;;AChIA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA,EAAA,QAAA,WAAA,EA1FD,IAAA,EAAA,QAAA,yCACA,EAAA,QAAA,eAEI2M,EAAS,WACAA,SAAAA,EAAMC,EAASC,QACJ,IAAZD,IAAsBA,EAAU,IAC/BjN,KAAAA,WAAa,EACbmN,KAAAA,IAAM,KACNF,KAAAA,QAAUA,EACVC,KAAAA,MAAQA,EAqEVF,OAnEPA,EAAMryB,UAAUyyB,UAAY,SAAUC,GAC9B5S,IAAAA,EAAQ,KAAK6S,gBAAgBD,GAC5BJ,KAAAA,QAAQlT,OAAOU,EAAO,EAAG4S,IAElCL,EAAMryB,UAAU4yB,WAAa,SAAUN,GAC/BlsB,IAAAA,GACHA,EAAK,KAAKksB,SAASrxB,KAAKd,MAAMiG,GAAI,EAASksB,EAAAA,UAAAA,KAEhDD,EAAMryB,UAAU0N,MAAQ,WACf4kB,KAAAA,QAAQO,KAAK,SAAUC,EAAIC,GAAaD,OAAAA,EAAGE,MAAQD,EAAGC,QACtD3N,KAAAA,WAAa,EACd4N,IAAAA,EAAgBlD,YAAY3X,MAC5Bka,EAAU,KAAKA,QACfY,EAAO,KAmBNV,KAAAA,IAAMJ,sBAlBFe,SAAAA,IACDvmB,IAAAA,EAAOmjB,YAAY3X,MAGhBka,IAFPY,EAAK7N,aAAezY,EAAOqmB,GAAiBC,EAAKX,MACjDU,EAAgBrmB,EACT0lB,EAAQxyB,QAAQ,CACf4yB,IAAAA,EAASJ,EAAQ,GACjBY,KAAAA,EAAK7N,YAAcqN,EAAOM,OAK1B,MAJAV,EAAQlR,QACRsR,EAAOU,YAMXd,EAAQxyB,OAAS,GAAKozB,EAAKG,YAC3BH,EAAKV,IAAMJ,sBAAsBe,OAK7Cd,EAAMryB,UAAUszB,MAAQ,WAChB,KAAKd,MACLe,qBAAqB,KAAKf,KACrBA,KAAAA,IAAM,MAEVF,KAAAA,QAAQxyB,OAAS,GAE1BuyB,EAAMryB,UAAUwzB,SAAW,SAAUjB,GAC5BA,KAAAA,MAAQA,GAEjBF,EAAMryB,UAAUyzB,eAAiB,SAAUC,GAClCL,KAAAA,SAAWK,GAEpBrB,EAAMryB,UAAU2zB,SAAW,WAChB,OAAa,OAAb,KAAKnB,KAEhBH,EAAMryB,UAAU2yB,gBAAkB,SAAUD,GAGjChlB,IAFHA,IAAAA,EAAQ,EACRK,EAAM,KAAKukB,QAAQxyB,OAAS,EACzB4N,GAASK,GAAK,CACb6lB,IAAAA,EAAM/B,KAAKgC,OAAOnmB,EAAQK,GAAO,GACjC,GAAA,KAAKukB,QAAQsB,GAAKZ,MAAQN,EAAOM,MACjCtlB,EAAQkmB,EAAM,MAEb,CAAA,KAAI,KAAKtB,QAAQsB,GAAKZ,MAAQN,EAAOM,OAI/BY,OAAAA,EAHP7lB,EAAM6lB,EAAM,GAMblmB,OAAAA,GAEJ2kB,EA3EE,GA6Eb,SAASyB,EAASrZ,EAAOsZ,GACjBtZ,GAAAA,EAAMhU,OAASxH,EAAUqvB,UAAAA,qBACzB7T,EAAMY,KAAKrN,SAAW9O,EAAkBoc,kBAAAA,UAAW,CAC/C0Y,IAAAA,EAAcvZ,EAAMY,KAAK4J,UAAU,GAAGI,WACtC4O,EAAiBxZ,EAAMyS,UAAY8G,EAEhCC,OADPxZ,EAAMuY,MAAQiB,EAAiBF,EACxBE,EAAiBF,EAGrBtZ,OADPA,EAAMuY,MAAQvY,EAAMyS,UAAY6G,EACzBtZ,EAAMuY,MAChB,QAAA,MAAA;;AC5E4nF,aAA7nF,IAAIvzB,EAAynF,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAA,EAAA,QAAA,cAAA,EAAA,QAAA,UAAA,EAAA,QAAA,uBAAA,EAAA,QAAA,kBAAA,EAAtnF,SAASA,GAAGA,EAAEA,EAAEy0B,WAAW,GAAG,aAAaz0B,EAAEA,EAAE00B,QAAQ,GAAG,UAAU10B,EAAEA,EAAE20B,QAAQ,GAAG,UAAnF,CAA+F30B,IAAIA,QAAAA,kBAAAA,EAAE,KAAK,IAAIG,EAAE,CAAC6G,KAAK,eAAe,SAAS1F,EAAEtB,GAAU,YAAA,IAASA,EAAE,GAAG,GAAG2B,OAAO3B,GAAG,SAASqB,EAAErB,GAAU,MAAA,CAACgH,KAAK,gBAAgB4tB,WAAW50B,GAAG,SAASE,EAAEF,EAAEG,GAAU,MAAA,iBAAiBH,EAAE,iBAAiBA,GAAGG,GAAGA,EAAEH,GAAGG,EAAEH,GAAGA,GAAG,CAACgH,KAAKhH,GAAG,mBAAmBA,EAAE,CAACgH,KAAKhH,EAAE8F,KAAKwJ,KAAKtP,GAAGA,EAAE,SAASY,EAAEZ,GAAU,OAAA,SAASG,GAAUH,OAAAA,IAAIG,GAAG,SAASqF,EAAExF,GAAU,MAAA,iBAAiBA,EAAE,CAACgH,KAAKhH,GAAGA,EAAE,SAAS60B,EAAE70B,EAAEG,GAAU,MAAA,CAACc,MAAMjB,EAAE+Y,QAAQ5Y,EAAE0yB,QAAQ,GAAGiC,SAAQ,EAAGvuB,QAAQ3F,EAAEZ,IAAI,SAASuP,EAAEvP,EAAEG,QAAQ,IAAIA,IAAIA,EAAE,IAAQkB,IAAAA,EAAE,CAAC0zB,OAAO/0B,EAAEg1B,SAAS70B,EAAE80B,aAAa,CAACh0B,MAAMjB,EAAEk1B,QAAQrC,QAAQvxB,EAAEtB,EAAEm1B,OAAOn1B,EAAEk1B,SAASE,OAAOryB,IAAK,SAAS/C,GAAUE,OAAAA,EAAEF,EAAEG,EAAE0yB,WAAY9Z,QAAQ/Y,EAAE+Y,QAAQxS,QAAQ3F,EAAEZ,EAAEk1B,UAAUG,WAAW,SAASl1B,EAAEoP,GAAOtP,IAAAA,EAAEq1B,EAAEjjB,EAAE,iBAAiBlS,EAAE,CAACc,MAAMd,EAAE4Y,QAAQ/Y,EAAE+Y,SAAS5Y,EAAEo1B,EAAEljB,EAAEpR,MAAMX,EAAE+R,EAAE0G,QAAQyc,EAAEhwB,EAAE+J,GAAG0W,EAAEjmB,EAAEm1B,OAAOI,GAAMtP,GAAAA,EAAExO,GAAG,CAAK6B,IAAAA,EAAEhY,EAAE2kB,EAAExO,GAAG+d,EAAExuB,OAAOgf,EAAE,SAAS7lB,GAAM,QAAA,IAASA,EAAE,MAAO,CAACc,MAAM4zB,EAAEU,EAAEj1B,IAAQgB,IAAAA,EAAE,iBAAiBnB,EAAE,CAACwX,OAAOxX,GAAGA,EAAEqF,EAAElE,EAAEqW,OAAOpI,OAAE,IAAS/J,EAAE+vB,EAAE/vB,EAAEvF,EAAEqB,EAAEuxB,QAAQyC,OAAE,IAASr1B,EAAE,GAAGA,EAAEoS,EAAE/Q,EAAEm0B,KAAKnc,EAAEhZ,EAAK,SAAC,IAAS+R,EAAE,WAAkB,OAAA,GAAIA,GAAG/R,EAAEk1B,GAAG,CAAKxP,IAAAA,EAAEhmB,EAAEm1B,OAAO5lB,GAAGxO,GAAE,EAAGolB,EAAE,GAAGxkB,OAAOskB,EAAEyP,KAAKJ,EAAEtP,EAAEoP,OAAO5W,OAAQ,SAASxe,GAAUA,OAAAA,IAAK+C,IAAK,SAAS/C,GAAUE,OAAAA,EAAEF,EAAEqB,EAAE2zB,SAASnC,WAAYrU,OAAQ,SAASxe,GAAM,GAAA,kBAAkBA,EAAEgH,KAAK,CAACjG,GAAE,EAAOZ,IAAAA,EAAEL,OAAOC,OAAO,GAAGuZ,GAAU,MAAA,mBAAmBtZ,EAAE40B,WAAWz0B,EAAEH,EAAE40B,WAAWtb,EAAEkc,GAAG11B,OAAOoS,KAAKlS,EAAE40B,YAAYvuB,QAAS,SAAS/E,GAAGnB,EAAEmB,GAAG,mBAAmBtB,EAAE40B,WAAWtzB,GAAGtB,EAAE40B,WAAWtzB,GAAGgY,EAAEkc,GAAGx1B,EAAE40B,WAAWtzB,KAAOgY,EAAEnZ,GAAE,EAAU,OAAA,IAAa,MAAA,CAACc,MAAM,CAACA,MAAMsO,EAAEwJ,QAAQO,EAAEuZ,QAAQ1M,EAAE2O,QAAQvlB,IAAIgmB,GAAGpP,EAAE9lB,OAAO,GAAGU,EAAEwF,QAAQ3F,EAAE2O,OAAU,IAAK,IAAA,IAAIxO,EAAE,SAASf,GAAOG,IAAAA,EAAE,mBAAmBU,QAAQb,EAAEa,OAAOC,UAAUQ,EAAE,EAASnB,OAAAA,EAAEA,EAAEM,KAAKT,GAAG,CAACgB,KAAK,WAAkBhB,OAAAA,GAAGsB,GAAGtB,EAAEK,SAASL,OAAE,GAAQ,CAACiB,MAAMjB,GAAGA,EAAEsB,KAAKJ,MAAMlB,KAAjK,CAAuKsZ,GAAG6M,EAAEplB,EAAEC,QAAQmlB,EAAEjlB,KAAKilB,EAAEplB,EAAEC,OAAO,CAAK20B,IAAAA,EAAE3P,EAAEG,EAAEllB,OAAU,GAAA,iBAAiB00B,EAAE,OAAOA,EAAE10B,OAAO,MAAMjB,GAAGC,EAAE,CAACwB,MAAMzB,GAAW,QAAI,IAACmmB,IAAIA,EAAEjlB,OAAOo0B,EAAEv0B,EAAE2d,SAAS4W,EAAE70B,KAAKM,GAAW,QAAId,GAAAA,EAAE,MAAMA,EAAEwB,QAAeozB,OAAAA,EAAEU,EAAEj1B,KAAYe,OAAAA,EAAE,IAAIpB,EAAE,SAASD,EAAEG,GAAUH,OAAAA,EAAE6yB,QAAQxsB,QAAS,SAAS/E,GAAOD,IAAAA,EAAEC,EAAEgO,KAAYjO,OAAAA,GAAGA,EAAErB,EAAE+Y,QAAQ5Y,MAAO,SAASm1B,EAAEh0B,GAAOD,IAAAA,EAAEC,EAAE2zB,aAAa/0B,EAAEF,EAAEy0B,WAAWI,EAAE,IAAI/V,IAAIvP,EAAE,CAACqmB,SAASt0B,EAAEu0B,KAAK,SAAS11B,GAAGD,IAAIF,EAAE00B,UAAUrzB,EAAEC,EAAE+zB,WAAWh0B,EAAElB,GAAGF,EAAEoB,EAAEmE,EAAErF,IAAI00B,EAAExuB,QAAS,SAASrG,GAAUA,OAAAA,EAAEqB,OAASy0B,UAAU,SAAS91B,GAAU60B,OAAAA,EAAEtY,IAAIvc,GAAGA,EAAEqB,GAAG,CAAC00B,YAAY,WAAkBlB,OAAAA,EAAEtX,OAAOvd,MAAMiO,MAAM,SAASzI,GAAMA,GAAAA,EAAE,CAAKqvB,IAAAA,EAAE,iBAAiBrvB,EAAEA,EAAE,CAACuT,QAAQzX,EAAEyzB,OAAOhc,QAAQ9X,MAAMuE,GAAGnE,EAAE,CAACJ,MAAM4zB,EAAE5zB,MAAM4xB,QAAQ,GAAG9Z,QAAQ8b,EAAE9b,QAAQxS,QAAQ3F,EAAEi0B,EAAE5zB,QAAgBf,OAAAA,EAAEF,EAAE00B,QAAQz0B,EAAEoB,EAAElB,GAAGoP,GAAGymB,KAAK,WAAkB91B,OAAAA,EAAEF,EAAE20B,QAAQE,EAAEhB,QAAQtkB,GAAO0mB,YAAe50B,OAAAA,GAAO60B,aAAgBh2B,OAAAA,IAAWqP,OAAAA;;ACkP1nF,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,oBAAA,EAAA,QAAA,mBAAA,EAAA,QAAA,sBAAA,EAhQD,IAAA,EAAA,QAAA,yCACA,EAAA,QAAA,eACA,EAAA,QAAA,eACA,EAAA,QAAA,cACA,EAAA,QAAA,8CAEA,SAAS4mB,EAAsBnO,EAAQsM,GAC9B,IAAA,IAAI5U,EAAMsI,EAAO3nB,OAAS,EAAGqf,GAAO,EAAGA,IAAO,CAC3C1E,IAAAA,EAAQgN,EAAOtI,GACf1E,GAAAA,EAAMhU,OAASxH,EAAUmc,UAAAA,MACrBX,EAAMyS,WAAa6G,EACZtM,OAAAA,EAAOrkB,MAAM+b,GAIzBsI,OAAAA,EAEX,SAASoO,EAAoBrd,EAASpS,GAC9B0vB,IAAAA,EAAY1vB,EAAG0vB,UAAWC,EAAU3vB,EAAG2vB,QACvCC,GAAgB,EAAE,EAAA,eAAA,CAClBhrB,GAAI,SACJwN,QAASA,EACTmc,QAAS,SACTC,OAAQ,CACJqB,QAAS,CACL/e,GAAI,CACAgf,MAAO,CACH9e,OAAQ,SACRkb,QAAS,CAAC,UAEd6D,WAAY,CACR/e,OAAQ,UACRkb,QAAS,aAEb8D,IAAK,CACDhf,OAAQ,SACRkb,QAAS,CAAC,uBAAwB,UAEtC+D,UAAW,CACPjf,OAAQ,UACRkb,QAAS,CAAC,eAItBhqB,OAAQ,CACJ4O,GAAI,CACAof,KAAM,CACFlf,OAAQ,UACRkb,QAAS,CAAC,mBAAoB,SAElC6D,WAAY,CACR/e,OAAQ,SACRkb,QAAS,aAEbiE,QAAS,CACLnf,OAAQ,OACRkb,QAAS,CAAC,cAEd+D,UAAW,CACPjf,OAAQ,SACRkb,QAAS,CAAC,eAItBkE,KAAM,CACFtf,GAAI,CACAmf,UAAW,CACPjf,OAAQ,OACRkb,QAAS,CAAC,aAEd6D,WAAY,CACR/e,OAAQ,OACRkb,QAAS,CAAC,kBAK3B,CACCA,QAAS,CACLmE,WAAW,EAAE,EAAA,QAAA,CACTC,gBAAiB,SAAUjhB,EAAKgF,GACxBA,MAAe,eAAfA,EAAMhU,KACCgU,EAAMgH,QAAQhH,MAElBhF,EAAIihB,mBAGnBC,kBAAkB,EAAE,EAAA,QAAA,SAAUlhB,EAAKgF,GAC3B4K,IAAAA,EAAa5P,EAAI4P,WAId,MAHH,YAAa5K,GAAS,eAAgBA,EAAMgH,UAC5C4D,EAAa5K,EAAMgH,QAAQ4D,aAExB,EAAS,EAAA,WAAA,EAAS,EAAA,UAAA,GAAI5P,GAAM,CAAE4P,WAAYA,EAAY0O,aAActe,EAAIgS,OAAO,GAAGyF,UAAY7H,MAEzGzP,KAAM,SAAUH,GACRiI,IAAAA,EAAKtX,EAAIuX,EAAKxW,EACdE,EACJgE,QAAQC,KAAK,QACTsrB,IAAAA,EAAQnhB,EAAImhB,MAAOnP,EAAShS,EAAIgS,OAAQsM,EAAete,EAAIse,aAAc2C,EAAkBjhB,EAAIihB,gBACnGE,EAAMtD,QACF,IACK,IAAA,IAAIuD,GAAW,EAASpP,EAAAA,UAAAA,GAASqP,EAAaD,EAASp2B,QAASq2B,EAAWn2B,KAAMm2B,EAAaD,EAASp2B,OAAQ,CAC5Gga,IAAAA,EAAQqc,EAAWp2B,OACd+Z,EAAAA,EAAAA,UAAAA,EAAOsZ,IAGxB,MAAO7V,GAASR,EAAM,CAAExc,MAAOgd,GACvB,QACA,IACI4Y,IAAeA,EAAWn2B,OAASyF,EAAKywB,EAAS1Y,SAAS/X,EAAGlG,KAAK22B,GAElE,QAAMnZ,GAAAA,EAAK,MAAMA,EAAIxc,OAE7B61B,IAAAA,EAAenB,EAAsBnO,EAAQsM,GAC7CzB,EAAU,IAAIhwB,MACd8S,EAAU,SAAUqF,GAChBuc,IAAAA,EAAsBN,MAAAA,OAAyD,EAASA,EAAgBxJ,UAMxG8J,IALCN,MAAAA,OAAyD,EAASA,EAAgBjwB,QAAUxH,EAAUqvB,UAAAA,qBACvGoI,EAAgBrb,KAAKrN,SAAW9O,EAAkBoc,kBAAAA,YAClD0b,EACIN,EAAgBxJ,WAA0D,QAA5C7lB,EAAKqvB,EAAgBrb,KAAK4J,UAAU,UAAuB,IAAP5d,OAAgB,EAASA,EAAGge,aAElH2R,GACAA,EAAsBjD,IACrBtZ,EAAMyS,WAAa8J,GAChBvc,IAAUic,GACP,MAAA,WAEPO,IAAAA,EAASxc,EAAMyS,UAAY6G,EAC3BkD,GAAAA,KAAW,EAAmBxc,EAAAA,oBAAAA,GACvB,MAAA,WAEPyc,IAAAA,EAASpB,EAAUrb,EAAOwc,GAC1BA,EACAC,IAGA5E,EAAQrxB,KAAK,CACTmyB,SAAU,WACN8D,IACAnB,EAAQhV,KAAK1hB,EAAe83B,eAAAA,UAAW1c,IAE3CuY,MAAOvY,EAAMuY,SAIrB,IACK,IAAA,IAAIoE,GAAiB,EAASL,EAAAA,UAAAA,GAAeM,EAAmBD,EAAe32B,QAAS42B,EAAiB12B,KAAM02B,EAAmBD,EAAe32B,OAAQ,CAE1J2U,EADIqF,EAAQ4c,EAAiB32B,QAIrC,MAAO0d,GAAST,EAAM,CAAEzc,MAAOkd,GACvB,QACA,IACIiZ,IAAqBA,EAAiB12B,OAASwG,EAAKiwB,EAAejZ,SAAShX,EAAGjH,KAAKk3B,GAEpF,QAAMzZ,GAAAA,EAAK,MAAMA,EAAIzc,OAEjC60B,EAAQhV,KAAK1hB,EAAei4B,eAAAA,OAC5BV,EAAMhE,WAAWN,GACjBsE,EAAMlpB,SAEVmI,MAAO,SAAUJ,GACbA,EAAImhB,MAAMtD,SAEdiE,sBAAsB,EAAE,EAAA,QAAA,SAAU9hB,GACvB,OAAA,EAAS,EAAA,WAAA,EAAS,EAAA,UAAA,GAAIA,GAAM,CAAEihB,gBAAiB,SAE1Dc,WAAW,EAAE,EAAA,QAAA,CACTzD,aAAc,SAAUte,EAAKgF,GAGrBA,OAFJhF,EAAImhB,MAAMnD,gBAAe,GACzBhe,EAAImhB,MAAMlpB,QACS,YAAf+M,EAAMhU,MAAsBgU,EAAMgH,QAAQsS,aACnCtZ,EAAMgH,QAAQsS,aAElB1b,KAAKD,SAGpBqf,UAAU,EAAE,EAAA,QAAA,SAAUhiB,EAAKiiB,GACnB3D,IAAAA,EAAete,EAAIse,aAAc6C,EAAQnhB,EAAImhB,MAAOnP,EAAShS,EAAIgS,OACjEiQ,GAAsB,cAAtBA,EAAajxB,KAAsB,CAC/BkxB,IAAAA,EAAUD,EAAajW,QAAQhH,OAC1Bkd,EAAAA,EAAAA,UAAAA,EAAS5D,GAClBtM,EAAOxmB,KAAK02B,GACRV,IAAAA,EAASU,EAAQzK,UAAY6G,EAC7B6D,EAAW9B,EAAU6B,EAASV,GAC9BA,EACAW,KAGAhB,EAAMnE,UAAU,CACZW,SAAU,WACNwE,IACA7B,EAAQhV,KAAK1hB,EAAe83B,eAAAA,UAAWQ,IAE3C3E,MAAO2E,EAAQ3E,QAEd4D,EAAMjD,YACPiD,EAAMlpB,SAIX,OAAA,EAAS,EAAA,WAAA,EAAS,EAAA,UAAA,GAAI+H,GAAM,CAAEgS,OAAQA,SAIlD,OAAA,EAAEuO,EAAAA,WAAAA,GAEb,SAAS6B,EAAmBrf,GACpBsf,IAAAA,GAAe,EAAE,EAAA,eAAA,CACjB9sB,GAAI,QACJwN,QAASA,EACTmc,QAAS,SACTC,OAAQ,CACJmD,OAAQ,CACJ7gB,GAAI,CACA8gB,aAAc,CACV5gB,OAAQ,WACRkb,QAAS,CAAC,cAAe,aAE7B2F,UAAW,CACP7gB,OAAQ,SACRkb,QAAS,CAAC,eAItB4F,SAAU,CACNhhB,GAAI,CACAihB,eAAgB,CACZ/gB,OAAQ,SACRkb,QAAS,CAAC,iBAEd2F,UAAW,CACP7gB,OAAQ,SACRkb,QAAS,CAAC,iBAK3B,CACCA,QAAS,CACLkB,SAAU,SAAU/d,EAAKgF,GACjB,YAAaA,GACbhF,EAAImhB,MAAMpD,SAAS/Y,EAAMgH,QAAQ8Q,QAGzC6F,aAAa,EAAE,EAAA,QAAA,CACXC,YAAa,SAAU5iB,GAAcA,OAAAA,EAAImhB,MAAMrE,SAEnD+F,aAAc,SAAU7iB,GACpBA,EAAImhB,MAAMpD,SAAS/d,EAAI4iB,iBAI5B,OAAA,EAAEP,EAAAA,WAAAA;;AC1PE11B,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EALf,IAAIA,EAAQ,SAAUsD,GAAqB,MAAA,CACvC,YAAcA,EAAa,wBAC3B,2CAGWtD,EAAAA,EAAAA,QAAAA,QAAAA;;ACwCf,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,EA7CA,IAAA,EAAA,QAAA,yCACA,EAAA,QAAA,0DACA,EAAA,QAAA,eACA,EAAA,QAAA,eACA,EAAA,EAAA,QAAA,4CAEA,EAAA,QAAA,qBACA,EAAA,QAAA,cACA,EAAA,QAAA,gBACA,EAAA,EAAA,QAAA,6BAoCA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAlCA,IAAIm2B,EAAsB,IACtBC,EAAqB,IACrBtJ,EAAOuJ,EAAUC,SAAAA,EACjBC,EAAwB,aACxBC,EAAyB,CACzBC,SAAU,IACVC,QAAS,QACTC,UAAW,EACXC,YAAa,OAEbC,EAAmB,CACnB5O,MAAO,CACH,SACA,QACA,QACA,aACA,QACA,MACA,SACA,QACA,QACA,iBACA,WACA,OACA,MACA,QACA,OACA,UACA,UACA,QACA,QAEJ6O,kBAAc9vB,GAEd+vB,EAAY,WACHA,SAAAA,EAAS1R,EAAQ+M,GAClBnb,IAAAA,EAAQ,KAMR,GALC+f,KAAAA,UAAY,KACZC,KAAAA,cAAgB,GAChBtD,KAAAA,QAAU7G,IACVoK,KAAAA,2BAA6B,GAC7BC,KAAAA,SAAW,IAAIlb,MACdmW,MAAAA,OAAuC,EAASA,EAAOnB,WAAa5L,EAAO3nB,OAAS,EAChF,MAAA,IAAIuO,MAAM,oCAEhBmrB,IAAAA,EAAgB,CAChBjH,MAAO,EACPkH,KAAM1oB,SAASiJ,KACf0f,YAAa,EACbC,cAAc,EACdC,aAAa,EACbC,WAAW,EACXn0B,WAAY,WACZ2tB,UAAU,EACVyG,iBAAkB,GAClBC,cAAc,EACdC,qBAAqB,EACrBC,gBAAgB,EAChBb,UAAWR,EACXsB,UAAWjB,GAEVzE,KAAAA,OAASj1B,OAAOC,OAAO,GAAIg6B,EAAehF,GAC1C,KAAKA,OAAO0F,UAAUhB,eACvB,KAAK1E,OAAO0F,UAAUhB,aAAe,KAAKiB,oBACzCC,KAAAA,aAAe,KAAKA,aAAa/V,KAAK,MACtCyR,KAAAA,UAAY,KAAKA,UAAUzR,KAAK,MAChC0R,KAAAA,QAAQ7e,GAAG7X,EAAeg7B,eAAAA,OAAQ,KAAKD,cACvCE,KAAAA,WACAC,KAAAA,UAAY,IAAIze,EAAJ,UACZ0e,KAAAA,kBAAoB,IAAInc,IACxBoc,KAAAA,gBAAkB,IAAIpc,IACtB0X,KAAAA,QAAQ7e,GAAG7X,EAAei4B,eAAAA,MAAO,WAC9B5Z,IAAAA,EAAKtX,EAAIuX,EAAKxW,EAAIuX,EAAKrX,EACvBsB,EAAK0Q,EAAMkhB,UAAU9c,QAASH,EAAY3U,EAAG2U,UAAWE,EAAW7U,EAAG6U,SACtE,IACK,IAAA,IAAItS,GAAK,EAASmO,EAAAA,UAAAA,EAAMmhB,kBAAkBE,WAAY/uB,EAAKT,EAAGzK,QAASkL,EAAGhL,KAAMgL,EAAKT,EAAGzK,OAAQ,CAC7FuL,IAAAA,GAAK,EAAOL,EAAAA,QAAAA,EAAGjL,MAAO,GAAIi6B,EAAO3uB,EAAG,GAAIwF,EAASxF,EAAG,GACjDxJ,EAAAA,OAAAA,IAAIgP,EAAOjG,KAAKP,IAAMwG,EACzBA,EAAOjG,KAAK9E,OAASpF,EAAS6H,SAAAA,SACN,aAAxBsI,EAAOjG,KAAKxJ,SACZ44B,EAAK9yB,cACL2J,EAAO9Q,MAAQi6B,EAAK9yB,aAExB2J,EAAO2E,YAAYwkB,GACnBthB,EAAMuhB,aAAappB,IAG3B,MAAO0M,GAASR,EAAM,CAAExc,MAAOgd,GACvB,QACA,IACIvS,IAAOA,EAAGhL,OAASyF,EAAK8E,EAAGiT,SAAS/X,EAAGlG,KAAKgL,GAE5C,QAAMwS,GAAAA,EAAK,MAAMA,EAAIxc,OAEjCmY,EAAMmhB,kBAAkBlH,QACxBja,EAAMohB,gBAAgBnH,QAClB,IACK,IAAA,IAAI7F,GAAK,EAASnQ,EAAAA,UAAAA,EAAUzN,UAAWgrB,EAAKpN,EAAGhtB,QAASo6B,EAAGl6B,KAAMk6B,EAAKpN,EAAGhtB,OAAQ,CAC9EsY,IAAAA,EAAI8hB,EAAGn6B,MACX2Y,EAAMyhB,YAAY/hB,IAG1B,MAAOqF,GAAST,EAAM,CAAEzc,MAAOkd,GACvB,QACA,IACIyc,IAAOA,EAAGl6B,OAASwG,EAAKsmB,EAAGtP,SAAShX,EAAGjH,KAAKutB,GAE5C,QAAM9P,GAAAA,EAAK,MAAMA,EAAIzc,OAE7B,IACK,IAAA,IAAI65B,GAAK,EAASvd,EAAAA,UAAAA,EAAS3N,UAAWmrB,EAAKD,EAAGt6B,QAASu6B,EAAGr6B,KAAMq6B,EAAKD,EAAGt6B,OAAQ,CAC7EsY,EAAIiiB,EAAGt6B,MACX2Y,EAAM4hB,WAAWliB,IAGzB,MAAOuG,GAASZ,EAAM,CAAExd,MAAOoe,GACvB,QACA,IACI0b,IAAOA,EAAGr6B,OAAS0G,EAAK0zB,EAAG5c,SAAS9W,EAAGnH,KAAK66B,GAE5C,QAAMrc,GAAAA,EAAK,MAAMA,EAAIxd,UAGjC01B,IAAAA,EAAQ,IAAIvE,EAAJ,MAAU,IAAKmC,MAAAA,OAAuC,EAASA,EAAOjC,QAAUiH,EAAcjH,OACrG2I,KAAAA,SAAU,EAAoB,EAAA,qBAAA,CAC/BzT,OAAQA,EAAOjlB,IAAI,SAAUzB,GACrByzB,OAAAA,GAAUA,EAAO2G,SACV3G,EAAO2G,SAASp6B,GAEpBA,IAEX61B,MAAOA,EACPvR,WAAY,EACZ0O,aAAc,EACd2C,gBAAiB,MAClB,CACCZ,UAAW,KAAKA,UAChBC,QAAS,KAAKA,UAEbmF,KAAAA,QAAQxtB,QACRwtB,KAAAA,QAAQ3F,UAAU,SAAUG,GAC7Brc,EAAM0c,QAAQhV,KAAK1hB,EAAe+7B,eAAAA,YAAa,CAC3CC,OAAQ3F,MAGX4F,KAAAA,cAAe,EAAmB,EAAA,oBAAA,CACnCjD,aAAc,EACdzB,MAAOA,IAEN0E,KAAAA,aAAa5tB,QACb4tB,KAAAA,aAAa/F,UAAU,SAAUG,GAClCrc,EAAM0c,QAAQhV,KAAK1hB,EAAe+7B,eAAAA,YAAa,CAC3C7I,MAAOmD,MAGX6F,IAAAA,EAAY,KAAKL,QAAQxF,MAAMld,QAAQiP,OAAOjgB,KAAK,SAAUzG,GAAYA,OAAAA,EAAE0F,OAASxH,EAAUmc,UAAAA,OAC9FogB,EAAoB,KAAKN,QAAQxF,MAAMld,QAAQiP,OAAOjgB,KAAK,SAAUzG,GAAYA,OAAAA,EAAE0F,OAASxH,EAAUkc,UAAAA,eACtGogB,GAAAA,EAAW,CACPn1B,IAAAA,EAAKm1B,EAAUlgB,KAAMogB,EAAUr1B,EAAGyC,MAAO6yB,EAAWt1B,EAAG0C,OAC3D+P,WAAW,WACPQ,EAAM0c,QAAQhV,KAAK1hB,EAAeg7B,eAAAA,OAAQ,CACtCxxB,MAAO4yB,EACP3yB,OAAQ4yB,KAEb,GAEHF,GACA3iB,WAAW,WACPQ,EAAMsiB,oBAAoBH,GAC1BniB,EAAMuiB,OAAOC,cAAcnM,SAAS8L,EAAkBngB,KAAK4S,gBAC5D,GAmjCJkL,OAhjCP55B,OAAOwS,eAAeonB,EAASn5B,UAAW,QAAS,CAC/Coc,IAAK,WACM,OAAA,KAAK8e,QAAQxF,MAAMld,QAAQoe,OAEtC1kB,YAAY,EACZF,cAAc,IAElBmnB,EAASn5B,UAAUkX,GAAK,SAAUuD,EAAO4L,GAE9B,OADF0P,KAAAA,QAAQ7e,GAAGuD,EAAO4L,GAChB,MAEX8S,EAASn5B,UAAU87B,UAAY,SAAUtH,GACjCnb,IAAAA,EAAQ,KACZ9Z,OAAOoS,KAAK6iB,GAAQ1uB,QAAQ,SAAU+Q,GAClCwC,EAAMmb,OAAO3d,GAAO2d,EAAO3d,KAE1B,KAAK2d,OAAOmF,cACRoC,KAAAA,oBAEmB,IAAjBvH,EAAOjC,OACT+I,KAAAA,aAAahG,KAAK,CACnB7uB,KAAM,YACNgb,QAAS,CACL8Q,MAAOiC,EAAOjC,cAIM,IAArBiC,EAAO4E,aACW,IAArB5E,EAAO4E,UACH,KAAKA,YACAA,KAAAA,UAAU1oB,MAAMsrB,QAAU,SAI9B,KAAK5C,YACDA,KAAAA,UAAYroB,SAAS7L,cAAc,UACnCk0B,KAAAA,UAAUvwB,MAAQmd,OAAOiW,WAAW,KAAKL,OAAO/yB,OAChDuwB,KAAAA,UAAUtwB,OAASkd,OAAOiW,WAAW,KAAKL,OAAO9yB,QACjDswB,KAAAA,UAAUxzB,UAAUoW,IAAI,uBACxBkgB,KAAAA,QAAQC,aAAa,KAAK/C,UAAW,KAAKwC,SAE9CxC,KAAAA,UAAU1oB,MAAMsrB,QAAU,aAI3C7C,EAASn5B,UAAUo8B,YAAc,WACzBC,IAAAA,EAAa,KAAKnB,QAAQxF,MAAMld,QAAQiP,OAAO,GAC/C6U,EAAY,KAAKpB,QAAQxF,MAAMld,QAAQiP,OAAO,KAAKyT,QAAQxF,MAAMld,QAAQiP,OAAO3nB,OAAS,GACtF,MAAA,CACH8xB,UAAWyK,EAAWnP,UACtBqP,QAASD,EAAUpP,UACnBsP,UAAWF,EAAUpP,UAAYmP,EAAWnP,YAGpDiM,EAASn5B,UAAUy8B,eAAiB,WACzB,OAAA,KAAK7F,MAAMvR,WAAa,KAAKqX,iBAExCvD,EAASn5B,UAAU08B,cAAgB,WAC3Bt2B,IAAAA,EAAK,KAAK80B,QAAQxF,MAAMld,QACrBub,OAD6C3tB,EAAG2tB,aAAuB3tB,EAAGqhB,OACpD,GAAGyF,WAEpCiM,EAASn5B,UAAU4V,KAAO,SAAUyP,GAC5Bjf,IAAAA,OACe,IAAfif,IAAyBA,EAAa,GACtC,KAAK6V,QAAQxF,MAAM1vB,QAAQ,UACtBk1B,KAAAA,QAAQ5F,KAAK,CAAE7uB,KAAM,OAAQgb,QAAS,CAAE4D,WAAYA,MAGpD6V,KAAAA,QAAQ5F,KAAK,CAAE7uB,KAAM,UACrBy0B,KAAAA,QAAQ5F,KAAK,CAAE7uB,KAAM,OAAQgb,QAAS,CAAE4D,WAAYA,MAEtB,QAAtCjf,EAAK,KAAKw1B,OAAOe,uBAAoC,IAAPv2B,GAAyBA,EAAGw2B,qBAAqB,QAAQ,GAAGh3B,UAAU8W,OAAO,gBACvHqZ,KAAAA,QAAQhV,KAAK1hB,EAAew9B,eAAAA,QAErC1D,EAASn5B,UAAU6V,MAAQ,SAAUwP,GAC7Bjf,IAAAA,OACegD,IAAfic,GAA4B,KAAK6V,QAAQxF,MAAM1vB,QAAQ,YAClDk1B,KAAAA,QAAQ5F,KAAK,CAAE7uB,KAAM,UAEJ,iBAAf4e,IACFzP,KAAAA,KAAKyP,GACL6V,KAAAA,QAAQ5F,KAAK,CAAE7uB,KAAM,WAES,QAAtCL,EAAK,KAAKw1B,OAAOe,uBAAoC,IAAPv2B,GAAyBA,EAAGw2B,qBAAqB,QAAQ,GAAGh3B,UAAUoW,IAAI,gBACpH+Z,KAAAA,QAAQhV,KAAK1hB,EAAekpB,eAAAA,QAErC4Q,EAASn5B,UAAU88B,OAAS,SAAUzX,QACf,IAAfA,IAAyBA,EAAa,GAC1Cha,QAAQC,KAAK,gGACRsK,KAAAA,KAAKyP,GACL0Q,KAAAA,QAAQhV,KAAK1hB,EAAe09B,eAAAA,SAErC5D,EAASn5B,UAAUw3B,UAAY,SAAUzD,GAChCmH,KAAAA,QAAQ5F,KAAK,CAAE7uB,KAAM,UAAWgb,QAAS,CAAEsS,aAAcA,MAElEoF,EAASn5B,UAAUy3B,SAAW,SAAUuF,GAChC3jB,IAAAA,EAAQ,KACRoB,EAAQ,KAAK+Z,OAAO2G,SAClB,KAAK3G,OAAO2G,SAAS6B,GACrBA,EACNC,QAAQC,UAAUC,KAAK,WACZ9jB,OAAAA,EAAM6hB,QAAQ5F,KAAK,CAAE7uB,KAAM,YAAagb,QAAS,CAAEhH,MAAOA,QAGzE0e,EAASn5B,UAAUo9B,eAAiB,WAC3BxB,KAAAA,OAAOtlB,aAAa,YAAa,QACjCslB,KAAAA,OAAOlrB,MAAM2sB,cAAgB,QAEtClE,EAASn5B,UAAUs9B,gBAAkB,WAC5B1B,KAAAA,OAAOtlB,aAAa,YAAa,MACjCslB,KAAAA,OAAOlrB,MAAM2sB,cAAgB,QAEtClE,EAASn5B,UAAUs6B,SAAW,WACrB4B,KAAAA,QAAUnrB,SAAS7L,cAAc,OACjCg3B,KAAAA,QAAQt2B,UAAUoW,IAAI,oBACtBwY,KAAAA,OAAOiF,KAAKtjB,YAAY,KAAK+lB,SAC7BqB,KAAAA,MAAQxsB,SAAS7L,cAAc,OAC/Bq4B,KAAAA,MAAM33B,UAAUoW,IAAI,kBACpBkgB,KAAAA,QAAQ/lB,YAAY,KAAKonB,QACA,IAA1B,KAAK/I,OAAO4E,YACPA,KAAAA,UAAYroB,SAAS7L,cAAc,UACnCk0B,KAAAA,UAAUxzB,UAAUoW,IAAI,uBACxBod,KAAAA,UAAU1oB,MAAMsrB,QAAU,UAC1BE,KAAAA,QAAQ/lB,YAAY,KAAKijB,YAE7BwC,KAAAA,OAAS7qB,SAAS7L,cAAc,UACjCkC,IAAAA,EAAa,CAAC,qBACd,KAAKotB,OAAOwF,qBACZ5yB,EAAWnG,KAAK,iBAEf26B,KAAAA,OAAOlrB,MAAMsrB,QAAU,OACvBJ,KAAAA,OAAOtlB,aAAa,UAAWlP,EAAW1E,KAAK,MAC/C46B,KAAAA,kBACApB,KAAAA,QAAQ/lB,YAAY,KAAKylB,QAC1B,KAAKA,OAAOC,eAAiB,KAAKD,OAAOe,mBAChC,EAAA,EAAA,UAAA,KAAKf,OAAOC,cAAe,KAAKD,OAAOe,kBACrC,EAAA,EAAA,UAAA,KAAKf,OAAOC,iBAG/B1C,EAASn5B,UAAUo6B,aAAe,SAAUoD,GACpCC,IAAAA,EAAKr3B,EACJw1B,KAAAA,OAAOlrB,MAAMsrB,QAAU,UACxB,IACK,IAAA,IAAI70B,GAAK,EAAS,EAAA,UAAA,CAAC,KAAKiyB,UAAW,KAAKwC,SAAUv0B,EAAKF,EAAG1G,QAAS4G,EAAG1G,KAAM0G,EAAKF,EAAG1G,OAAQ,CACzF2E,IAAAA,EAAKiC,EAAG3G,MACP0E,IAGLA,EAAGkR,aAAa,QAASonB,OAAOF,EAAU30B,QAC1CzD,EAAGkR,aAAa,SAAUonB,OAAOF,EAAU10B,WAGnD,MAAO60B,GAASF,EAAM,CAAEv8B,MAAOy8B,GACvB,QACA,IACIt2B,IAAOA,EAAG1G,OAASyF,EAAKe,EAAGgX,SAAS/X,EAAGlG,KAAKiH,GAE5C,QAAMs2B,GAAAA,EAAK,MAAMA,EAAIv8B,SAGrCi4B,EAASn5B,UAAU81B,UAAY,SAAUrb,EAAOwc,GACxC5d,IAEA6d,EAFA7d,EAAQ,KAGJoB,YAFO,IAAXwc,IAAqBA,GAAS,GAE1Bxc,EAAMhU,MACLxH,KAAAA,EAAU+b,UAAAA,iBACV/b,KAAAA,EAAUgc,UAAAA,KACX,MACChc,KAAAA,EAAUic,UAAAA,OACXgc,EAAS,WACL7d,EAAM0c,QAAQhV,KAAK1hB,EAAeu+B,eAAAA,YAAanjB,IAEnD,MACCxb,KAAAA,EAAUmc,UAAAA,KACX8b,EAAS,WACE7d,OAAAA,EAAM0c,QAAQhV,KAAK1hB,EAAeg7B,eAAAA,OAAQ,CAC7CxxB,MAAO4R,EAAMY,KAAKxS,MAClBC,OAAQ2R,EAAMY,KAAKvS,UAG3B,MACC7J,KAAAA,EAAUkc,UAAAA,aACX+b,EAAS,WACL7d,EAAMsiB,oBAAoBlhB,EAAOwc,GACjC5d,EAAMuiB,OAAOC,cAAcnM,SAASjV,EAAMY,KAAK4S,gBAEnD,MACChvB,KAAAA,EAAUqvB,UAAAA,oBACX4I,EAAS,WACD2G,IAAAA,EAAKz3B,EAEL6wB,GADJ5d,EAAMykB,iBAAiBrjB,EAAOwc,IAC1BA,IAGAxc,IAAUpB,EAAM0kB,2BAChB1kB,EAAM0kB,yBAA2B,KACjC1kB,EAAM0iB,gBAEN1iB,EAAMmb,OAAOmF,eAAiBtgB,EAAM0kB,0BAA0B,CAC1D,IACK,IAAA,IAAI52B,GAAK,EAASkS,EAAAA,UAAAA,EAAM6hB,QAAQxF,MAAMld,QAAQiP,QAASpgB,EAAKF,EAAG1G,QAAS4G,EAAG1G,KAAM0G,EAAKF,EAAG1G,OAAQ,CAC9Fu9B,IAAAA,EAAS32B,EAAG3G,MACZs9B,KAAAA,EAAO9Q,WAAazS,EAAMyS,YAG1B7T,EAAM4kB,kBAAkBD,GAAS,CAC7BA,EAAOhL,MAAQvY,EAAMuY,MACrBuF,EACIlf,EAAMiiB,aAAa5F,MAAMld,QAAQoe,MAAMrE,QAC3ClZ,EAAM0kB,yBAA2BC,GAErC,QAIZ,MAAOE,GAASL,EAAM,CAAE38B,MAAOg9B,GACvB,QACA,IACI72B,IAAOA,EAAG1G,OAASyF,EAAKe,EAAGgX,SAAS/X,EAAGlG,KAAKiH,GAE5C,QAAM02B,GAAAA,EAAK,MAAMA,EAAI38B,OAE7BmY,GAAAA,EAAM0kB,yBAA0B,CAC5BI,IAAAA,EAAW9kB,EAAM0kB,yBAAyB/K,MAAQvY,EAAMuY,MACxDvR,EAAU,CACV8Q,MAAOV,KAAKuM,IAAIvM,KAAKwM,MAAMF,EAAW3F,GAAqB,MAE/Dnf,EAAMiiB,aAAahG,KAAK,CAAE7uB,KAAM,eAAgBgb,QAASA,IACzDpI,EAAM0c,QAAQhV,KAAK1hB,EAAei/B,eAAAA,UAAW7c,MA8B1D8c,OAxBa,WAKZ9jB,GAJAyc,GACAA,IAEJ7d,EAAM6hB,QAAQ5F,KAAK,CAAE7uB,KAAM,aAAcgb,QAAS,CAAEhH,MAAOA,KACvDA,IACApB,EAAM6hB,QAAQxF,MAAMld,QAAQiP,OAAOpO,EAAM6hB,QAAQxF,MAAMld,QAAQiP,OAAO3nB,OAAS,GAAI,CAC/E0+B,IAAAA,EAAW,WACXnlB,EAAM0iB,eACN1iB,EAAM6hB,QAAQ5F,KAAK,OACnBjc,EAAM0c,QAAQhV,KAAK1hB,EAAeo/B,eAAAA,SAElChkB,EAAMhU,OAASxH,EAAUqvB,UAAAA,qBACzB7T,EAAMY,KAAKrN,SAAW9O,EAAkBoc,kBAAAA,WACxCb,EAAMY,KAAK4J,UAAUnlB,OACrB+Y,WAAW,WACP2lB,KACD3M,KAAK6M,IAAI,EAAyC,GAArCjkB,EAAMY,KAAK4J,UAAU,GAAGI,aAGxCmZ,OAMhBrF,EAASn5B,UAAU27B,oBAAsB,SAAUlhB,EAAOwc,GAElD,QADW,IAAXA,IAAqBA,GAAS,IAC7B,KAAK2E,OAAOe,gBACNtxB,OAAAA,QAAQC,KAAK,gDAEpB/L,OAAOoS,KAAK,KAAK2nB,4BAA4Bx5B,QAC7CuL,QAAQC,KAAK,oCAAqC,KAAKguB,4BAEtDA,KAAAA,2BAA6B,GAC3B92B,EAAAA,OAAAA,KAAM,EAAQiY,EAAAA,SAAAA,EAAMY,KAAKzN,KAAM,CAClCnJ,IAAK,KAAKm3B,OAAOe,kBAClB,GACCgC,IAAAA,EAAU5tB,SAAS7L,cAAc,SACjCkB,EAAK,KAAKw1B,OAAOe,gBAAiB7iB,EAAkB1T,EAAG0T,gBAAiB8F,EAAOxZ,EAAGwZ,KACtF9F,EAAgBqiB,aAAawC,EAAS/e,GAClCgf,IAAAA,GAAoB,EAAM,EAAA,SAAA,KAAKpK,OAAO9uB,YAAYtE,OAAO,KAAKozB,OAAOsF,kBACrE,KAAKtF,OAAOyF,gBACZ2E,EAAkB39B,KAAK,oEAEtB,KAAKi6B,QAAQxF,MAAM1vB,QAAQ,YACvB41B,KAAAA,OAAOe,gBACPC,qBAAqB,QAAQ,GAC7Bh3B,UAAUoW,IAAI,gBAElB,IAAA,IAAImD,EAAM,EAAGA,EAAMyf,EAAkB9+B,OAAQqf,IAC9Cwf,EAAQh3B,MAAMqgB,WAAW4W,EAAkBzf,GAAMA,GAEhD4W,KAAAA,QAAQhV,KAAK1hB,EAAew/B,eAAAA,sBAAuBpkB,GACnDwc,GACI6H,KAAAA,wBAEL,KAAKtK,OAAOwF,qBACP+E,KAAAA,oBAGb5F,EAASn5B,UAAU8+B,sBAAwB,WACnCzlB,IACAjT,EADAiT,EAAQ,KAERuG,EAA8C,QAAtCxZ,EAAK,KAAKw1B,OAAOe,uBAAoC,IAAPv2B,OAAgB,EAASA,EAAGwZ,KAClFA,GAAAA,EAAM,CACFof,IACAC,EADAD,EAAiB,IAAIzgB,IAErB2gB,EAAoB,KAAKhE,QAAQxF,MACjCyJ,EAAiB,WACjBD,EAAoB7lB,EAAM6hB,QAAQxF,OAEjCK,KAAAA,QAAQ7e,GAAG7X,EAAew9B,eAAAA,MAAOsC,GACjCpJ,KAAAA,QAAQ7e,GAAG7X,EAAekpB,eAAAA,MAAO4W,GAClCC,IAAAA,EAAgB,WAChB/lB,EAAM0c,QAAQ1G,IAAIhwB,EAAew9B,eAAAA,MAAOsC,GACxC9lB,EAAM0c,QAAQ1G,IAAIhwB,EAAekpB,eAAAA,MAAO4W,IAE5Cvf,EACK2H,iBAAiB,0BACjBzhB,QAAQ,SAAUoH,GACdA,EAAIvF,QACLq3B,EAAehjB,IAAI9O,GACnBA,EAAIqK,iBAAiB,OAAQ,WACzBynB,EAAehiB,OAAO9P,GACM,IAAxB8xB,EAAeK,OAA2B,IAAbJ,IACzBC,EAAkBl5B,QAAQ,YAC1BqT,EAAMzD,KAAKyD,EAAMojB,kBAErBpjB,EAAM0c,QAAQhV,KAAK1hB,EAAeigC,eAAAA,mBAC9BL,GACAvmB,OAAOC,aAAasmB,GAExBG,UAKZJ,EAAeK,KAAO,IACjBnE,KAAAA,QAAQ5F,KAAK,CAAE7uB,KAAM,UACrBsvB,KAAAA,QAAQhV,KAAK1hB,EAAekgC,eAAAA,qBACjCN,EAAUvmB,OAAOG,WAAW,WACpBqmB,EAAkBl5B,QAAQ,YAC1BqT,EAAMzD,KAAKyD,EAAMojB,kBAErBwC,GAAW,EACXG,KACD,KAAK5K,OAAOkF,gBAI3BP,EAASn5B,UAAU++B,iBAAmB,WAC9BS,IAAAA,EAAKp5B,EACLiT,EAAQ,KACRomB,EAAkB,KAAKvE,QAAQxF,MAC/BgK,EAAe,WACfD,EAAkBpmB,EAAM6hB,QAAQxF,OAE/BK,KAAAA,QAAQ7e,GAAG7X,EAAew9B,eAAAA,MAAO6C,GACjC3J,KAAAA,QAAQ7e,GAAG7X,EAAekpB,eAAAA,MAAOmX,GAClClK,IAIAmK,EAAQ,EACRC,EAAW,EACX,IACK,IAAA,IAAIz4B,GAAK,EAAS,EAAA,UAAA,KAAK+zB,QAAQxF,MAAMld,QAAQiP,QAASpgB,EAAKF,EAAG1G,QAAS4G,EAAG1G,KAAM0G,EAAKF,EAAG1G,OAAQ,CAC7Fga,IAAAA,EAAQpT,EAAG3G,MACX+Z,GAAAA,EAAMhU,OAASxH,EAAUqvB,UAAAA,qBACzB7T,EAAMY,KAAKrN,SAAW9O,EAAkByvB,kBAAAA,gBAChB,cAAxBlU,EAAMY,KAAK3Q,UACmB,iBAAvB+P,EAAMY,KAAK5C,KAAK,KACtB,KAAK8gB,SAAS1hB,IAAI4C,GAAQ,CAC3BklB,IACIE,IAAAA,EAAQ9uB,SAAS7L,cAAc,OACnC26B,EAAMtqB,IAAMkF,EAAMY,KAAK5C,KAAK,GACvB8gB,KAAAA,SAASngB,IAAIqB,EAAOolB,GACzBA,EAAMrqB,OAAS,aACXoqB,IACiBD,IACTF,EAAgBz5B,QAAQ,YACxBqT,EAAMzD,KAAKyD,EAAMojB,kBArBrCpjB,EAAM0c,QAAQ1G,IAAIhwB,EAAew9B,eAAAA,MAAO6C,GACxCrmB,EAAM0c,QAAQ1G,IAAIhwB,EAAekpB,eAAAA,MAAOmX,OA4B5C,MAAOI,GAASN,EAAM,CAAEt+B,MAAO4+B,GACvB,QACA,IACIz4B,IAAOA,EAAG1G,OAASyF,EAAKe,EAAGgX,SAAS/X,EAAGlG,KAAKiH,GAE5C,QAAMq4B,GAAAA,EAAK,MAAMA,EAAIt+B,OAE7By+B,IAAUC,GACL1E,KAAAA,QAAQ5F,KAAK,CAAE7uB,KAAM,WAGlC0yB,EAASn5B,UAAU89B,iBAAmB,SAAU/8B,EAAGk2B,GAC3C5d,IACAjT,EAAIe,EADJkS,EAAQ,KAERN,EAAIhY,EAAEsa,KACFtC,OAAAA,EAAE/K,QACD9O,KAAAA,EAAkB2e,kBAAAA,SACfoZ,IACAle,EAAEgF,KAAKjY,QAAQ,SAAUtF,GAAY6Y,OAAAA,EAAMkhB,UAAUve,IAAIxb,KACzDuY,EAAEyD,MAAM1W,QAAQ,SAAUtF,GAAY6Y,OAAAA,EAAMkhB,UAAU5tB,KAAKnM,KAC3DuY,EAAE3R,WAAWtB,QAAQ,SAAUtF,GAAY6Y,OAAAA,EAAMkhB,UAAUpd,UAAU3c,KACrEuY,EAAE+E,QAAQhY,QAAQ,SAAUtF,GAAY6Y,OAAAA,EAAMkhB,UAAU7d,OAAOlc,MAE9Du/B,KAAAA,cAAchnB,EAAGke,GACtB,MAEC/3B,KAAAA,EAAkBoc,kBAAAA,UACf2b,GAAAA,EAAQ,CACJ+I,IAAAA,EAAejnB,EAAEkM,UAAUlM,EAAEkM,UAAUnlB,OAAS,GAC/CmgC,KAAAA,aAAalnB,EAAGinB,EAAava,EAAGua,EAAata,EAAGsa,EAAah1B,SAGlE+N,EAAEkM,UAAUnf,QAAQ,SAAU/F,GACtB2yB,IAAAA,EAAS,CACTU,SAAU,WACN/Z,EAAM4mB,aAAalnB,EAAGhZ,EAAE0lB,EAAG1lB,EAAE2lB,EAAG3lB,EAAEiL,KAEtCgoB,MAAOjzB,EAAEslB,WACLtkB,EAAEmsB,UACF7T,EAAM6hB,QAAQxF,MAAMld,QAAQub,cAEpC1a,EAAMud,MAAMnE,UAAUC,KAErBkE,KAAAA,MAAMnE,UAAU,CACjBW,SAAU,aACVJ,MAAOjyB,EAAEiyB,OAAmC,QAAzB5sB,EAAK2S,EAAEkM,UAAU,UAAuB,IAAP7e,OAAgB,EAASA,EAAGif,cAGxF,MACCnmB,KAAAA,EAAkBqc,kBAAAA,iBACfxC,IAAU,IAAVA,EAAE/N,GACF,MAEAyP,IAAAA,EAAQ,IAAIiJ,MAAMvkB,EAAkB4Z,kBAAAA,EAAEtS,MAAMzE,eAE5C,KADAoV,EAASK,EAAOE,OAAAA,QAAQoB,EAAE/N,KAEnB,OAAA,KAAKk1B,kBAAkBnnB,EAAGA,EAAE/N,IAElC+qB,KAAAA,QAAQhV,KAAK1hB,EAAekc,eAAAA,iBAAkB,CAC/C9U,KAAMsS,EAAEtS,KACR2Q,OAAQA,IAER2iB,IAAAA,EAAe,KAAKvF,OAAOuF,aACvBhhB,OAAAA,EAAEtS,MACDtH,KAAAA,EAAkBghC,kBAAAA,KACf,SAAU/oB,GACVA,EAAOgpB,OAEX,MACCjhC,KAAAA,EAAkBkhC,kBAAAA,MACftG,GAAgB3iB,EAAOkpB,OACvBlpB,EAAOkpB,MAAM,CACTC,eAAe,IAGvB,MACCphC,KAAAA,EAAkBqhC,kBAAAA,MAClBrhC,KAAAA,EAAkBshC,kBAAAA,WAClBthC,KAAAA,EAAkBuhC,kBAAAA,SACdzJ,IACIgJ,KAAAA,aAAalnB,EAAGA,EAAE0M,EAAG1M,EAAE2M,EAAG3M,EAAE/N,IAC5BuyB,KAAAA,MAAM33B,UAAU8W,OAAO,UACvB,KAAK6gB,MAAMoD,YACXpD,KAAAA,MAAM33B,UAAUoW,IAAI,WAE7B,MACJ,QACI5E,EAAOwpB,cAAcnmB,GAE7B,MAECvb,KAAAA,EAAkB0c,kBAAAA,OACf7C,IAAU,IAAVA,EAAE/N,GACF,MAEAisB,GAAAA,EAAQ,CACHsD,KAAAA,UAAUld,OAAOtE,GACtB,MAEC+hB,KAAAA,YAAY/hB,GACjB,MAEC7Z,KAAAA,EAAkBwc,kBAAAA,eACdqa,KAAAA,QAAQhV,KAAK1hB,EAAeg7B,eAAAA,OAAQ,CACrCxxB,MAAOkQ,EAAElQ,MACTC,OAAQiQ,EAAEjQ,SAEd,MACC5J,KAAAA,EAAkB2c,kBAAAA,MACf9C,IAAU,IAAVA,EAAE/N,GACF,MAEAisB,GAAAA,EAAQ,CACHsD,KAAAA,UAAUhd,MAAMxE,GACrB,MAECkiB,KAAAA,WAAWliB,GAChB,MAEC7Z,KAAAA,EAAkBuc,kBAAAA,iBAEf,KADArE,EAASK,EAAOE,OAAAA,QAAQoB,EAAE/N,KAEnB,OAAA,KAAKk1B,kBAAkBnnB,EAAGA,EAAE/N,IAEnC61B,IAAAA,EAAYzpB,EACZ,IACI2B,EAAEtS,OAASrH,EAAkBmpB,kBAAAA,OAC7BsY,EAAUhrB,QAEVkD,EAAEtS,OAASrH,EAAkBkpB,kBAAAA,OACzBuY,EAAU/R,YAAcgS,iBAAiBC,kBACzCF,EAAUjrB,OAGVirB,EAAUtpB,iBAAiB,UAAW,WAClCspB,EAAUjrB,UAK1B,MAAO1U,GACC,KAAKszB,OAAOoF,aACZvuB,QAAQC,KAAK,yCAA2CpK,EAAM8/B,SAAW9/B,IAGjF,MAEChC,KAAAA,EAAkByc,kBAAAA,eAEf,KADAvE,EAASK,EAAOE,OAAAA,QAAQoB,EAAE/N,KAEnB,OAAA,KAAKk1B,kBAAkBnnB,EAAGA,EAAE/N,IAEnC2zB,IAAAA,EAAUvnB,EACV5F,EAAS4F,EAAO7N,WAChB03B,EAAqB,KAAKzG,kBAAkB3iB,IAAIrG,GAChD0vB,OAAkB,EAClBD,GAAAA,EAAoB,CAChBE,IAAAA,EAAY,KAAK3G,kBAAkBpe,IAAIhF,EAAO7N,YAClD23B,EAAkBnwB,SAASkF,eAAe,IAC1CzE,EAAO4vB,aAAaF,EAAiB9pB,GACrC+pB,EAAUhrB,YAAYiB,GAEtBiqB,IAAAA,EAAe1C,EAAQh3B,MACvBoR,EAAEgF,MACFhF,EAAEgF,KAAKjY,QAAQ,SAAUM,GACjBzD,IAAAA,EAAOyD,EAAGzD,KAAMmd,EAAQ1Z,EAAG0Z,MAC3B,IACIwhB,IAAAA,OAAmBl4B,IAAV0W,OACP1W,EACAyoB,KAAKuM,IAAIte,EAAOuhB,EAAaj/B,MAAMtC,QACrC,IACAuhC,EAAarZ,WAAWrlB,EAAM2+B,GAElC,MAAOvgC,KAGX,MAAOA,OAIXgY,EAAE+E,SACF/E,EAAE+E,QAAQhY,QAAQ,SAAUM,GACpB0Z,IAAAA,EAAQ1Z,EAAG0Z,MACX,IACAuhB,EAAalZ,WAAWrI,GAE5B,MAAO/e,OAIXkgC,GAAsBC,GACtB1vB,EAAO4vB,aAAahqB,EAAQ8pB,GAEhC,MAEChiC,KAAAA,EAAkByvB,kBAAAA,eACf,IAAC,KAAK6F,OAAOwF,oBACb,OAEA5iB,IAAAA,EACA,KADAA,EAASK,EAAOE,OAAAA,QAAQoB,EAAE/N,KAEnB,OAAA,KAAKk1B,kBAAkBnnB,EAAGA,EAAE/N,IAEnC,IACIyK,IAAAA,EAAM2B,EAAO1B,WAAW,MACxBqD,GAAAA,EAAEkQ,OAEF,YADAxT,EAAIsD,EAAErO,UAAYqO,EAAEN,KAAK,IAGzBS,IAAAA,EAAWzD,EAAIsD,EAAErO,UACjBqO,GAAe,cAAfA,EAAErO,UAAiD,iBAAdqO,EAAEN,KAAK,GAAiB,CACzDonB,IAAAA,EAAQ,KAAKtG,SAASnd,IAAIrb,GAC9BgY,EAAEN,KAAK,GAAKonB,EACZ3mB,EAAS/Y,MAAMsV,EAAKsD,EAAEN,WAGtBS,EAAS/Y,MAAMsV,EAAKsD,EAAEN,MAG9B,MAAOvX,GACEqgC,KAAAA,yBAAyBxoB,EAAGA,EAAE/N,GAAI9J,GAE3C,MAEChC,KAAAA,EAAkB0vB,kBAAAA,KACf,IACIlF,IAAAA,EAAW,IAAIH,SAASxQ,EAAEyQ,OAAQzQ,EAAE4Q,OAAS,IAAIE,WAAWzG,KAAKnW,MAAM8L,EAAE6Q,aAAe7Q,EAAE6Q,WAAY7Q,EAAE0Q,aACrE,QAAtCtiB,EAAK,KAAKy0B,OAAOe,uBAAoC,IAAPx1B,GAAyBA,EAAG2iB,MAAM9N,IAAI0N,GAEzF,MAAOxoB,GACC,KAAKszB,OAAOoF,aACZvuB,QAAQC,KAAKpK,GAGrB,MAEChC,KAAAA,EAAkB2vB,kBAAAA,IACf,IACI2S,IAAAA,EAAYzgC,EAAEsa,KACd6d,EAAe,KAAK1E,OAAO0F,UAAUhB,aACI,mBAAlCA,EAAasI,EAAUnX,QAC9B6O,EAAasI,EAAUnX,OAAOmX,GAEtC,MAAOtgC,GACC,KAAKszB,OAAOoF,aACZvuB,QAAQC,KAAKpK,MAMjCi4B,EAASn5B,UAAU+/B,cAAgB,SAAUhnB,EAAG0oB,GACxCC,IAAAA,EAAKt7B,EACLiT,EAAQ,KACZN,EAAE+E,QAAQhY,QAAQ,SAAUmW,GACpB7E,IAAAA,EAASK,EAAOE,OAAAA,QAAQsE,EAASjR,IACjC,IAACoM,EACMiC,OAAAA,EAAMsoB,iBAAiB5oB,EAAGkD,EAASjR,IAE1CwG,IAAAA,EAASiG,EAAOE,OAAAA,QAAQsE,EAASI,UACjC,IAAC7K,EACM6H,OAAAA,EAAMsoB,iBAAiB5oB,EAAGkD,EAASI,UAG1C7K,GADGoG,EAAAA,OAAAA,kBAAkBR,GACrB5F,EAAQ,CACJowB,IAAAA,EAAavoB,EAAMmhB,kBAAkBpe,IAAI5K,GACzCowB,GAAAA,GAAcA,EAAW/7B,SAASuR,GAClCwqB,EAAW1rB,YAAYkB,QAEtB,GAAIiC,EAAMmhB,kBAAkB3iB,IAAIT,GAAS,CACtCyqB,IAAAA,EAAaxoB,EAAMmhB,kBAAkBpe,IAAIhF,GAC7C5F,EAAO0E,YAAY2rB,GACnBxoB,EAAMmhB,kBAAkBxd,OAAO5F,QAG/B5F,EAAO0E,YAAYkB,MAI3B0qB,IAAAA,GAAwB,EAAS,EAAA,UAAA,GAAI,KAAKxI,4BAC1C7a,EAAQ,GAcRsjB,IAAAA,EAAa,SAAU9lB,GACnB,IAAC5C,EAAMuiB,OAAOe,gBACPtxB,OAAAA,QAAQC,KAAK,gDAEpBkG,IAAAA,EAASiG,EAAOE,OAAAA,QAAQsE,EAASI,UACjC,IAAC7K,EACMiN,OAAAA,EAAMxd,KAAKgb,GAElB+lB,IAAAA,EAAmB,KAOnBP,GANApoB,EAAMuiB,OAAOe,gBAAgB92B,SAC7Bm8B,EAAmB3oB,EAAMuiB,OAAOe,gBAAgB92B,SAAS2L,GAEpD6H,EAAMuiB,OAAOe,gBAAgB3iB,KAAKnU,WACvCm8B,EAAmB3oB,EAAMuiB,OAAOe,gBAAgB3iB,KAAKnU,SAAS2L,IAE9DiwB,GAAoBO,EAAkB,CAClCC,IAAAA,EAAgBlxB,SAASmxB,yBAItB1wB,IAHAhP,EAAAA,OAAAA,IAAIyZ,EAASI,UAAY4lB,EAChC5oB,EAAMmhB,kBAAkBphB,IAAI6oB,EAAezwB,GAC3C6H,EAAM8oB,WAAW3wB,GACVA,EAAO4wB,YACVH,EAAc9rB,YAAY3E,EAAO4wB,YAErC5wB,EAASywB,EAET/pB,IAAAA,EAAW,KACXzX,EAAO,KAOP4hC,GANApmB,EAASqmB,aACTpqB,EAAWT,EAAOE,OAAAA,QAAQsE,EAASqmB,aAEnCrmB,EAASgD,SACTxe,EAAOgX,EAAOE,OAAAA,QAAQsE,EAASgD,SA5C9BojB,SAAapmB,GACdxb,IAAAA,EAAO,KAIPwb,OAHAA,EAASgD,SACTxe,EAAOgX,EAAOE,OAAAA,QAAQsE,EAASgD,SAEX,OAApBhD,EAASgD,aACW7V,IAApB6S,EAASgD,SACY,IAArBhD,EAASgD,SACRxe,EAsCD4hC,CAAapmB,GACNwC,OAAAA,EAAMxd,KAAKgb,GAElB7E,IAAAA,GAAS,EAAgB6E,EAAAA,iBAAAA,EAASrO,KAAM,CACxCnJ,IAAK4U,EAAMuiB,OAAOe,gBAClBn6B,IAAKiV,EAAOjV,OAAAA,IACZyI,WAAW,EACX6J,SAAS,KAEgB,IAAzBmH,EAASqmB,aAA0C,IAArBrmB,EAASgD,QAOvC/G,GAAYA,EAASgI,aAAehI,EAASgI,YAAY3W,WACzDiI,EAAO2qB,aAAa/kB,EAAQc,EAASgI,aAEhCzf,GAAQA,EAAK8I,WAClBiI,EAAO3L,SAASpF,GACV+Q,EAAO2qB,aAAa/kB,EAAQ3W,GAC5B+Q,EAAO2qB,aAAa/kB,EAAQ,MAGlC5F,EAAO2E,YAAYiB,IAEnB6E,EAASqmB,YAAcrmB,EAASgD,SAChC5F,EAAMkpB,0BAA0BT,EAAuBtwB,EAAQ4F,EAAQ6E,IAlBvE6lB,EAAsB7lB,EAASrO,KAAK5C,IAAM,CACtC4C,KAAMwJ,EACN6E,SAAUA,IAmBtBlD,EAAEgF,KAAKjY,QAAQ,SAAUmW,GACrB8lB,EAAW9lB,KAGRwC,IADHmT,IAAAA,EAAYvZ,KAAKD,MACdqG,EAAM3e,QAAQ,CACb0iC,IAAAA,GAAe,EAAoB/jB,EAAAA,qBAAAA,GAEnCpG,GADJoG,EAAM3e,OAAS,EACXuY,KAAKD,MAAQwZ,EAAY,IAAK,CACzBtmB,KAAAA,KAAK,2DAA4Dk3B,GACtE,MAEA,IACK,IAAA,IAAIC,GAAkBf,OAAM,GAAQ,EAASc,EAAAA,UAAAA,IAAgBE,EAAmBD,EAAehiC,QAASiiC,EAAiB/hC,KAAM+hC,EAAmBD,EAAehiC,OAAQ,CACtKgc,IAAAA,EAAOimB,EAAiBhiC,MACf+W,EAAOE,OAAAA,QAAQ8E,EAAK/b,MAAM2b,WAKhBI,EAAAA,EAAAA,oBAAAA,EAAM,SAAUR,GAC/B8lB,EAAW9lB,KAJV0mB,KAAAA,MAAM,gEAAiElmB,IASxF,MAAOmmB,GAASlB,EAAM,CAAExgC,MAAO0hC,GACvB,QACA,IACIF,IAAqBA,EAAiB/hC,OAASyF,EAAKq8B,EAAetkB,SAAS/X,EAAGlG,KAAKuiC,GAEpF,QAAMf,GAAAA,EAAK,MAAMA,EAAIxgC,QAGjC3B,OAAOoS,KAAKmwB,GAAuBhiC,QACnCP,OAAOC,OAAO,KAAK85B,2BAA4BwI,GAEnD/oB,EAAEyD,MAAM1W,QAAQ,SAAUmW,GAClB7E,IAAAA,EAASK,EAAOE,OAAAA,QAAQsE,EAASjR,IACjC,IAACoM,EACMiC,OAAAA,EAAMsoB,iBAAiB5oB,EAAGkD,EAASjR,IAE1CqO,EAAMmhB,kBAAkB3iB,IAAIT,KAC5BA,EAASiC,EAAMmhB,kBAAkBpe,IAAIhF,IAEzCA,EAAOvP,YAAcoU,EAASvb,QAElCqY,EAAE3R,WAAWtB,QAAQ,SAAUmW,GACvB7E,IAAAA,EAASK,EAAOE,OAAAA,QAAQsE,EAASjR,IACjC,IAACoM,EACMiC,OAAAA,EAAMsoB,iBAAiB5oB,EAAGkD,EAASjR,IAKzC,IAAA,IAAI6W,KAHLxI,EAAMmhB,kBAAkB3iB,IAAIT,KAC5BA,EAASiC,EAAMmhB,kBAAkBpe,IAAIhF,IAEf6E,EAAS7U,WAC3B,GAAyB,iBAAlBya,EAA4B,CAC/BnhB,IAAAA,EAAQub,EAAS7U,WAAWya,GAC5B,IACc,OAAVnhB,EACA0W,EAAOd,aAAauL,EAAenhB,GAGnC0W,EAAOyrB,gBAAgBhhB,GAG/B,MAAO3gB,GACCmY,EAAMmb,OAAOoF,aACbvuB,QAAQC,KAAK,qDAAsDpK,QAO3Fi4B,EAASn5B,UAAU86B,YAAc,SAAU/hB,GACnC3B,IAAAA,EAASK,EAAOE,OAAAA,QAAQoB,EAAE/N,IAC1B,IAACoM,EACM,OAAA,KAAK8oB,kBAAkBnnB,EAAGA,EAAE/N,IAEnCoM,GAAAA,IAAW,KAAKwkB,OAAOe,gBAClBf,KAAAA,OAAOC,cAAcnM,SAAS,CAC/BtB,IAAKrV,EAAE2M,EACPwI,KAAMnV,EAAE0M,EACR8K,SAAU,gBAIV,IACAnZ,EAAO3O,UAAYsQ,EAAE2M,EACrBtO,EAAO7O,WAAawQ,EAAE0M,EAE1B,MAAOvkB,MAIfi4B,EAASn5B,UAAUi7B,WAAa,SAAUliB,GAClC3B,IAAAA,EAASK,EAAOE,OAAAA,QAAQoB,EAAE/N,IAC1B,IAACoM,EACM,OAAA,KAAK8oB,kBAAkBnnB,EAAGA,EAAE/N,IAEnC,IACAoM,EAAOrP,QAAUgR,EAAEsO,UACnBjQ,EAAO1W,MAAQqY,EAAEpM,KAErB,MAAOzL,MAGXi4B,EAASn5B,UAAU8iC,cAAgB,SAAUznB,GACrCA,GAAsB,IAAtBA,EAAKqP,MAAM5qB,OACX,MAAO,GACPijC,IACAC,EADc,UAGXA,OADPA,GAAU3nB,EAAKqP,MAAMhoB,KAFH,YAKtBy2B,EAASn5B,UAAUm6B,iBAAmB,WAC9B8I,IAAAA,EAAK78B,EACLiT,EAAQ,KAER6f,EAAe,GACf9jB,EAAU,SAAUiV,GAEhB6O,EAAa7O,GADH,UAAVA,EACsB,SAAUhP,IACfhQ,QAAQ2gB,IAAR,mBACP3gB,QAAQ2gB,IAAR,mBACA3gB,QAAQ2gB,KACP7rB,WAAM,GAAQ,EAASkb,EAAAA,UAAAA,EAAKoG,QAAQjf,IAAI,SAAU9C,GAAY0jB,OAAAA,KAAKnW,MAAMvN,KAAQ,CAAC2Z,EAAMypB,cAAcznB,OAG3F,SAAUA,IACfhQ,QAAQgf,GAAR,mBACPhf,QAAQgf,GAAR,mBACAhf,QAAQgf,IACPlqB,WAAM,GAAQ,EAASkb,EAAAA,UAAAA,EAAKoG,QAAQjf,IAAI,SAAU9C,GAAY0jB,OAAAA,KAAKnW,MAAMvN,KAAQ,CAAC2Z,EAAMypB,cAAcznB,QAGrH,IACK,IAAA,IAAIlU,GAAK,EAAS,EAAA,UAAA,KAAKqtB,OAAO0F,UAAU7P,OAAQhjB,EAAKF,EAAG1G,QAAS4G,EAAG1G,KAAM0G,EAAKF,EAAG1G,OAAQ,CAE3F2U,EADY/N,EAAG3G,QAIvB,MAAOwiC,GAASD,EAAM,CAAE/hC,MAAOgiC,GACvB,QACA,IACI77B,IAAOA,EAAG1G,OAASyF,EAAKe,EAAGgX,SAAS/X,EAAGlG,KAAKiH,GAE5C,QAAM87B,GAAAA,EAAK,MAAMA,EAAI/hC,OAE1Bg4B,OAAAA,GAEXC,EAASn5B,UAAUuiC,0BAA4B,SAAU//B,EAAKgP,EAAQ4F,EAAQ+rB,GACtEb,IAAAA,EAAaa,EAAeb,WAAYrjB,EAASkkB,EAAelkB,OAChEmkB,EAAgBd,GAAc9/B,EAAI8/B,GAClCe,EAAYpkB,GAAUzc,EAAIyc,GAC1BmkB,GAAAA,EAAe,CACXh9B,IAAAA,EAAKg9B,EAAex1B,EAAOxH,EAAGwH,KAAMqO,EAAW7V,EAAG6V,SACtDzK,EAAO2qB,aAAavuB,EAAMwJ,UACnB5U,EAAIyZ,EAASrO,KAAK5C,WAClB,KAAKsuB,2BAA2Brd,EAASrO,KAAK5C,KACjDiR,EAASqmB,YAAcrmB,EAASgD,SAC3BsjB,KAAAA,0BAA0B//B,EAAKgP,EAAQ5D,EAAMqO,GAGtDonB,GAAAA,EAAW,CACPl8B,IAAAA,EAAKk8B,EAAWz1B,EAAOzG,EAAGyG,KAAMqO,EAAW9U,EAAG8U,SAClDzK,EAAO2qB,aAAavuB,EAAMwJ,EAAO8I,oBAC1B1d,EAAIyZ,EAASrO,KAAK5C,WAClB,KAAKsuB,2BAA2Brd,EAASrO,KAAK5C,KACjDiR,EAASqmB,YAAcrmB,EAASgD,SAC3BsjB,KAAAA,0BAA0B//B,EAAKgP,EAAQ5D,EAAMqO,KAI9Dkd,EAASn5B,UAAUigC,aAAe,SAAUlnB,EAAG0M,EAAGC,EAAG1a,GAC5CuyB,KAAAA,MAAM7sB,MAAMwd,KAAOzI,EAAI,KACvB8X,KAAAA,MAAM7sB,MAAM0d,IAAM1I,EAAI,KACtB4d,KAAAA,cAAc,CAAE7d,EAAGA,EAAGC,EAAGA,IAC1BtO,IAAAA,EAASK,EAAOE,OAAAA,QAAQ3M,GACxB,IAACoM,EACM,OAAA,KAAK8oB,kBAAkBnnB,EAAG/N,GAEhCu4B,KAAAA,cAAcnsB,IAEvB+hB,EAASn5B,UAAUsjC,cAAgB,SAAU71B,GACrC4L,IAAAA,EAAQ,KACR,GAAC,KAAK+f,UAAN,CAGAhzB,IAAAA,GAA+B,IAA1B,KAAKouB,OAAO4E,UACfR,EACAr5B,OAAOC,OAAO,GAAIo5B,EAAwB,KAAKpE,OAAO4E,WAAYN,EAAU1yB,EAAG0yB,QAASC,EAAY3yB,EAAG2yB,UAAWC,EAAc5yB,EAAG4yB,YAAaH,EAAWzyB,EAAGyyB,SAChK2K,EAAO,WACH,GAACnqB,EAAM+f,UAAP,CAGA3jB,IAAAA,EAAM4D,EAAM+f,UAAU1jB,WAAW,MAChCD,GAAQ4D,EAAMggB,cAAcv5B,SAGjC2V,EAAIguB,UAAU,EAAG,EAAGpqB,EAAM+f,UAAUvwB,MAAOwQ,EAAM+f,UAAUtwB,QAC3D2M,EAAIiuB,YACJjuB,EAAIsjB,UAAYA,EAChBtjB,EAAIqjB,QAAUA,EACdrjB,EAAIujB,YAAcA,EAClBvjB,EAAIkuB,OAAOtqB,EAAMggB,cAAc,GAAG5T,EAAGpM,EAAMggB,cAAc,GAAG3T,GAC5DrM,EAAMggB,cAAcvzB,QAAQ,SAAU/F,GAAY0V,OAAAA,EAAImuB,OAAO7jC,EAAE0lB,EAAG1lB,EAAE2lB,KACpEjQ,EAAIouB,YAEHxK,KAAAA,cAAcp4B,KAAKwM,GACxB+1B,IACA3qB,WAAW,WACPQ,EAAMggB,cAAgBhgB,EAAMggB,cAAcpb,OAAO,SAAUle,GAAYA,OAAAA,IAAM0N,IAC7E+1B,KACD3K,EAAW,KAAKyC,aAAa5F,MAAMld,QAAQoe,MAAMrE,SAExD4G,EAASn5B,UAAUujC,cAAgB,SAAUn+B,GACrCgB,IAAAA,EACmC,QAAtCA,EAAK,KAAKw1B,OAAOe,uBAAoC,IAAPv2B,GAAyBA,EAAGmhB,iBAAiB,aAAazhB,QAAQ,SAAUg+B,GACvHA,EAAUl+B,UAAU8W,OAAO,YAGxBqnB,IADHA,IAAAA,EAAY3+B,EACT2+B,GACCA,EAAUn+B,WACVm+B,EAAUn+B,UAAUoW,IAAI,UAE5B+nB,EAAYA,EAAU97B,eAG9BkxB,EAASn5B,UAAUi+B,kBAAoB,SAAUxjB,GACzCA,OAAAA,EAAMhU,OAASxH,EAAUqvB,UAAAA,sBAGrB7T,EAAMY,KAAKrN,OAAS9O,EAAkB2e,kBAAAA,UAC1CpD,EAAMY,KAAKrN,QAAU9O,EAAkB2c,kBAAAA,QAE/Csd,EAASn5B,UAAU+7B,aAAe,WACzBgC,KAAAA,yBAA2B,KAC5B,KAAKzC,aAAa5F,MAAM1vB,QAAQ,YAG/Bs1B,KAAAA,aAAahG,KAAK,CAAE7uB,KAAM,mBAC1BsvB,KAAAA,QAAQhV,KAAK1hB,EAAe2kC,eAAAA,QAAS,CACtCzR,MAAO,KAAK+I,aAAa5F,MAAMld,QAAQ6f,gBAG/Cc,EAASn5B,UAAUmiC,WAAa,SAAU3wB,GAClCyyB,IAAAA,EAAK79B,EACLoL,GAAAA,GACIA,EAAOjL,WAAaiL,EAAOxK,aAAc,CACrCiB,IAAAA,EAAgBuJ,GAChBvJ,EAAcM,YAAcN,EAAcQ,YACrCgyB,KAAAA,gBAAgBrhB,IAAI5H,EAAQ,CAC7B6L,OAAQ,CAACpV,EAAcM,WAAYN,EAAcQ,aAGrD8T,IAAAA,EAAWtU,EAAcsU,SACzB,IACK,IAAA,IAAIpV,GAAK,EAAS7E,EAAAA,UAAAA,MAAMC,KAAKga,IAAYlV,EAAKF,EAAG1G,QAAS4G,EAAG1G,KAAM0G,EAAKF,EAAG1G,OAAQ,CAChFuV,IAAAA,EAAQ3O,EAAG3G,MACVyhC,KAAAA,WAAWnsB,IAGxB,MAAOkuB,GAASD,EAAM,CAAE/iC,MAAOgjC,GACvB,QACA,IACI78B,IAAOA,EAAG1G,OAASyF,EAAKe,EAAGgX,SAAS/X,EAAGlG,KAAKiH,GAE5C,QAAM88B,GAAAA,EAAK,MAAMA,EAAI/iC,UAK7Ci4B,EAASn5B,UAAU46B,aAAe,SAAUppB,GACpC2yB,IAAAA,EAAM/9B,EACNoL,GAAAA,EAAOjL,WAAaiL,EAAOxK,aAAc,CACrCiB,IAAAA,EAAgBuJ,EAChB,GAAA,KAAKipB,gBAAgB5iB,IAAIrG,GAAS,CAC9B4yB,IAAAA,EAAc,KAAK3J,gBAAgBre,IAAI5K,GACvC4yB,EAAY/mB,SACZpV,EAAcM,WAAa67B,EAAY/mB,OAAO,GAC9CpV,EAAcQ,UAAY27B,EAAY/mB,OAAO,IAE5Cod,KAAAA,gBAAgBzd,OAAOxL,GAE5B+K,IAAAA,EAAWtU,EAAcsU,SACzB,IACK,IAAA,IAAIpV,GAAK,EAAS7E,EAAAA,UAAAA,MAAMC,KAAKga,IAAYlV,EAAKF,EAAG1G,QAAS4G,EAAG1G,KAAM0G,EAAKF,EAAG1G,OAAQ,CAChFuV,IAAAA,EAAQ3O,EAAG3G,MACVk6B,KAAAA,aAAa5kB,IAG1B,MAAOquB,GAAUF,EAAO,CAAEjjC,MAAOmjC,GACzB,QACA,IACIh9B,IAAOA,EAAG1G,OAASyF,EAAKe,EAAGgX,SAAS/X,EAAGlG,KAAKiH,GAE5C,QAAMg9B,GAAAA,EAAM,MAAMA,EAAKjjC,UAI3Ci4B,EAASn5B,UAAU2hC,iBAAmB,SAAU5oB,EAAG/N,GAC1CM,KAAAA,KAAK,iBAAmBN,EAAK,iBAAkB+N,IAExDogB,EAASn5B,UAAUuhC,yBAA2B,SAAUxoB,EAAG/N,EAAI9J,GACtDoK,KAAAA,KAAK,+BAAiCN,EAAK,IAAK+N,EAAG7X,IAE5Di4B,EAASn5B,UAAUkgC,kBAAoB,SAAUnnB,EAAG/N,GAC3C23B,KAAAA,MAAMhK,EAAuB,iBAAmB3tB,EAAK,iBAAkB+N,IAEhFogB,EAASn5B,UAAUsL,KAAO,WAEjB,IADDmN,IAAAA,EAAO,GACFpU,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCoU,EAAKpU,GAAMxE,UAAUwE,GAEpB,KAAKmwB,OAAOoF,aAGjBvuB,QAAQC,KAAKnL,MAAMkL,SAAS,EAAS,EAAA,UAAA,CAACstB,GAAwBlgB,KAElE0gB,EAASn5B,UAAU2iC,MAAQ,WAElB,IADDlqB,IAAAA,EAAO,GACFpU,EAAK,EAAGA,EAAKxE,UAAUC,OAAQuE,IACpCoU,EAAKpU,GAAMxE,UAAUwE,GAEpB,KAAKmwB,OAAOqF,WAGjBxuB,QAAQ2gB,IAAI7rB,MAAMkL,SAAS,EAAS,EAAA,UAAA,CAACstB,GAAwBlgB,KAE1D0gB,EA3rCK,GAAhB,QAAA,SAAA;;ACpCA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,oBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,qBAAA,OAAA,eAAA,QAAA,oBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,qBAAA,OAAA,eAAA,QAAA,iBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,kBAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,UAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,QAAA,MAAA,QAAA,WAAA,QAAA,oBAAA,EATA,IAAA,EAAA,QAAA,cACA,EAAA,EAAA,QAAA,eAQA,QAAA,MAAA,EALA,IAAA,EAAA,EAAA,QAAA,sBAEA,EAAA,QAAA,qBAGA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EADA,IAAIpK,EAAiBhC,EAAOgC,QAAAA,eAC5B,QAAA,eAAA,EAAA,IAAIE,EAAalC,EAAOkC,QAAAA,WAAxB,QAAA,WAAA;;ACuwBC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,QAAA,QAAA,EAAA,QAAA,WAAA,EAAA,QAAA,SAAA,EA7wBD,IAAIqV,EAAKza,WAAY0a,EAAMC,YAAaC,EAAMC,YAE1CC,EAAO,IAAIL,EAAG,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAgB,EAAG,EAAoB,IAG1IM,EAAO,IAAIN,EAAG,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAiB,EAAG,IAEjIO,EAAO,IAAIP,EAAG,CAAC,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,KAE7EQ,EAAO,SAAUC,EAAIr3B,GAEhB,IADDs3B,IAAAA,EAAI,IAAIT,EAAI,IACP5kC,EAAI,EAAGA,EAAI,KAAMA,EACtBqlC,EAAErlC,GAAK+N,GAAS,GAAKq3B,EAAGplC,EAAI,GAG5BmB,IAAAA,EAAI,IAAI2jC,EAAIO,EAAE,KACb,IAAIrlC,EAAI,EAAGA,EAAI,KAAMA,EACjB,IAAA,IAAIslC,EAAID,EAAErlC,GAAIslC,EAAID,EAAErlC,EAAI,KAAMslC,EAC/BnkC,EAAEmkC,GAAOA,EAAID,EAAErlC,IAAO,EAAKA,EAG5B,MAAA,CAACqlC,EAAGlkC,IAEXsF,EAAK0+B,EAAKH,EAAM,GAAIO,EAAK9+B,EAAG,GAAI++B,EAAQ/+B,EAAG,GAE/C8+B,EAAG,IAAM,IAAKC,EAAM,KAAO,GAI3B,IAHA,IAAIh+B,EAAK29B,EAAKF,EAAM,GAAIQ,EAAKj+B,EAAG,GAAIk+B,EAAQl+B,EAAG,GAE3Cm+B,EAAM,IAAIf,EAAI,OACT5kC,EAAI,EAAGA,EAAI,QAASA,EAAG,CAExB8lB,IAAAA,GAAU,MAAJ9lB,KAAgB,GAAW,MAAJA,IAAe,EAEhD8lB,GAAU,OADVA,GAAU,MAAJA,KAAgB,GAAW,MAAJA,IAAe,MACtB,GAAW,KAAJA,IAAe,EAC5C6f,EAAI3lC,KAAY,MAAJ8lB,KAAgB,GAAW,IAAJA,IAAe,KAAQ,EAK9D,IAAI8f,EAAQ,SAAUC,EAAIC,EAAI3kC,GAOnBnB,IANHD,IAAAA,EAAI8lC,EAAG1lC,OAEPH,EAAI,EAEJq1B,EAAI,IAAIuP,EAAIkB,GAET9lC,EAAID,IAAKC,IACVq1B,EAAEwQ,EAAG7lC,GAAK,GAEZ+lC,IAIAC,EAJAD,EAAK,IAAInB,EAAIkB,GACZ9lC,IAAAA,EAAI,EAAGA,EAAI8lC,IAAM9lC,EAClB+lC,EAAG/lC,GAAM+lC,EAAG/lC,EAAI,GAAKq1B,EAAEr1B,EAAI,IAAO,EAGlCmB,GAAAA,EAAG,CAEH6kC,EAAK,IAAIpB,EAAI,GAAKkB,GAEdG,IAAAA,EAAM,GAAKH,EACV9lC,IAAAA,EAAI,EAAGA,EAAID,IAAKC,EAEb6lC,GAAAA,EAAG7lC,GAQE,IANDkmC,IAAAA,EAAMlmC,GAAK,EAAK6lC,EAAG7lC,GAEnBmmC,EAAML,EAAKD,EAAG7lC,GAEdmS,EAAI4zB,EAAGF,EAAG7lC,GAAK,MAAQmmC,EAElBtlC,EAAIsR,GAAM,GAAKg0B,GAAO,EAAIh0B,GAAKtR,IAAKsR,EAEzC6zB,EAAGL,EAAIxzB,KAAO8zB,GAAOC,OAO5BlmC,IADLgmC,EAAK,IAAIpB,EAAI7kC,GACRC,EAAI,EAAGA,EAAID,IAAKC,EACjBgmC,EAAGhmC,GAAK2lC,EAAII,EAAGF,EAAG7lC,GAAK,QAAW,GAAK6lC,EAAG7lC,GAE3CgmC,OAAAA,GAGPI,EAAM,IAAIzB,EAAG,KACjB,IAAS3kC,EAAI,EAAGA,EAAI,MAAOA,EACvBomC,EAAIpmC,GAAK,EACb,IAASA,EAAI,IAAKA,EAAI,MAAOA,EACzBomC,EAAIpmC,GAAK,EACb,IAASA,EAAI,IAAKA,EAAI,MAAOA,EACzBomC,EAAIpmC,GAAK,EACb,IAASA,EAAI,IAAKA,EAAI,MAAOA,EACzBomC,EAAIpmC,GAAK,EAEb,IAAIqmC,EAAM,IAAI1B,EAAG,IACjB,IAAS3kC,EAAI,EAAGA,EAAI,KAAMA,EACtBqmC,EAAIrmC,GAAK,EAEb,IAAIsmC,EAAMV,EAAKQ,EAAK,EAAG,GAAIG,EAAOX,EAAKQ,EAAK,EAAG,GAE3CI,EAAMZ,EAAKS,EAAK,EAAG,GAAII,EAAOb,EAAKS,EAAK,EAAG,GAE3CtH,EAAM,SAAUz5B,GAEX,IADDzE,IAAAA,EAAIyE,EAAE,GACDtF,EAAI,EAAGA,EAAIsF,EAAEnF,SAAUH,EACxBsF,EAAEtF,GAAKa,IACPA,EAAIyE,EAAEtF,IAEPa,OAAAA,GAGP6lC,EAAO,SAAUttB,EAAGhZ,EAAGS,GACnBH,IAAAA,EAAKN,EAAI,GAAM,EACX,OAACgZ,EAAE1Y,GAAM0Y,EAAE1Y,EAAI,IAAM,MAAa,EAAJN,GAAUS,GAGhD8lC,EAAS,SAAUvtB,EAAGhZ,GAClBM,IAAAA,EAAKN,EAAI,GAAM,EACX,OAACgZ,EAAE1Y,GAAM0Y,EAAE1Y,EAAI,IAAM,EAAM0Y,EAAE1Y,EAAI,IAAM,OAAc,EAAJN,IAGzDwmC,EAAO,SAAUxmC,GAAY,OAAEA,EAAI,GAAM,IAAU,EAAJA,GAAS,IAGxDymC,EAAM,SAAU10B,EAAGpS,EAAGqB,IACb,MAALrB,GAAaA,EAAI,KACjBA,EAAI,IACC,MAALqB,GAAaA,EAAI+Q,EAAEhS,UACnBiB,EAAI+Q,EAAEhS,QAENF,IAAAA,EAAI,IAAKkS,aAAayyB,EAAMA,EAAMzyB,aAAa2yB,EAAMA,EAAMH,GAAIvjC,EAAIrB,GAEhEE,OADPA,EAAEwZ,IAAItH,EAAE20B,SAAS/mC,EAAGqB,IACbnB,GAGP8mC,EAAQ,SAAUC,EAAKC,EAAKC,GAExBC,IAAAA,EAAKH,EAAI7mC,OAETinC,GAASH,GAAOC,EAEhBG,GAAQH,GAAMA,EAAGlnC,EAChBknC,IACDA,EAAK,IAEJD,IACDA,EAAM,IAAItC,EAAQ,EAALwC,IAEbG,IAAAA,EAAO,SAAUjS,GACbkS,IAAAA,EAAKN,EAAI9mC,OAETk1B,GAAAA,EAAIkS,EAAI,CAEJC,IAAAA,EAAO,IAAI7C,EAAGzS,KAAK6M,IAAS,EAALwI,EAAQlS,IACnCmS,EAAK/tB,IAAIwtB,GACTA,EAAMO,IAIVC,EAAQP,EAAG9R,GAAK,EAAG9lB,EAAM43B,EAAG9mC,GAAK,EAAGsnC,EAAKR,EAAG7B,GAAK,EAAGsC,EAAKT,EAAG7R,EAAGuS,EAAKV,EAAG9tB,EAAGyuB,EAAMX,EAAGrmC,EAAGinC,EAAMZ,EAAGjnC,EAC/FwnC,GAAAA,IAAUE,EACV,OAAOV,EAEPc,IAAAA,EAAY,EAALZ,EACR,EAAA,CACK,IAACQ,EAAI,CAELT,EAAG9R,EAAIqS,EAAQf,EAAKM,EAAK13B,EAAK,GAE1BxI,IAAAA,EAAO4/B,EAAKM,EAAK13B,EAAM,EAAG,GAE1B,GADJA,GAAO,GACFxI,EAAM,CAEH/G,IAAmBs1B,EAAI2R,GAAvBjnC,EAAI6mC,EAAKt3B,GAAO,GAAe,GAAM03B,EAAIjnC,EAAI,IAAM,EAAID,EAAIC,EAAIs1B,EAC/Dv1B,GAAAA,EAAIqnC,EAAI,CACJE,GAAAA,EACA,KAAM,iBACV,MAGAD,GACAE,EAAKI,EAAKrS,GAEd4R,EAAIxtB,IAAIutB,EAAIF,SAAS/mC,EAAGD,GAAI4nC,GAE5BR,EAAG7B,EAAIqC,GAAMrS,EAAG6R,EAAG9mC,EAAIkP,EAAU,EAAJxP,EAC7B,SAEC,GAAY,GAARgH,EACL6gC,EAAKpB,EAAMqB,EAAKnB,EAAMoB,EAAM,EAAGC,EAAM,MACpC,CAAA,GAAY,GAARhhC,EAqDL,KAAM,qBAnDFkhC,IAAAA,EAAOtB,EAAKM,EAAK13B,EAAK,IAAM,IAAK24B,EAAQvB,EAAKM,EAAK13B,EAAM,GAAI,IAAM,EACnE44B,EAAKF,EAAOtB,EAAKM,EAAK13B,EAAM,EAAG,IAAM,EACzCA,GAAO,GAKF,IAHD64B,IAAAA,EAAM,IAAIxD,EAAGuD,GAEbE,EAAM,IAAIzD,EAAG,IACR3kC,EAAI,EAAGA,EAAIioC,IAASjoC,EAEzBooC,EAAIlD,EAAKllC,IAAM0mC,EAAKM,EAAK13B,EAAU,EAAJtP,EAAO,GAE1CsP,GAAe,EAAR24B,EAEHI,IAAAA,EAAMtJ,EAAIqJ,GAAME,GAAU,GAAKD,GAAO,EACtC,IAAChB,GAAQ/3B,EAAM44B,GAAMG,EAAM,GAAKN,EAChC,MAEAQ,IAAAA,EAAM3C,EAAKwC,EAAKC,EAAK,GACpB,IAAIroC,EAAI,EAAGA,EAAIkoC,GAAK,CACjB/mC,IAIApB,EAJAoB,EAAIonC,EAAI7B,EAAKM,EAAK13B,EAAKg5B,IAMvBvoC,GAJJuP,GAAW,GAAJnO,GAEHpB,EAAIoB,IAAM,GAEN,GACJgnC,EAAInoC,KAAOD,MAEV,CAEGsP,IAAAA,EAAI,EAAGpP,EAAI,EAORA,IANE,IAALF,GACAE,EAAI,EAAIymC,EAAKM,EAAK13B,EAAK,GAAIA,GAAO,EAAGD,EAAI84B,EAAInoC,EAAI,IACvC,IAALD,GACLE,EAAI,EAAIymC,EAAKM,EAAK13B,EAAK,GAAIA,GAAO,GACxB,IAALvP,IACLE,EAAI,GAAKymC,EAAKM,EAAK13B,EAAK,KAAMA,GAAO,GAClCrP,KACHkoC,EAAInoC,KAAOqP,GAInBm5B,IAAAA,EAAKL,EAAIrB,SAAS,EAAGkB,GAAOS,EAAKN,EAAIrB,SAASkB,GAElDH,EAAM9I,EAAIyJ,GAEVV,EAAM/I,EAAI0J,GACVd,EAAK/B,EAAK4C,EAAIX,EAAK,GACnBD,EAAKhC,EAAK6C,EAAIX,EAAK,GAInBx4B,GAAAA,EAAMy4B,EACN,KAAM,iBAIVX,GACAE,EAAKI,EAAK,QAGPL,IAFHqB,IAAAA,GAAO,GAAKb,GAAO,EAAGc,GAAO,GAAKb,GAAO,EACzCc,EAAMf,EAAMC,EAAM,GACfT,GAAQ/3B,EAAMs5B,EAAMb,GAAM,CAEzB14B,IAAgCw5B,GAAhCx5B,EAAIs4B,EAAGhB,EAAOK,EAAK13B,GAAOo5B,MAAkB,EAE5Cp5B,IADJA,GAAW,GAAJD,GACG04B,EACN,KAAM,iBACN,IAAC14B,EACD,KAAM,yBACNw5B,GAAAA,EAAM,IACN5B,EAAIS,KAAQmB,MACX,CAAA,GAAW,KAAPA,EAAY,CACjBlB,EAAK,KACL,MAGItrB,IAAAA,EAAMwsB,EAAM,IAEZA,GAAAA,EAAM,IAAK,CAEP7oC,IAAeqlC,EAAIL,EAAnBhlC,EAAI6oC,EAAM,KACdxsB,EAAMqqB,EAAKM,EAAK13B,GAAM,GAAK+1B,GAAK,GAAKE,EAAGvlC,GACxCsP,GAAO+1B,EAGPjsB,IAAAA,EAAIwuB,EAAGjB,EAAOK,EAAK13B,GAAOq5B,GAAMG,GAAO1vB,IAAM,EAC7C,IAACA,EACD,KAAM,mBACV9J,GAAW,GAAJ8J,EACHqvB,EAAKhD,EAAGqD,IACRA,GAAAA,GAAO,EAAG,CACNzD,EAAIJ,EAAK6D,IACbL,GAAM9B,EAAOK,EAAK13B,IAAS,GAAK+1B,GAAK,EAAI/1B,GAAO+1B,EAEhD/1B,GAAAA,EAAMy4B,EACN,KAAM,iBACNX,GACAE,EAAKI,EAAK,QAEPA,IADHt5B,IAAAA,GAAMs5B,EAAKrrB,EACRqrB,EAAKt5B,GAAKs5B,GAAM,EACnBT,EAAIS,GAAMT,EAAIS,EAAKe,GACnBxB,EAAIS,EAAK,GAAKT,EAAIS,EAAK,EAAIe,GAC3BxB,EAAIS,EAAK,GAAKT,EAAIS,EAAK,EAAIe,GAC3BxB,EAAIS,EAAK,GAAKT,EAAIS,EAAK,EAAIe,GAE/Bf,EAAKt5B,IAGb84B,EAAG7R,EAAIsS,EAAIT,EAAG9mC,EAAIkP,EAAK43B,EAAG7B,EAAIqC,EAC1BC,IACAF,EAAQ,EAAGP,EAAGrmC,EAAIgnC,EAAKX,EAAG9tB,EAAIwuB,EAAIV,EAAGjnC,EAAI6nC,UACvCL,GACHC,OAAAA,GAAMT,EAAI9mC,OAAS8mC,EAAMJ,EAAII,EAAK,EAAGS,IAG5CqB,EAAQ,SAAU3vB,EAAGhZ,EAAG+R,GACxBA,IAAU,EAAJ/R,EACFM,IAAAA,EAAKN,EAAI,GAAM,EACnBgZ,EAAE1Y,IAAMyR,EACRiH,EAAE1Y,EAAI,IAAMyR,IAAM,GAGlB62B,EAAU,SAAU5vB,EAAGhZ,EAAG+R,GAC1BA,IAAU,EAAJ/R,EACFM,IAAAA,EAAKN,EAAI,GAAM,EACnBgZ,EAAE1Y,IAAMyR,EACRiH,EAAE1Y,EAAI,IAAMyR,IAAM,EAClBiH,EAAE1Y,EAAI,IAAMyR,IAAM,IAGlB82B,EAAQ,SAAU7vB,EAAG0sB,GAGhB,IADDhmC,IAAAA,EAAI,GACCE,EAAI,EAAGA,EAAIoZ,EAAEjZ,SAAUH,EACxBoZ,EAAEpZ,IACFF,EAAEwB,KAAK,CAAEvB,EAAGC,EAAGo1B,EAAGhc,EAAEpZ,KAExBD,IAAAA,EAAID,EAAEK,OACN+oC,EAAKppC,EAAE2D,QACP,IAAC1D,EACD,MAAO,CAAC,IAAI4kC,EAAG,GAAI,GACnB5kC,GAAK,GAALA,EAAQ,CACJoS,IAAAA,EAAI,IAAIwyB,EAAG7kC,EAAE,GAAGC,EAAI,GAEjB,OADPoS,EAAErS,EAAE,GAAGC,GAAK,EACL,CAACoS,EAAG,GAEfrS,EAAEozB,KAAK,SAAU5tB,EAAG+/B,GAAY//B,OAAAA,EAAE8vB,EAAIiQ,EAAEjQ,IAGxCt1B,EAAEwB,KAAK,CAAEvB,GAAI,EAAGq1B,EAAG,QACfC,IAAAA,EAAIv1B,EAAE,GAAIqB,EAAIrB,EAAE,GAAIqpC,EAAK,EAAGC,EAAK,EAAGC,EAAK,EAOtCD,IANPtpC,EAAE,GAAK,CAAEC,GAAI,EAAGq1B,EAAGC,EAAED,EAAIj0B,EAAEi0B,EAAGC,EAAGA,EAAGl0B,EAAGA,GAMhCioC,GAAMrpC,EAAI,GACbs1B,EAAIv1B,EAAEA,EAAEqpC,GAAI/T,EAAIt1B,EAAEupC,GAAIjU,EAAI+T,IAAOE,KACjCloC,EAAIrB,EAAEqpC,GAAMC,GAAMtpC,EAAEqpC,GAAI/T,EAAIt1B,EAAEupC,GAAIjU,EAAI+T,IAAOE,KAC7CvpC,EAAEspC,KAAQ,CAAErpC,GAAI,EAAGq1B,EAAGC,EAAED,EAAIj0B,EAAEi0B,EAAGC,EAAGA,EAAGl0B,EAAGA,GAE1CmoC,IAAAA,EAASJ,EAAG,GAAGnpC,EACd,IAAIC,EAAI,EAAGA,EAAID,IAAKC,EACjBkpC,EAAGlpC,GAAGD,EAAIupC,IACVA,EAASJ,EAAGlpC,GAAGD,GAGnBwpC,IAAAA,EAAK,IAAI3E,EAAI0E,EAAS,GAEtBE,EAAMC,EAAG3pC,EAAEspC,EAAK,GAAIG,EAAI,GACxBC,GAAAA,EAAM1D,EAAI,CAIN9lC,EAAI,EAAJA,IAAOyoC,EAAK,EAEZiB,EAAMF,EAAM1D,EAAI6D,EAAM,GAAKD,EAExB1pC,IADPkpC,EAAGhW,KAAK,SAAU5tB,EAAG+/B,GAAYkE,OAAAA,EAAGlE,EAAEtlC,GAAKwpC,EAAGjkC,EAAEvF,IAAMuF,EAAE8vB,EAAIiQ,EAAEjQ,IACvDp1B,EAAID,IAAKC,EAAG,CACX4pC,IAAAA,EAAOV,EAAGlpC,GAAGD,EACbwpC,KAAAA,EAAGK,GAAQ9D,GAKX,MAJA2C,GAAMkB,GAAO,GAAMH,EAAMD,EAAGK,IAC5BL,EAAGK,GAAQ9D,EAMZ2C,IADPA,KAAQiB,EACDjB,EAAK,GAAG,CACPoB,IAAAA,EAAOX,EAAGlpC,GAAGD,EACbwpC,EAAGM,GAAQ/D,EACX2C,GAAM,GAAM3C,EAAKyD,EAAGM,KAAU,IAE5B7pC,EAEHA,KAAAA,GAAK,GAAKyoC,IAAMzoC,EAAG,CAClB8pC,IAAAA,EAAOZ,EAAGlpC,GAAGD,EACbwpC,EAAGO,IAAShE,MACVyD,EAAGO,KACHrB,GAGVe,EAAM1D,EAEH,MAAA,CAAC,IAAInB,EAAG4E,GAAKC,IAGpBC,EAAK,SAAUxpC,EAAGo1B,EAAGjc,GACdnZ,OAAQ,GAARA,EAAEF,EACHmyB,KAAK6M,IAAI0K,EAAGxpC,EAAEo1B,EAAGA,EAAGjc,EAAI,GAAIqwB,EAAGxpC,EAAEkB,EAAGk0B,EAAGjc,EAAI,IAC1Cic,EAAEp1B,EAAEF,GAAKqZ,GAGhB2wB,EAAK,SAAU16B,GAGRtP,IAFHA,IAAAA,EAAIsP,EAAElP,OAEHJ,IAAMsP,IAAItP,KAMZ,IAJDiqC,IAAAA,EAAK,IAAIpF,IAAM7kC,GAEfkqC,EAAM,EAAGC,EAAM76B,EAAE,GAAI86B,EAAM,EAC3Bxa,EAAI,SAAUxd,GAAK63B,EAAGC,KAAS93B,GAC1BnS,EAAI,EAAGA,GAAKD,IAAKC,EAClBqP,GAAAA,EAAErP,IAAMkqC,GAAOlqC,GAAKD,IAClBoqC,MACD,CACG,IAACD,GAAOC,EAAM,EAAG,CACVA,KAAAA,EAAM,IAAKA,GAAO,IACrBxa,EAAE,OACFwa,EAAM,IACNxa,EAAEwa,EAAM,GAAOA,EAAM,IAAO,EAAK,MAAUA,EAAM,GAAM,EAAK,OAC5DA,EAAM,QAGT,GAAIA,EAAM,EAAG,CAEPA,IADPxa,EAAEua,KAAQC,EACHA,EAAM,EAAGA,GAAO,EACnBxa,EAAE,MACFwa,EAAM,IACNxa,EAAIwa,EAAM,GAAM,EAAK,MAAOA,EAAM,GAEnCA,KAAAA,KACHxa,EAAEua,GACNC,EAAM,EACND,EAAM76B,EAAErP,GAGT,MAAA,CAACgqC,EAAGlD,SAAS,EAAGmD,GAAMlqC,IAG7BqqC,EAAO,SAAUC,EAAIL,GAEhB,IADD3U,IAAAA,EAAI,EACCr1B,EAAI,EAAGA,EAAIgqC,EAAG7pC,SAAUH,EAC7Bq1B,GAAKgV,EAAGrqC,GAAKgqC,EAAGhqC,GACbq1B,OAAAA,GAIPiV,EAAQ,SAAUC,EAAKj7B,EAAK03B,GAExBjnC,IAAAA,EAAIinC,EAAI7mC,OACRO,EAAIkmC,EAAKt3B,EAAM,GACnBi7B,EAAI7pC,GAAS,IAAJX,EACTwqC,EAAI7pC,EAAI,GAAKX,IAAM,EACnBwqC,EAAI7pC,EAAI,GAAc,IAAT6pC,EAAI7pC,GACjB6pC,EAAI7pC,EAAI,GAAkB,IAAb6pC,EAAI7pC,EAAI,GAChB,IAAA,IAAIV,EAAI,EAAGA,EAAID,IAAKC,EACrBuqC,EAAI7pC,EAAIV,EAAI,GAAKgnC,EAAIhnC,GAClB,OAAc,GAAbU,EAAI,EAAIX,IAGhByqC,EAAO,SAAUxD,EAAKuD,EAAK9C,EAAOgD,EAAMC,EAAIC,EAAIvF,EAAIwF,EAAIC,EAAItD,EAAInnC,GAChE2oC,EAAMwB,EAAKnqC,IAAKqnC,KACdiD,EAAG,KAMA,IALDjkC,IAAAA,EAAKwiC,EAAMyB,EAAI,IAAKI,EAAMrkC,EAAG,GAAIskC,EAAMtkC,EAAG,GAC1Ce,EAAKyhC,EAAM0B,EAAI,IAAKK,EAAMxjC,EAAG,GAAIyjC,EAAMzjC,EAAG,GAC1CE,EAAKqiC,EAAGe,GAAMI,EAAOxjC,EAAG,GAAIyjC,EAAMzjC,EAAG,GACrCsB,EAAK+gC,EAAGiB,GAAMI,EAAOpiC,EAAG,GAAIqiC,EAAMriC,EAAG,GACrCsiC,EAAS,IAAI1G,EAAI,IACZ5kC,EAAI,EAAGA,EAAIkrC,EAAK/qC,SAAUH,EAC/BsrC,EAAiB,GAAVJ,EAAKlrC,MACX,IAAIA,EAAI,EAAGA,EAAIorC,EAAKjrC,SAAUH,EAC/BsrC,EAAiB,GAAVF,EAAKprC,MAGTurC,IAFHhgC,IAAAA,EAAK09B,EAAMqC,EAAQ,GAAIE,EAAMjgC,EAAG,GAAIkgC,EAAOlgC,EAAG,GAC9CggC,EAAO,GACJA,EAAO,IAAMC,EAAItG,EAAKqG,EAAO,MAAOA,GAEvCG,IAKA/D,EAAIgE,EAAI/D,EAAIgE,EALZF,EAAQnE,EAAK,GAAM,EACnBsE,EAAQzB,EAAKM,EAAItE,GAAOgE,EAAKO,EAAItE,GAAOjB,EACxC0G,EAAQ1B,EAAKM,EAAII,GAAOV,EAAKO,EAAIK,GAAO5F,EAAK,GAAK,EAAImG,EAAOnB,EAAKkB,EAAQE,IAAQ,EAAIF,EAAO,IAAM,EAAIA,EAAO,IAAM,EAAIA,EAAO,KAC/HI,GAAAA,GAAQG,GAASH,GAAQI,EACzB,OAAOxB,EAAMC,EAAKnqC,EAAG4mC,EAAIF,SAAS+D,EAAIA,EAAKtD,IAG3CuE,GADJ/C,EAAMwB,EAAKnqC,EAAG,GAAK0rC,EAAQD,IAASzrC,GAAK,EACrC0rC,EAAQD,EAAO,CACflE,EAAK/B,EAAKkF,EAAKC,EAAK,GAAIY,EAAKb,EAAKlD,EAAKhC,EAAKoF,EAAKC,EAAK,GAAIW,EAAKZ,EAC3De,IAAAA,EAAMnG,EAAK4F,EAAKC,EAAM,GAC1B1C,EAAMwB,EAAKnqC,EAAG+qC,EAAM,KACpBpC,EAAMwB,EAAKnqC,EAAI,EAAGirC,EAAM,GACxBtC,EAAMwB,EAAKnqC,EAAI,GAAImrC,EAAO,GAC1BnrC,GAAK,GACA,IAAIJ,EAAI,EAAGA,EAAIurC,IAAQvrC,EACxB+oC,EAAMwB,EAAKnqC,EAAI,EAAIJ,EAAGwrC,EAAItG,EAAKllC,KACnCI,GAAK,EAAImrC,EAEJ,IADDS,IAAAA,EAAO,CAACd,EAAME,GACTa,EAAK,EAAGA,EAAK,IAAKA,EACnBC,CAAAA,IAAAA,GAAOF,EAAKC,GACX,IAAIjsC,EAAI,EAAGA,EAAIksC,GAAK/rC,SAAUH,EAAG,CAC9BmsC,IAAAA,GAAgB,GAAVD,GAAKlsC,GACf+oC,EAAMwB,EAAKnqC,EAAG2rC,EAAII,KAAO/rC,GAAKorC,EAAIW,IAC9BA,GAAM,KACNpD,EAAMwB,EAAKnqC,EAAI8rC,GAAKlsC,KAAO,EAAK,KAAMI,GAAK8rC,GAAKlsC,KAAO,WAKnE2nC,EAAKrB,EAAKqF,EAAKvF,EAAKwB,EAAKpB,EAAKoF,EAAKvF,EAElC,IAAIrmC,EAAI,EAAGA,EAAI4qC,IAAM5qC,EAClByqC,GAAAA,EAAKzqC,GAAK,IAAK,CACXmsC,GAAO1B,EAAKzqC,KAAO,GAAM,GAC7BgpC,EAAQuB,EAAKnqC,EAAGunC,EAAGwE,GAAM,MAAO/rC,GAAKurC,EAAGQ,GAAM,KAC1CA,GAAM,IACNpD,EAAMwB,EAAKnqC,EAAIqqC,EAAKzqC,KAAO,GAAM,IAAKI,GAAK4kC,EAAKmH,KAChDC,IAAAA,GAAgB,GAAV3B,EAAKzqC,GACfgpC,EAAQuB,EAAKnqC,EAAGwnC,EAAGwE,KAAOhsC,GAAKwrC,EAAGQ,IAC9BA,GAAM,IACNpD,EAAQuB,EAAKnqC,EAAIqqC,EAAKzqC,KAAO,EAAK,MAAOI,GAAK6kC,EAAKmH,UAGvDpD,EAAQuB,EAAKnqC,EAAGunC,EAAG8C,EAAKzqC,KAAMI,GAAKurC,EAAGlB,EAAKzqC,IAI5CI,OADP4oC,EAAQuB,EAAKnqC,EAAGunC,EAAG,MACZvnC,EAAIurC,EAAG,MAGdU,EAAM,IAAIvH,EAAI,CAAC,MAAO,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,QAAS,QAAS,UAEjFwH,EAAK,IAAI3H,EAAG,GAEZ4H,EAAO,SAAUvF,EAAKwF,EAAKC,EAAMC,EAAKC,EAAMC,GACxC7sC,IAAAA,EAAIinC,EAAI7mC,OACRO,EAAI,IAAIikC,EAAG+H,EAAM3sC,EAAI,GAAK,EAAImyB,KAAKgC,MAAMn0B,EAAI,MAAS4sC,GAEtDhd,EAAIjvB,EAAEomC,SAAS4F,EAAKhsC,EAAEP,OAASwsC,GAC/Br9B,EAAM,EACN,IAACk9B,GAAOzsC,EAAI,EACP,IAAA,IAAIC,EAAI,EAAGA,GAAKD,EAAGC,GAAK,MAAO,CAE5BoB,IAAAA,EAAIpB,EAAI,MACRoB,EAAIrB,EAEJuP,EAAMg7B,EAAM3a,EAAGrgB,EAAK03B,EAAIF,SAAS9mC,EAAGoB,KAIpCuuB,EAAE3vB,GAAK4sC,EACPt9B,EAAMg7B,EAAM3a,EAAGrgB,EAAK03B,EAAIF,SAAS9mC,EAAGD,SAI3C,CAeMC,IAdH6sC,IAAAA,EAAMR,EAAIG,EAAM,GAChBvsC,EAAI4sC,IAAQ,GAAIx9B,EAAU,KAANw9B,EACpBC,GAAS,GAAKL,GAAQ,EAEtBM,EAAO,IAAInI,EAAI,OAAQ3kB,EAAO,IAAI2kB,EAAIkI,EAAQ,GAC9CE,EAAQ9a,KAAK+a,KAAKR,EAAO,GAAIS,EAAQ,EAAIF,EACzCG,EAAM,SAAUntC,GAAY,OAACgnC,EAAIhnC,GAAMgnC,EAAIhnC,EAAI,IAAMgtC,EAAUhG,EAAIhnC,EAAI,IAAMktC,GAAUJ,GAGvFrC,EAAO,IAAI3F,EAAI,MAEf4F,EAAK,IAAI9F,EAAI,KAAM+F,EAAK,IAAI/F,EAAI,IAEhCwI,EAAO,EAAGhI,EAAK,EAAUwF,GAAP5qC,EAAI,EAAQ,GAAGqtC,EAAK,EAAGxC,EAAK,EAC3C7qC,EAAID,IAAKC,EAAG,CAEXstC,IAAAA,EAAKH,EAAIntC,GAETutC,EAAW,MAAJvtC,EAEPwtC,EAAQvtB,EAAKqtB,GAKbD,GAJJN,EAAKQ,GAAQC,EACbvtB,EAAKqtB,GAAMC,EAGPF,GAAMrtC,EAAG,CAELytC,IAAAA,EAAM1tC,EAAIC,EACV,IAACotC,EAAO,KAAQxC,EAAK,QAAU6C,EAAM,IAAK,CAC1Cn+B,EAAMk7B,EAAKxD,EAAKrX,EAAG,EAAG8a,EAAMC,EAAIC,EAAIvF,EAAIwF,EAAIC,EAAI7qC,EAAI6qC,EAAIv7B,GACxDs7B,EAAKwC,EAAOhI,EAAK,EAAGyF,EAAK7qC,EACpB,IAAA,IAAIslC,EAAI,EAAGA,EAAI,MAAOA,EACvBoF,EAAGpF,GAAK,EACP,IAAIA,EAAI,EAAGA,EAAI,KAAMA,EACtBqF,EAAGrF,GAAK,EAGZjQ,IAAAA,EAAI,EAAGjc,EAAI,EAAGs0B,EAAOr+B,EAAGs+B,EAAOJ,EAAOC,EAAS,MAC/CC,GAAAA,EAAM,GAAKH,GAAMH,EAAIntC,EAAI2tC,GAMlBA,IALHC,IAAAA,EAAO1b,KAAKuM,IAAIx+B,EAAGwtC,GAAO,EAC1BI,EAAO3b,KAAKuM,IAAI,MAAOz+B,GAGvB8tC,EAAK5b,KAAKuM,IAAI,IAAKgP,GAChBE,GAAOE,KAAUH,GAAQH,GAAQC,GAAO,CACvCxG,GAAAA,EAAIhnC,EAAIq1B,IAAM2R,EAAIhnC,EAAIq1B,EAAIsY,GAAM,CAEzBI,IADHA,IAAAA,GAAK,EACFA,GAAKD,GAAM9G,EAAIhnC,EAAI+tC,KAAO/G,EAAIhnC,EAAI+tC,GAAKJ,KAAQI,IAElDA,GAAAA,GAAK1Y,EAAG,CAGJ0Y,GAFJ1Y,EAAI0Y,GAAI30B,EAAIu0B,EAERI,GAAKH,EACL,MAIAI,IAAAA,GAAM9b,KAAKuM,IAAIkP,EAAKI,GAAK,GACzBE,GAAK,EACJ,IAAI3I,EAAI,EAAGA,EAAI0I,KAAO1I,EAAG,CACtB4I,IAAAA,GAAMluC,EAAI2tC,EAAMrI,EAAI,MAAS,MAE7BO,GAAMqI,GADAnB,EAAKmB,IACM,MAAS,MAC1BrI,GAAKoI,KACLA,GAAKpI,GAAI2H,EAAQU,MAMjCP,IADAJ,EAAOC,IAAOA,EAAQT,EAAKQ,IACJ,MAAS,MAIpCn0B,GAAAA,EAAG,CAGHqxB,EAAKG,KAAQ,UAAapF,EAAMnQ,IAAM,GAAMqQ,EAAMtsB,GAC9C+0B,IAAAA,GAAiB,GAAX3I,EAAMnQ,GAAS+Y,GAAiB,GAAX1I,EAAMtsB,GACrCgsB,GAAMJ,EAAKmJ,IAAOlJ,EAAKmJ,MACrB1D,EAAG,IAAMyD,MACTxD,EAAGyD,IACLf,EAAKrtC,EAAIq1B,IACP+X,OAGF3C,EAAKG,KAAQ5D,EAAIhnC,KACf0qC,EAAG1D,EAAIhnC,KAIrBsP,EAAMk7B,EAAKxD,EAAKrX,EAAGid,EAAKnC,EAAMC,EAAIC,EAAIvF,EAAIwF,EAAIC,EAAI7qC,EAAI6qC,EAAIv7B,GAErDs9B,IACDt9B,EAAMg7B,EAAM3a,EAAGrgB,EAAKg9B,IAErBzF,OAAAA,EAAInmC,EAAG,EAAGgsC,EAAM9F,EAAKt3B,GAAOq9B,IAGnC0B,EAAO,IAAIvJ,EAAI,KACnB,IAAS9kC,EAAI,EAAGA,EAAI,MAAOA,EAAG,CAEnB,IADHqP,IAAAA,EAAIrP,EAAGiS,EAAI,IACNA,GACL5C,GAAU,EAAJA,GAAU,YAAeA,IAAM,EACzCg/B,EAAKruC,GAAKqP,EAGd,IAAIi/B,EAAQ,WACJhpC,IAAAA,EAAI,EAAG+/B,EAAI,EACR,MAAA,CACHjlC,EAAG,SAAUgZ,GAIJ,IAFDnZ,IAAAA,EAAIqF,EAAGzE,EAAIwkC,EACXhQ,EAAIjc,EAAEjZ,OACDH,EAAI,EAAGA,GAAKq1B,GAAI,CAEdr1B,IADHoB,IAAAA,EAAI8wB,KAAKuM,IAAIz+B,EAAI,KAAMq1B,GACpBr1B,EAAIoB,IAAKpB,EACDa,GAAXZ,GAAKmZ,EAAEpZ,GACXC,GAAK,MAAOY,GAAK,MAErByE,EAAIrF,EAAGolC,EAAIxkC,GAEfuY,EAAG,WAAqB,OAAE9T,IAAM,GAAM,IAAU,IAAJ+/B,IAAY,EAAKA,IAAM,GAA0B,IAAd,IAAJ//B,IAAY,OAI3FipC,EAAO,SAAUvH,EAAK6F,EAAKH,EAAKC,EAAMzF,GAC/BqF,OAAAA,EAAKvF,EAAkB,MAAb6F,EAAIniB,MAAgB,EAAImiB,EAAIniB,MAAkB,MAAXmiB,EAAI2B,IAActc,KAAK+a,KAAuD,IAAlD/a,KAAK6M,IAAI,EAAG7M,KAAKuM,IAAI,GAAIvM,KAAK7F,IAAI2a,EAAI7mC,WAAoB,GAAK0sC,EAAI2B,IAAM9B,EAAKC,GAAOzF,IAGrKuH,EAAS,SAAUr1B,EAAGisB,EAAGlzB,GAClBA,KAAAA,IAAKkzB,EACRjsB,EAAEisB,GAAKlzB,EAAGA,KAAO,GAGrBu8B,EAAM,SAAUr/B,EAAG3O,GACfiuC,IAAAA,EAAKjuC,EAAEgqB,MAAO6a,EAAW,GAANoJ,EAAU,EAAIA,EAAK,EAAI,EAAU,GAANA,EAAU,EAAI,EAChEt/B,EAAE,GAAK,IAAKA,EAAE,GAAMk2B,GAAM,GAAMA,EAAM,GAAK,EAAIA,EAAM,IAGrDqJ,EAAM,SAAUx1B,GACZ,GAAe,IAAP,GAAPA,EAAE,KAAkBA,EAAE,KAAO,EAAK,IAAOA,EAAE,IAAM,EAAIA,EAAE,IAAM,GAC9D,KAAM,oBACNA,GAAO,GAAPA,EAAE,GACF,KAAM,wDAQd,SAASy1B,EAASnzB,EAAMozB,QACP,IAATA,IAAmBA,EAAO,IAC1BxpC,IAAAA,EAAIgpC,IACRhpC,EAAElF,EAAEsb,GACAtC,IAAAA,EAAIm1B,EAAK7yB,EAAMozB,EAAM,EAAG,GACrBJ,OAAAA,EAAIt1B,EAAG01B,GAAOL,EAAOr1B,EAAGA,EAAEjZ,OAAS,EAAGmF,EAAE8T,KAAMA,EAQzD,SAAS21B,EAAWrzB,EAAM6uB,GACfxD,OAAAA,GAAO6H,EAAIlzB,GAAOA,EAAKorB,SAAS,GAAI,IAAKyD,GASpD,SAASyE,EAAQrhC,EAAKshC,GACd5Z,IAAAA,EAAI1nB,EAAIxN,OACR,IAAC8uC,GAAgC,oBAAfC,YAClB,OAAO,IAAIA,aAAcC,OAAOxhC,GAI/B,IAHDtM,IAAAA,EAAK,IAAIsjC,EAAGh3B,EAAIxN,QAAUwN,EAAIxN,SAAW,IACzCivC,EAAK,EACLzf,EAAI,SAAUxd,GAAK9Q,EAAG+tC,KAAQj9B,GACzBnS,EAAI,EAAGA,EAAIq1B,IAAKr1B,EAAG,CACpBovC,GAAAA,EAAK,EAAI/tC,EAAGlB,OAAQ,CAChBF,IAAAA,EAAI,IAAI0kC,EAAGyK,EAAK,GAAM/Z,EAAIr1B,GAAM,IACpCC,EAAEwZ,IAAIpY,GACNA,EAAKpB,EAELoP,IAAAA,EAAI1B,EAAI0hC,WAAWrvC,GACnBqP,EAAI,KAAO4/B,EACXtf,EAAEtgB,GACGA,EAAI,MACTsgB,EAAE,IAAOtgB,IAAM,GAAKsgB,EAAE,IAAW,GAAJtgB,IACxBA,EAAI,OAASA,EAAI,OAElBsgB,EAAE,KADNtgB,EAAI,OAAa,QAAJA,GAAyC,KAAtB1B,EAAI0hC,aAAarvC,MAC9B,IAAM2vB,EAAE,IAAQtgB,IAAM,GAAM,IAAMsgB,EAAE,IAAQtgB,IAAM,EAAK,IAAMsgB,EAAE,IAAW,GAAJtgB,KAEzFsgB,EAAE,IAAOtgB,IAAM,IAAMsgB,EAAE,IAAQtgB,IAAM,EAAK,IAAMsgB,EAAE,IAAW,GAAJtgB,IAE1Dw3B,OAAAA,EAAIxlC,EAAI,EAAG+tC,GAStB,SAASE,EAAUtI,EAAKiI,GAChB9tC,IAAAA,EAAI,GACJ,IAAC8tC,GAAgC,oBAAfM,YAClB,OAAO,IAAIA,aAAcC,OAAOxI,GAC/B,IAAA,IAAIhnC,EAAI,EAAGA,EAAIgnC,EAAI7mC,QAAS,CACzBkP,IAAAA,EAAI23B,EAAIhnC,KACRqP,EAAI,KAAO4/B,EACX9tC,GAAK48B,OAAO0R,aAAapgC,GACpBA,EAAI,IACTlO,GAAK48B,OAAO0R,cAAkB,GAAJpgC,IAAW,EAAgB,GAAX23B,EAAIhnC,MACzCqP,EAAI,IACTlO,GAAK48B,OAAO0R,cAAkB,GAAJpgC,IAAW,IAAiB,GAAX23B,EAAIhnC,OAAc,EAAgB,GAAXgnC,EAAIhnC,OAEtEqP,IAAU,GAAJA,IAAW,IAAiB,GAAX23B,EAAIhnC,OAAc,IAAiB,GAAXgnC,EAAIhnC,OAAc,EAAgB,GAAXgnC,EAAIhnC,MAAc,MACpFmB,GAAK48B,OAAO0R,aAAa,MAASpgC,GAAK,GAAK,MAAa,KAAJA,IAE1DlO,OAAAA;;AC/wBX,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAAA,IAAIuuC,EAAO,KAAX,QAAA,KAAA;;ACIA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,UAAA,EAJA,IAAA,EAAA,QAAA,yCACA,EAAA,QAAA,4CACA,EAAA,QAAA,aAEIC,EAAO,SAAU70B,GACbvP,IAAAA,GAAK,EAAS,EAAA,WAAA,EAAS,EAAA,UAAA,GAAIuP,GAAQ,CAAE3I,EAAGu9B,EAAAA,OACrC,OAAA,EAAU,EAAA,YAAA,EAAS,EAAA,WAAA,EAAQjsB,EAAAA,SAAAA,KAAKH,UAAU/X,MAAO,IAF5D,QAAA,KAAA;;ACDA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EAHA,IAAA,EAAA,QAAA,4CACA,EAAA,QAAA,aAEIqkC,EAAS,SAAUC,GACf,GAAe,iBAARA,EACAA,OAAAA,EAEP,IAEIzuC,IADAA,EAAIqiB,KAAKnW,MAAMuiC,IACbtiB,UACKnsB,OAAAA,EAGf,MAAOG,IAEH,IACIH,IAAAA,EACAA,IADAA,EAAIqiB,KAAKnW,OAAM,EAAU,EAAA,YAAA,EAAW,EAAA,aAAA,EAAQuiC,EAAAA,SAAAA,GAAK,OAC/C19B,IAAMu9B,EAAZ,KACWtuC,OAAAA,EAEL,MAAA,IAAIsN,MAAM,wCAA0CtN,EAAE+Q,EAAI,8CAAgDu9B,EAAhG,KAAuG,KAE3H,MAAOnuC,GAEG,MADNmK,QAAQnK,MAAMA,GACR,IAAImN,MAAM,0BArBxB,QAAA,OAAA;;ACKA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,OAAA,eAAA,QAAA,YAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,aAAA,OAAA,eAAA,QAAA,oBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,qBAAA,OAAA,eAAA,QAAA,oBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,qBAAA,OAAA,eAAA,QAAA,iBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,kBAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,UAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,WAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,YAAA,OAAA,eAAA,QAAA,iBAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,kBAAA,OAAA,eAAA,QAAA,aAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,cAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,QAAA,OAAA,eAAA,QAAA,SAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,UAAA,QAAA,WAAA,EARA,IAAA,EAAA,QAAA,eACA,EAAA,EAAA,QAAA,gBAOA,QAAA,MAAA,EAJA,IAAA,EAAA,EAAA,QAAA,uBACA,EAAA,QAAA,sBACA,EAAA,QAAA,eACA,EAAA,QAAA,qBACA,EAAA,QAAA,uBAAA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA;;ACRA,aAEA,OAAA,QAAA,SAAA,EAAA,GACA,OAAA,WAEA,IADA,IAAA,EAAA,IAAA,MAAA,UAAA,QACA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,GAAA,UAAA,GAEA,OAAA,EAAA,MAAA,EAAA;;ACRA,aAEA,IAAA,EAAA,QAAA,kBAMA,EAAA,OAAA,UAAA,SAQA,SAAA,EAAA,GACA,MAAA,mBAAA,EAAA,KAAA,GASA,SAAA,EAAA,GACA,YAAA,IAAA,EASA,SAAA,EAAA,GACA,OAAA,OAAA,IAAA,EAAA,IAAA,OAAA,EAAA,cAAA,EAAA,EAAA,cACA,mBAAA,EAAA,YAAA,UAAA,EAAA,YAAA,SAAA,GASA,SAAA,EAAA,GACA,MAAA,yBAAA,EAAA,KAAA,GASA,SAAA,EAAA,GACA,MAAA,oBAAA,UAAA,aAAA,SASA,SAAA,EAAA,GAOA,MALA,oBAAA,aAAA,YAAA,OACA,YAAA,OAAA,GAEA,GAAA,EAAA,QAAA,EAAA,kBAAA,YAWA,SAAA,EAAA,GACA,MAAA,iBAAA,EASA,SAAA,EAAA,GACA,MAAA,iBAAA,EASA,SAAA,EAAA,GACA,OAAA,OAAA,GAAA,iBAAA,EASA,SAAA,EAAA,GACA,GAAA,oBAAA,EAAA,KAAA,GACA,OAAA,EAGA,IAAA,EAAA,OAAA,eAAA,GACA,OAAA,OAAA,GAAA,IAAA,OAAA,UASA,SAAA,EAAA,GACA,MAAA,kBAAA,EAAA,KAAA,GASA,SAAA,EAAA,GACA,MAAA,kBAAA,EAAA,KAAA,GASA,SAAA,EAAA,GACA,MAAA,kBAAA,EAAA,KAAA,GASA,SAAA,EAAA,GACA,MAAA,sBAAA,EAAA,KAAA,GASA,SAAA,EAAA,GACA,OAAA,EAAA,IAAA,EAAA,EAAA,MASA,SAAA,EAAA,GACA,MAAA,oBAAA,iBAAA,aAAA,gBASA,SAAA,EAAA,GACA,OAAA,EAAA,QAAA,OAAA,IAAA,QAAA,OAAA,IAkBA,SAAA,IACA,OAAA,oBAAA,WAAA,gBAAA,UAAA,SACA,iBAAA,UAAA,SACA,OAAA,UAAA,WAIA,oBAAA,QACA,oBAAA,UAgBA,SAAA,EAAA,EAAA,GAEA,GAAA,MAAA,EAUA,GALA,iBAAA,IAEA,EAAA,CAAA,IAGA,EAAA,GAEA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,EAAA,IACA,EAAA,KAAA,KAAA,EAAA,GAAA,EAAA,QAIA,IAAA,IAAA,KAAA,EACA,OAAA,UAAA,eAAA,KAAA,EAAA,IACA,EAAA,KAAA,KAAA,EAAA,GAAA,EAAA,GAuBA,SAAA,IACA,IAAA,EAAA,GACA,SAAA,EAAA,EAAA,GACA,EAAA,EAAA,KAAA,EAAA,GACA,EAAA,GAAA,EAAA,EAAA,GAAA,GACA,EAAA,GACA,EAAA,GAAA,EAAA,GAAA,GACA,EAAA,GACA,EAAA,GAAA,EAAA,QAEA,EAAA,GAAA,EAIA,IAAA,IAAA,EAAA,EAAA,EAAA,UAAA,OAAA,EAAA,EAAA,IACA,EAAA,UAAA,GAAA,GAEA,OAAA,EAWA,SAAA,EAAA,EAAA,EAAA,GAQA,OAPA,EAAA,EAAA,SAAA,EAAA,GAEA,EAAA,GADA,GAAA,mBAAA,EACA,EAAA,EAAA,GAEA,IAGA,EASA,SAAA,EAAA,GAIA,OAHA,QAAA,EAAA,WAAA,KACA,EAAA,EAAA,MAAA,IAEA,EAGA,OAAA,QAAA,CACA,QAAA,EACA,cAAA,EACA,SAAA,EACA,WAAA,EACA,kBAAA,EACA,SAAA,EACA,SAAA,EACA,SAAA,EACA,cAAA,EACA,YAAA,EACA,OAAA,EACA,OAAA,EACA,OAAA,EACA,WAAA,EACA,SAAA,EACA,kBAAA,EACA,qBAAA,EACA,QAAA,EACA,MAAA,EACA,OAAA,EACA,KAAA,EACA,SAAA;;AC7VA,aAEA,IAAA,EAAA,QAAA,cAEA,SAAA,EAAA,GACA,OAAA,mBAAA,GACA,QAAA,QAAA,KACA,QAAA,OAAA,KACA,QAAA,QAAA,KACA,QAAA,OAAA,KACA,QAAA,QAAA,KACA,QAAA,QAAA,KAUA,OAAA,QAAA,SAAA,EAAA,EAAA,GAEA,IAAA,EACA,OAAA,EAGA,IAAA,EACA,GAAA,EACA,EAAA,EAAA,QACA,GAAA,EAAA,kBAAA,GACA,EAAA,EAAA,eACA,CACA,IAAA,EAAA,GAEA,EAAA,QAAA,EAAA,SAAA,EAAA,GACA,MAAA,IAIA,EAAA,QAAA,GACA,GAAA,KAEA,EAAA,CAAA,GAGA,EAAA,QAAA,EAAA,SAAA,GACA,EAAA,OAAA,GACA,EAAA,EAAA,cACA,EAAA,SAAA,KACA,EAAA,KAAA,UAAA,IAEA,EAAA,KAAA,EAAA,GAAA,IAAA,EAAA,SAIA,EAAA,EAAA,KAAA,KAGA,GAAA,EAAA,CACA,IAAA,EAAA,EAAA,QAAA,MACA,IAAA,IACA,EAAA,EAAA,MAAA,EAAA,IAGA,KAAA,IAAA,EAAA,QAAA,KAAA,IAAA,KAAA,EAGA,OAAA;;ACpEA,aAEA,IAAA,EAAA,QAAA,cAEA,SAAA,IACA,KAAA,SAAA,GAWA,EAAA,UAAA,IAAA,SAAA,EAAA,GAKA,OAJA,KAAA,SAAA,KAAA,CACA,UAAA,EACA,SAAA,IAEA,KAAA,SAAA,OAAA,GAQA,EAAA,UAAA,MAAA,SAAA,GACA,KAAA,SAAA,KACA,KAAA,SAAA,GAAA,OAYA,EAAA,UAAA,QAAA,SAAA,GACA,EAAA,QAAA,KAAA,SAAA,SAAA,GACA,OAAA,GACA,EAAA,MAKA,OAAA,QAAA;;ACnDA,aAEA,IAAA,EAAA,QAAA,cAUA,OAAA,QAAA,SAAA,EAAA,EAAA,GAMA,OAJA,EAAA,QAAA,EAAA,SAAA,GACA,EAAA,EAAA,EAAA,KAGA;;AClBA,aAEA,OAAA,QAAA,SAAA,GACA,SAAA,IAAA,EAAA;;ACHA,aAEA,IAAA,EAAA,QAAA,YAEA,OAAA,QAAA,SAAA,EAAA,GACA,EAAA,QAAA,EAAA,SAAA,EAAA,GACA,IAAA,GAAA,EAAA,gBAAA,EAAA,gBACA,EAAA,GAAA,SACA,EAAA;;ACRA,aAYA,OAAA,QAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GA4BA,OA3BA,EAAA,OAAA,EACA,IACA,EAAA,KAAA,GAGA,EAAA,QAAA,EACA,EAAA,SAAA,EACA,EAAA,cAAA,EAEA,EAAA,OAAA,WACA,MAAA,CAEA,QAAA,KAAA,QACA,KAAA,KAAA,KAEA,YAAA,KAAA,YACA,OAAA,KAAA,OAEA,SAAA,KAAA,SACA,WAAA,KAAA,WACA,aAAA,KAAA,aACA,MAAA,KAAA,MAEA,OAAA,KAAA,OACA,KAAA,KAAA,OAGA;;ACxCA,aAEA,IAAA,EAAA,QAAA,kBAYA,OAAA,QAAA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,IAAA,MAAA,GACA,OAAA,EAAA,EAAA,EAAA,EAAA,EAAA;;AChBA,aAEA,IAAA,EAAA,QAAA,iBASA,OAAA,QAAA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,OAAA,eACA,EAAA,QAAA,IAAA,EAAA,EAAA,QAGA,EAAA,EACA,mCAAA,EAAA,OACA,EAAA,OACA,KACA,EAAA,QACA,IAPA,EAAA;;ACdA,aAEA,IAAA,EAAA,QAAA,cAEA,OAAA,QACA,EAAA,uBAIA,CACA,MAAA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,GACA,EAAA,KAAA,EAAA,IAAA,mBAAA,IAEA,EAAA,SAAA,IACA,EAAA,KAAA,WAAA,IAAA,KAAA,GAAA,eAGA,EAAA,SAAA,IACA,EAAA,KAAA,QAAA,GAGA,EAAA,SAAA,IACA,EAAA,KAAA,UAAA,IAGA,IAAA,GACA,EAAA,KAAA,UAGA,SAAA,OAAA,EAAA,KAAA,OAGA,KAAA,SAAA,GACA,IAAA,EAAA,SAAA,OAAA,MAAA,IAAA,OAAA,aAAA,EAAA,cACA,OAAA,EAAA,mBAAA,EAAA,IAAA,MAGA,OAAA,SAAA,GACA,KAAA,MAAA,EAAA,GAAA,KAAA,MAAA,SAOA,CACA,MAAA,aACA,KAAA,WAAA,OAAA,MACA,OAAA;;ACjDA,aAQA,OAAA,QAAA,SAAA,GAIA,MAAA,gCAAA,KAAA;;ACZA,aASA,OAAA,QAAA,SAAA,EAAA,GACA,OAAA,EACA,EAAA,QAAA,OAAA,IAAA,IAAA,EAAA,QAAA,OAAA,IACA;;ACZA,aAEA,IAAA,EAAA,QAAA,4BACA,EAAA,QAAA,0BAWA,OAAA,QAAA,SAAA,EAAA,GACA,OAAA,IAAA,EAAA,GACA,EAAA,EAAA,GAEA;;AClBA,aAEA,IAAA,EAAA,QAAA,cAIA,EAAA,CACA,MAAA,gBAAA,iBAAA,eAAA,OACA,UAAA,OAAA,OAAA,oBAAA,sBACA,gBAAA,WAAA,eAAA,sBACA,UAAA,cAAA,cAgBA,OAAA,QAAA,SAAA,GACA,IACA,EACA,EACA,EAHA,EAAA,GAKA,OAAA,GAEA,EAAA,QAAA,EAAA,MAAA,MAAA,SAAA,GAKA,GAJA,EAAA,EAAA,QAAA,KACA,EAAA,EAAA,KAAA,EAAA,OAAA,EAAA,IAAA,cACA,EAAA,EAAA,KAAA,EAAA,OAAA,EAAA,IAEA,EAAA,CACA,GAAA,EAAA,IAAA,EAAA,QAAA,IAAA,EACA,OAGA,EAAA,GADA,eAAA,GACA,EAAA,GAAA,EAAA,GAAA,IAAA,OAAA,CAAA,IAEA,EAAA,GAAA,EAAA,GAAA,KAAA,EAAA,KAKA,GAnBA;;AChCA,aAEA,IAAA,EAAA,QAAA,cAEA,OAAA,QACA,EAAA,uBAIA,WACA,IAEA,EAFA,EAAA,kBAAA,KAAA,UAAA,WACA,EAAA,SAAA,cAAA,KASA,SAAA,EAAA,GACA,IAAA,EAAA,EAWA,OATA,IAEA,EAAA,aAAA,OAAA,GACA,EAAA,EAAA,MAGA,EAAA,aAAA,OAAA,GAGA,CACA,KAAA,EAAA,KACA,SAAA,EAAA,SAAA,EAAA,SAAA,QAAA,KAAA,IAAA,GACA,KAAA,EAAA,KACA,OAAA,EAAA,OAAA,EAAA,OAAA,QAAA,MAAA,IAAA,GACA,KAAA,EAAA,KAAA,EAAA,KAAA,QAAA,KAAA,IAAA,GACA,SAAA,EAAA,SACA,KAAA,EAAA,KACA,SAAA,MAAA,EAAA,SAAA,OAAA,GACA,EAAA,SACA,IAAA,EAAA,UAYA,OARA,EAAA,EAAA,OAAA,SAAA,MAQA,SAAA,GACA,IAAA,EAAA,EAAA,SAAA,GAAA,EAAA,GAAA,EACA,OAAA,EAAA,WAAA,EAAA,UACA,EAAA,OAAA,EAAA,MAhDA,GAsDA,WACA,OAAA;;AChEA,aAEA,IAAA,EAAA,QAAA,cACA,EAAA,QAAA,oBACA,EAAA,QAAA,wBACA,EAAA,QAAA,yBACA,EAAA,QAAA,yBACA,EAAA,QAAA,6BACA,EAAA,QAAA,gCACA,EAAA,QAAA,uBAEA,OAAA,QAAA,SAAA,GACA,OAAA,IAAA,QAAA,SAAA,EAAA,GACA,IAAA,EAAA,EAAA,KACA,EAAA,EAAA,QAEA,EAAA,WAAA,WACA,EAAA,gBAGA,IAAA,EAAA,IAAA,eAGA,GAAA,EAAA,KAAA,CACA,IAAA,EAAA,EAAA,KAAA,UAAA,GACA,EAAA,EAAA,KAAA,SAAA,SAAA,mBAAA,EAAA,KAAA,WAAA,GACA,EAAA,cAAA,SAAA,KAAA,EAAA,IAAA,GAGA,IAAA,EAAA,EAAA,EAAA,QAAA,EAAA,KA4EA,GA3EA,EAAA,KAAA,EAAA,OAAA,cAAA,EAAA,EAAA,EAAA,OAAA,EAAA,mBAAA,GAGA,EAAA,QAAA,EAAA,QAGA,EAAA,mBAAA,WACA,GAAA,GAAA,IAAA,EAAA,aAQA,IAAA,EAAA,QAAA,EAAA,aAAA,IAAA,EAAA,YAAA,QAAA,UAAA,CAKA,IAAA,EAAA,0BAAA,EAAA,EAAA,EAAA,yBAAA,KAEA,EAAA,CACA,KAFA,EAAA,cAAA,SAAA,EAAA,aAAA,EAAA,SAAA,EAAA,aAGA,OAAA,EAAA,OACA,WAAA,EAAA,WACA,QAAA,EACA,OAAA,EACA,QAAA,GAGA,EAAA,EAAA,EAAA,GAGA,EAAA,OAIA,EAAA,QAAA,WACA,IAIA,EAAA,EAAA,kBAAA,EAAA,eAAA,IAGA,EAAA,OAIA,EAAA,QAAA,WAGA,EAAA,EAAA,gBAAA,EAAA,KAAA,IAGA,EAAA,MAIA,EAAA,UAAA,WACA,IAAA,EAAA,cAAA,EAAA,QAAA,cACA,EAAA,sBACA,EAAA,EAAA,qBAEA,EAAA,EAAA,EAAA,EAAA,eACA,IAGA,EAAA,MAMA,EAAA,uBAAA,CAEA,IAAA,GAAA,EAAA,iBAAA,EAAA,KAAA,EAAA,eACA,EAAA,KAAA,EAAA,qBACA,EAEA,IACA,EAAA,EAAA,gBAAA,GAuBA,GAlBA,qBAAA,GACA,EAAA,QAAA,EAAA,SAAA,EAAA,QACA,IAAA,GAAA,iBAAA,EAAA,qBAEA,EAAA,GAGA,EAAA,iBAAA,EAAA,KAMA,EAAA,YAAA,EAAA,mBACA,EAAA,kBAAA,EAAA,iBAIA,EAAA,aACA,IACA,EAAA,aAAA,EAAA,aACA,MAAA,GAGA,GAAA,SAAA,EAAA,aACA,MAAA,EAMA,mBAAA,EAAA,oBACA,EAAA,iBAAA,WAAA,EAAA,oBAIA,mBAAA,EAAA,kBAAA,EAAA,QACA,EAAA,OAAA,iBAAA,WAAA,EAAA,kBAGA,EAAA,aAEA,EAAA,YAAA,QAAA,KAAA,SAAA,GACA,IAIA,EAAA,QACA,EAAA,GAEA,EAAA,QAIA,IACA,EAAA,MAIA,EAAA,KAAA;;;AC/KA,IAOIohC,EACAC,EARAC,EAAUC,OAAOC,QAAU,GAU/B,SAASC,IACC,MAAA,IAAIzhC,MAAM,mCAEpB,SAAS0hC,IACC,MAAA,IAAI1hC,MAAM,qCAsBpB,SAAS2hC,EAAWC,GACZR,GAAAA,IAAqB52B,WAEdA,OAAAA,WAAWo3B,EAAK,GAGvB,IAACR,IAAqBK,IAAqBL,IAAqB52B,WAEzDA,OADP42B,EAAmB52B,WACZA,WAAWo3B,EAAK,GAEvB,IAEOR,OAAAA,EAAiBQ,EAAK,GAC/B,MAAMlvC,GACA,IAEO0uC,OAAAA,EAAiBvvC,KAAK,KAAM+vC,EAAK,GAC1C,MAAMlvC,GAEG0uC,OAAAA,EAAiBvvC,KAAK,KAAM+vC,EAAK,KAMpD,SAASC,EAAgBC,GACjBT,GAAAA,IAAuB/2B,aAEhBA,OAAAA,aAAaw3B,GAGpB,IAACT,IAAuBK,IAAwBL,IAAuB/2B,aAEhEA,OADP+2B,EAAqB/2B,aACdA,aAAaw3B,GAEpB,IAEOT,OAAAA,EAAmBS,GAC5B,MAAOpvC,GACD,IAEO2uC,OAAAA,EAAmBxvC,KAAK,KAAMiwC,GACvC,MAAOpvC,GAGE2uC,OAAAA,EAAmBxvC,KAAK,KAAMiwC,MAjEhD,WACO,IAEIV,EADsB,mBAAf52B,WACYA,WAEAi3B,EAEzB,MAAO/uC,GACL0uC,EAAmBK,EAEnB,IAEIJ,EADwB,mBAAjB/2B,aACcA,aAEAo3B,EAE3B,MAAOhvC,GACL2uC,EAAqBK,GAjB5B,GAwED,IAEIK,EAFA3xB,EAAQ,GACR4xB,GAAW,EAEXC,GAAc,EAElB,SAASC,IACAF,GAAaD,IAGlBC,GAAW,EACPD,EAAatwC,OACb2e,EAAQ2xB,EAAahvC,OAAOqd,GAE5B6xB,GAAc,EAEd7xB,EAAM3e,QACN0wC,KAIR,SAASA,IACDH,IAAAA,EAAAA,CAGAp4B,IAAAA,EAAU+3B,EAAWO,GACzBF,GAAW,EAGLvE,IADFA,IAAAA,EAAMrtB,EAAM3e,OACVgsC,GAAK,CAGA,IAFPsE,EAAe3xB,EACfA,EAAQ,KACC6xB,EAAaxE,GACdsE,GACAA,EAAaE,GAAYG,MAGjCH,GAAc,EACdxE,EAAMrtB,EAAM3e,OAEhBswC,EAAe,KACfC,GAAW,EACXH,EAAgBj4B,IAiBpB,SAASy4B,EAAKT,EAAKU,GACVV,KAAAA,IAAMA,EACNU,KAAAA,MAAQA,EAYjB,SAASC,KA5BTjB,EAAQkB,SAAW,SAAUZ,GACrBx3B,IAAAA,EAAO,IAAInW,MAAMzC,UAAUC,OAAS,GACpCD,GAAAA,UAAUC,OAAS,EACd,IAAA,IAAIH,EAAI,EAAGA,EAAIE,UAAUC,OAAQH,IAClC8Y,EAAK9Y,EAAI,GAAKE,UAAUF,GAGhC8e,EAAMxd,KAAK,IAAIyvC,EAAKT,EAAKx3B,IACJ,IAAjBgG,EAAM3e,QAAiBuwC,GACvBL,EAAWQ,IASnBE,EAAK1wC,UAAUywC,IAAM,WACZR,KAAAA,IAAI9vC,MAAM,KAAM,KAAKwwC,QAE9BhB,EAAQmB,MAAQ,UAEhBnB,EAAQoB,IAAM,GACdpB,EAAQqB,KAAO,GACfrB,EAAQsB,QAAU,GAClBtB,EAAQuB,SAAW,GAInBvB,EAAQz4B,GAAK05B,EACbjB,EAAQwB,YAAcP,EACtBjB,EAAQyB,KAAOR,EACfjB,EAAQtgB,IAAMuhB,EACdjB,EAAQ0B,eAAiBT,EACzBjB,EAAQ2B,mBAAqBV,EAC7BjB,EAAQ5uB,KAAO6vB,EACfjB,EAAQ4B,gBAAkBX,EAC1BjB,EAAQ6B,oBAAsBZ,EAE9BjB,EAAQ8B,UAAY,SAAUlsC,GAAe,MAAA,IAE7CoqC,EAAQ+B,QAAU,SAAUnsC,GAClB,MAAA,IAAI8I,MAAM,qCAGpBshC,EAAQgC,IAAM,WAAqB,MAAA,KACnChC,EAAQiC,MAAQ,SAAUC,GAChB,MAAA,IAAIxjC,MAAM,mCAEpBshC,EAAQmC,MAAQ,WAAoB,OAAA;;;ACrFpC,IAAA,EAAA,QAAA,WAhGA,EAAA,QAAA,WACA,EAAA,QAAA,iCAEA,EAAA,CACA,eAAA,qCAGA,SAAA,EAAA,EAAA,IACA,EAAA,YAAA,IAAA,EAAA,YAAA,EAAA,mBACA,EAAA,gBAAA,GAIA,SAAA,IACA,IAAA,EAQA,MAPA,oBAAA,eAEA,EAAA,QAAA,uBACA,IAAA,GAAA,qBAAA,OAAA,UAAA,SAAA,KAAA,KAEA,EAAA,QAAA,oBAEA,EAGA,IAAA,EAAA,CACA,QAAA,IAEA,iBAAA,CAAA,SAAA,EAAA,GAGA,OAFA,EAAA,EAAA,UACA,EAAA,EAAA,gBACA,EAAA,WAAA,IACA,EAAA,cAAA,IACA,EAAA,SAAA,IACA,EAAA,SAAA,IACA,EAAA,OAAA,IACA,EAAA,OAAA,GAEA,EAEA,EAAA,kBAAA,GACA,EAAA,OAEA,EAAA,kBAAA,IACA,EAAA,EAAA,mDACA,EAAA,YAEA,EAAA,SAAA,IACA,EAAA,EAAA,kCACA,KAAA,UAAA,IAEA,IAGA,kBAAA,CAAA,SAAA,GAEA,GAAA,iBAAA,EACA,IACA,EAAA,KAAA,MAAA,GACA,MAAA,IAEA,OAAA,IAOA,QAAA,EAEA,eAAA,aACA,eAAA,eAEA,kBAAA,EACA,eAAA,EAEA,eAAA,SAAA,GACA,OAAA,GAAA,KAAA,EAAA,KAIA,QAAA,CACA,OAAA,CACA,OAAA,uCAIA,EAAA,QAAA,CAAA,SAAA,MAAA,QAAA,SAAA,GACA,EAAA,QAAA,GAAA,KAGA,EAAA,QAAA,CAAA,OAAA,MAAA,SAAA,SAAA,GACA,EAAA,QAAA,GAAA,EAAA,MAAA,KAGA,OAAA,QAAA;;ACjGA,aAEA,IAAA,EAAA,QAAA,cACA,EAAA,QAAA,mBACA,EAAA,QAAA,sBACA,EAAA,QAAA,eAKA,SAAA,EAAA,GACA,EAAA,aACA,EAAA,YAAA,mBAUA,OAAA,QAAA,SAAA,GA6BA,OA5BA,EAAA,GAGA,EAAA,QAAA,EAAA,SAAA,GAGA,EAAA,KAAA,EACA,EAAA,KACA,EAAA,QACA,EAAA,kBAIA,EAAA,QAAA,EAAA,MACA,EAAA,QAAA,QAAA,GACA,EAAA,QAAA,EAAA,SAAA,GACA,EAAA,SAGA,EAAA,QACA,CAAA,SAAA,MAAA,OAAA,OAAA,MAAA,QAAA,UACA,SAAA,UACA,EAAA,QAAA,MAIA,EAAA,SAAA,EAAA,SAEA,GAAA,KAAA,SAAA,GAUA,OATA,EAAA,GAGA,EAAA,KAAA,EACA,EAAA,KACA,EAAA,QACA,EAAA,mBAGA,GACA,SAAA,GAcA,OAbA,EAAA,KACA,EAAA,GAGA,GAAA,EAAA,WACA,EAAA,SAAA,KAAA,EACA,EAAA,SAAA,KACA,EAAA,SAAA,QACA,EAAA,qBAKA,QAAA,OAAA;;AC5EA,aAEA,IAAA,EAAA,QAAA,YAUA,OAAA,QAAA,SAAA,EAAA,GAEA,EAAA,GAAA,GACA,IAAA,EAAA,GAEA,EAAA,CAAA,MAAA,SAAA,QACA,EAAA,CAAA,UAAA,OAAA,QAAA,UACA,EAAA,CACA,UAAA,mBAAA,oBAAA,mBACA,UAAA,iBAAA,kBAAA,UAAA,eAAA,iBACA,iBAAA,mBAAA,qBAAA,aACA,mBAAA,gBAAA,eAAA,YAAA,YACA,aAAA,cAAA,aAAA,oBAEA,EAAA,CAAA,kBAEA,SAAA,EAAA,EAAA,GACA,OAAA,EAAA,cAAA,IAAA,EAAA,cAAA,GACA,EAAA,MAAA,EAAA,GACA,EAAA,cAAA,GACA,EAAA,MAAA,GAAA,GACA,EAAA,QAAA,GACA,EAAA,QAEA,EAGA,SAAA,EAAA,GACA,EAAA,YAAA,EAAA,IAEA,EAAA,YAAA,EAAA,MACA,EAAA,GAAA,OAAA,EAAA,EAAA,KAFA,EAAA,GAAA,EAAA,EAAA,GAAA,EAAA,IAMA,EAAA,QAAA,EAAA,SAAA,GACA,EAAA,YAAA,EAAA,MACA,EAAA,GAAA,OAAA,EAAA,EAAA,OAIA,EAAA,QAAA,EAAA,GAEA,EAAA,QAAA,EAAA,SAAA,GACA,EAAA,YAAA,EAAA,IAEA,EAAA,YAAA,EAAA,MACA,EAAA,GAAA,OAAA,EAAA,EAAA,KAFA,EAAA,GAAA,OAAA,EAAA,EAAA,MAMA,EAAA,QAAA,EAAA,SAAA,GACA,KAAA,EACA,EAAA,GAAA,EAAA,EAAA,GAAA,EAAA,IACA,KAAA,IACA,EAAA,GAAA,OAAA,EAAA,EAAA,OAIA,IAAA,EAAA,EACA,OAAA,GACA,OAAA,GACA,OAAA,GAEA,EAAA,OACA,KAAA,GACA,OAAA,OAAA,KAAA,IACA,OAAA,SAAA,GACA,OAAA,IAAA,EAAA,QAAA,KAKA,OAFA,EAAA,QAAA,EAAA,GAEA;;ACrFA,aAEA,IAAA,EAAA,QAAA,cACA,EAAA,QAAA,uBACA,EAAA,QAAA,wBACA,EAAA,QAAA,qBACA,EAAA,QAAA,iBAOA,SAAA,EAAA,GACA,KAAA,SAAA,EACA,KAAA,aAAA,CACA,QAAA,IAAA,EACA,SAAA,IAAA,GASA,EAAA,UAAA,QAAA,SAAA,GAGA,iBAAA,GACA,EAAA,UAAA,IAAA,IACA,IAAA,UAAA,GAEA,EAAA,GAAA,IAGA,EAAA,EAAA,KAAA,SAAA,IAGA,OACA,EAAA,OAAA,EAAA,OAAA,cACA,KAAA,SAAA,OACA,EAAA,OAAA,KAAA,SAAA,OAAA,cAEA,EAAA,OAAA,MAIA,IAAA,EAAA,CAAA,OAAA,GACA,EAAA,QAAA,QAAA,GAUA,IARA,KAAA,aAAA,QAAA,QAAA,SAAA,GACA,EAAA,QAAA,EAAA,UAAA,EAAA,YAGA,KAAA,aAAA,SAAA,QAAA,SAAA,GACA,EAAA,KAAA,EAAA,UAAA,EAAA,YAGA,EAAA,QACA,EAAA,EAAA,KAAA,EAAA,QAAA,EAAA,SAGA,OAAA,GAGA,EAAA,UAAA,OAAA,SAAA,GAEA,OADA,EAAA,EAAA,KAAA,SAAA,GACA,EAAA,EAAA,IAAA,EAAA,OAAA,EAAA,kBAAA,QAAA,MAAA,KAIA,EAAA,QAAA,CAAA,SAAA,MAAA,OAAA,WAAA,SAAA,GAEA,EAAA,UAAA,GAAA,SAAA,EAAA,GACA,OAAA,KAAA,QAAA,EAAA,GAAA,GAAA,CACA,OAAA,EACA,IAAA,EACA,MAAA,GAAA,IAAA,WAKA,EAAA,QAAA,CAAA,OAAA,MAAA,SAAA,SAAA,GAEA,EAAA,UAAA,GAAA,SAAA,EAAA,EAAA,GACA,OAAA,KAAA,QAAA,EAAA,GAAA,GAAA,CACA,OAAA,EACA,IAAA,EACA,KAAA,QAKA,OAAA,QAAA;;AC9FA,aAQA,SAAA,EAAA,GACA,KAAA,QAAA,EAGA,EAAA,UAAA,SAAA,WACA,MAAA,UAAA,KAAA,QAAA,KAAA,KAAA,QAAA,KAGA,EAAA,UAAA,YAAA,EAEA,OAAA,QAAA;;AClBA,aAEA,IAAA,EAAA,QAAA,YAQA,SAAA,EAAA,GACA,GAAA,mBAAA,EACA,MAAA,IAAA,UAAA,gCAGA,IAAA,EACA,KAAA,QAAA,IAAA,QAAA,SAAA,GACA,EAAA,IAGA,IAAA,EAAA,KACA,EAAA,SAAA,GACA,EAAA,SAKA,EAAA,OAAA,IAAA,EAAA,GACA,EAAA,EAAA,WAOA,EAAA,UAAA,iBAAA,WACA,GAAA,KAAA,OACA,MAAA,KAAA,QAQA,EAAA,OAAA,WACA,IAAA,EAIA,MAAA,CACA,MAJA,IAAA,EAAA,SAAA,GACA,EAAA,IAIA,OAAA,IAIA,OAAA,QAAA;;ACxDA,aAsBA,OAAA,QAAA,SAAA,GACA,OAAA,SAAA,GACA,OAAA,EAAA,MAAA,KAAA;;ACxBA,aAQA,OAAA,QAAA,SAAA,GACA,MAAA,iBAAA,IAAA,IAAA,EAAA;;ACTA,aAEA,IAAA,EAAA,QAAA,WACA,EAAA,QAAA,kBACA,EAAA,QAAA,gBACA,EAAA,QAAA,sBACA,EAAA,QAAA,cAQA,SAAA,EAAA,GACA,IAAA,EAAA,IAAA,EAAA,GACA,EAAA,EAAA,EAAA,UAAA,QAAA,GAQA,OALA,EAAA,OAAA,EAAA,EAAA,UAAA,GAGA,EAAA,OAAA,EAAA,GAEA,EAIA,IAAA,EAAA,EAAA,GAGA,EAAA,MAAA,EAGA,EAAA,OAAA,SAAA,GACA,OAAA,EAAA,EAAA,EAAA,SAAA,KAIA,EAAA,OAAA,QAAA,mBACA,EAAA,YAAA,QAAA,wBACA,EAAA,SAAA,QAAA,qBAGA,EAAA,IAAA,SAAA,GACA,OAAA,QAAA,IAAA,IAEA,EAAA,OAAA,QAAA,oBAGA,EAAA,aAAA,QAAA,0BAEA,OAAA,QAAA,EAGA,OAAA,QAAA,QAAA;;ACvDA,OAAA,QAAA,QAAA;;ACwFC,aAxFD,IAAA,EAAA,QAAA,SACA,EAAA,EAAA,QAAA,UAuFC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GArFD,IAAIC,EAAe,IAEnB,EAAO,EAAA,QAAA,CACLhxB,KAAKtG,SAAAA,GACHs3B,EAAa9wC,KAAKwZ,MAIM/B,IAAAA,EAAAA,OAAOs5B,sBAA7BC,EAAAA,EAAAA,UAAWC,EAAAA,EAAAA,OAEjB,SAASC,IACA,OAAA,IAAIlV,QAAQ,SAACC,EAASkV,GACrBC,IAAAA,EAAWC,eAAeC,QAAQ,YACpCF,EACFnV,EAAQmV,GAGL/F,EAAAA,QAAAA,KAAQ4F,GAAAA,OAAAA,EACR/U,iBAAAA,KAAK,SAAc,GAAX9hB,IAAAA,EAAAA,EAAAA,KACPi3B,eAAeE,QAAQ,WAAYn3B,EAAKg3B,UACxCnV,EAAQ7hB,EAAKg3B,YAEdI,MAAML,KAKf,SAASM,IACA,OAAA,IAAIzV,QAAQ,SAACC,EAASkV,GAExBh2B,EAAAA,QAAAA,IAAI,qCACJ+gB,KAAK,SAAc,GAAX9hB,IACDs3B,EADCt3B,EAAAA,KACSs3B,GACVC,EAAYl6B,OAAOk6B,UACrBA,EACF1V,EAAQ0V,GAILtG,EAAAA,QAAAA,KACI4F,GAAAA,OAAAA,EACH,iBAAA,CACES,GAAAA,EACAntC,SAAUkT,OAAOlT,SACjB6sC,SAAUC,eAAeC,QAAQ,aAEnC,CAAEM,OAAQ,CAAEZ,UAAAA,KAEb9U,KAAK,SAAc,GAAX9hB,IAAAA,EAAAA,EAAAA,KACP3C,OAAOk6B,UAAYv3B,EAAK/Z,IACxB47B,EAAQ7hB,EAAK/Z,OAEdmxC,MAAML,KAGZK,MAAML,KAIb,SAASU,EAAKF,EAAWP,GAEpB/F,EAAAA,QAAAA,KAAQ4F,GAAAA,OAAAA,EAAuBU,kBAAAA,OAAAA,EAAwB,eAAA,CACtDnrB,OAAQsqB,EACRM,SAAAA,IAEDlV,KAAK,SAAC6F,GAEL33B,QAAQ2gB,IAAI,iCAEbymB,MAAM,SAACvxC,GACNmK,QAAQ2gB,IAAI,oBACZ3gB,QAAQnK,MAAMA,KAIpB,IACEixC,IAAiBhV,KAAK,SAACkV,GACrBK,IAAkBvV,KAAK,SAACyV,GACtBG,YAAY,WACVD,EAAKF,EAAWP,IACf,SAGP,MAAOnxC,GACPmK,QAAQnK,MAAMA","file":"index.js","sourceRoot":"../../src","sourcesContent":["var EventType;\n(function (EventType) {\n    EventType[EventType[\"DomContentLoaded\"] = 0] = \"DomContentLoaded\";\n    EventType[EventType[\"Load\"] = 1] = \"Load\";\n    EventType[EventType[\"FullSnapshot\"] = 2] = \"FullSnapshot\";\n    EventType[EventType[\"IncrementalSnapshot\"] = 3] = \"IncrementalSnapshot\";\n    EventType[EventType[\"Meta\"] = 4] = \"Meta\";\n    EventType[EventType[\"Custom\"] = 5] = \"Custom\";\n})(EventType || (EventType = {}));\nvar IncrementalSource;\n(function (IncrementalSource) {\n    IncrementalSource[IncrementalSource[\"Mutation\"] = 0] = \"Mutation\";\n    IncrementalSource[IncrementalSource[\"MouseMove\"] = 1] = \"MouseMove\";\n    IncrementalSource[IncrementalSource[\"MouseInteraction\"] = 2] = \"MouseInteraction\";\n    IncrementalSource[IncrementalSource[\"Scroll\"] = 3] = \"Scroll\";\n    IncrementalSource[IncrementalSource[\"ViewportResize\"] = 4] = \"ViewportResize\";\n    IncrementalSource[IncrementalSource[\"Input\"] = 5] = \"Input\";\n    IncrementalSource[IncrementalSource[\"TouchMove\"] = 6] = \"TouchMove\";\n    IncrementalSource[IncrementalSource[\"MediaInteraction\"] = 7] = \"MediaInteraction\";\n    IncrementalSource[IncrementalSource[\"StyleSheetRule\"] = 8] = \"StyleSheetRule\";\n    IncrementalSource[IncrementalSource[\"CanvasMutation\"] = 9] = \"CanvasMutation\";\n    IncrementalSource[IncrementalSource[\"Font\"] = 10] = \"Font\";\n    IncrementalSource[IncrementalSource[\"Log\"] = 11] = \"Log\";\n})(IncrementalSource || (IncrementalSource = {}));\nvar MouseInteractions;\n(function (MouseInteractions) {\n    MouseInteractions[MouseInteractions[\"MouseUp\"] = 0] = \"MouseUp\";\n    MouseInteractions[MouseInteractions[\"MouseDown\"] = 1] = \"MouseDown\";\n    MouseInteractions[MouseInteractions[\"Click\"] = 2] = \"Click\";\n    MouseInteractions[MouseInteractions[\"ContextMenu\"] = 3] = \"ContextMenu\";\n    MouseInteractions[MouseInteractions[\"DblClick\"] = 4] = \"DblClick\";\n    MouseInteractions[MouseInteractions[\"Focus\"] = 5] = \"Focus\";\n    MouseInteractions[MouseInteractions[\"Blur\"] = 6] = \"Blur\";\n    MouseInteractions[MouseInteractions[\"TouchStart\"] = 7] = \"TouchStart\";\n    MouseInteractions[MouseInteractions[\"TouchMove_Departed\"] = 8] = \"TouchMove_Departed\";\n    MouseInteractions[MouseInteractions[\"TouchEnd\"] = 9] = \"TouchEnd\";\n})(MouseInteractions || (MouseInteractions = {}));\nvar MediaInteractions;\n(function (MediaInteractions) {\n    MediaInteractions[MediaInteractions[\"Play\"] = 0] = \"Play\";\n    MediaInteractions[MediaInteractions[\"Pause\"] = 1] = \"Pause\";\n})(MediaInteractions || (MediaInteractions = {}));\nvar ReplayerEvents;\n(function (ReplayerEvents) {\n    ReplayerEvents[\"Start\"] = \"start\";\n    ReplayerEvents[\"Pause\"] = \"pause\";\n    ReplayerEvents[\"Resume\"] = \"resume\";\n    ReplayerEvents[\"Resize\"] = \"resize\";\n    ReplayerEvents[\"Finish\"] = \"finish\";\n    ReplayerEvents[\"FullsnapshotRebuilded\"] = \"fullsnapshot-rebuilded\";\n    ReplayerEvents[\"LoadStylesheetStart\"] = \"load-stylesheet-start\";\n    ReplayerEvents[\"LoadStylesheetEnd\"] = \"load-stylesheet-end\";\n    ReplayerEvents[\"SkipStart\"] = \"skip-start\";\n    ReplayerEvents[\"SkipEnd\"] = \"skip-end\";\n    ReplayerEvents[\"MouseInteraction\"] = \"mouse-interaction\";\n    ReplayerEvents[\"EventCast\"] = \"event-cast\";\n    ReplayerEvents[\"CustomEvent\"] = \"custom-event\";\n    ReplayerEvents[\"Flush\"] = \"flush\";\n    ReplayerEvents[\"StateChange\"] = \"state-change\";\n})(ReplayerEvents || (ReplayerEvents = {}));\n\nexport { EventType, IncrementalSource, MediaInteractions, MouseInteractions, ReplayerEvents };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\n\nexport { __assign, __read, __spread, __values };\n","var NodeType;\n(function (NodeType) {\n    NodeType[NodeType[\"Document\"] = 0] = \"Document\";\n    NodeType[NodeType[\"DocumentType\"] = 1] = \"DocumentType\";\n    NodeType[NodeType[\"Element\"] = 2] = \"Element\";\n    NodeType[NodeType[\"Text\"] = 3] = \"Text\";\n    NodeType[NodeType[\"CDATA\"] = 4] = \"CDATA\";\n    NodeType[NodeType[\"Comment\"] = 5] = \"Comment\";\n})(NodeType || (NodeType = {}));\n\nvar _id = 1;\nvar tagNameRegex = RegExp('[^a-z1-6-_]');\nvar IGNORED_NODE = -2;\nfunction genId() {\n    return _id++;\n}\nfunction getValidTagName(element) {\n    if (element instanceof HTMLFormElement) {\n        return 'form';\n    }\n    var processedTagName = element.tagName.toLowerCase().trim();\n    if (tagNameRegex.test(processedTagName)) {\n        return 'div';\n    }\n    return processedTagName;\n}\nfunction getCssRulesString(s) {\n    try {\n        var rules = s.rules || s.cssRules;\n        return rules ? Array.from(rules).map(getCssRuleString).join('') : null;\n    }\n    catch (error) {\n        return null;\n    }\n}\nfunction getCssRuleString(rule) {\n    return isCSSImportRule(rule)\n        ? getCssRulesString(rule.styleSheet) || ''\n        : rule.cssText;\n}\nfunction isCSSImportRule(rule) {\n    return 'styleSheet' in rule;\n}\nfunction extractOrigin(url) {\n    var origin;\n    if (url.indexOf('//') > -1) {\n        origin = url.split('/').slice(0, 3).join('/');\n    }\n    else {\n        origin = url.split('/')[0];\n    }\n    origin = origin.split('?')[0];\n    return origin;\n}\nvar URL_IN_CSS_REF = /url\\((?:(')([^']*)'|(\")([^\"]*)\"|([^)]*))\\)/gm;\nvar RELATIVE_PATH = /^(?!www\\.|(?:http|ftp)s?:\\/\\/|[A-Za-z]:\\\\|\\/\\/|#).*/;\nvar DATA_URI = /^(data:)([^,]*),(.*)/i;\nfunction absoluteToStylesheet(cssText, href) {\n    return (cssText || '').replace(URL_IN_CSS_REF, function (origin, quote1, path1, quote2, path2, path3) {\n        var filePath = path1 || path2 || path3;\n        var maybeQuote = quote1 || quote2 || '';\n        if (!filePath) {\n            return origin;\n        }\n        if (!RELATIVE_PATH.test(filePath)) {\n            return \"url(\" + maybeQuote + filePath + maybeQuote + \")\";\n        }\n        if (DATA_URI.test(filePath)) {\n            return \"url(\" + maybeQuote + filePath + maybeQuote + \")\";\n        }\n        if (filePath[0] === '/') {\n            return \"url(\" + maybeQuote + (extractOrigin(href) + filePath) + maybeQuote + \")\";\n        }\n        var stack = href.split('/');\n        var parts = filePath.split('/');\n        stack.pop();\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n            var part = parts_1[_i];\n            if (part === '.') {\n                continue;\n            }\n            else if (part === '..') {\n                stack.pop();\n            }\n            else {\n                stack.push(part);\n            }\n        }\n        return \"url(\" + maybeQuote + stack.join('/') + maybeQuote + \")\";\n    });\n}\nfunction getAbsoluteSrcsetString(doc, attributeValue) {\n    if (attributeValue.trim() === '') {\n        return attributeValue;\n    }\n    var srcsetValues = attributeValue.split(',');\n    var resultingSrcsetString = srcsetValues\n        .map(function (srcItem) {\n        var trimmedSrcItem = srcItem.trimLeft().trimRight();\n        var urlAndSize = trimmedSrcItem.split(' ');\n        if (urlAndSize.length === 2) {\n            var absUrl = absoluteToDoc(doc, urlAndSize[0]);\n            return absUrl + \" \" + urlAndSize[1];\n        }\n        else if (urlAndSize.length === 1) {\n            var absUrl = absoluteToDoc(doc, urlAndSize[0]);\n            return \"\" + absUrl;\n        }\n        return '';\n    })\n        .join(', ');\n    return resultingSrcsetString;\n}\nfunction absoluteToDoc(doc, attributeValue) {\n    if (!attributeValue || attributeValue.trim() === '') {\n        return attributeValue;\n    }\n    var a = doc.createElement('a');\n    a.href = attributeValue;\n    return a.href;\n}\nfunction isSVGElement(el) {\n    return el.tagName === 'svg' || el instanceof SVGElement;\n}\nfunction transformAttribute(doc, name, value) {\n    if (name === 'src' || ((name === 'href' || name === 'xlink:href') && value)) {\n        return absoluteToDoc(doc, value);\n    }\n    else if (name === 'srcset' && value) {\n        return getAbsoluteSrcsetString(doc, value);\n    }\n    else if (name === 'style' && value) {\n        return absoluteToStylesheet(value, location.href);\n    }\n    else {\n        return value;\n    }\n}\nfunction _isBlockedElement(element, blockClass, blockSelector) {\n    if (typeof blockClass === 'string') {\n        if (element.classList.contains(blockClass)) {\n            return true;\n        }\n    }\n    else {\n        element.classList.forEach(function (className) {\n            if (blockClass.test(className)) {\n                return true;\n            }\n        });\n    }\n    if (blockSelector) {\n        return element.matches(blockSelector);\n    }\n    return false;\n}\nfunction serializeNode(n, options) {\n    var doc = options.doc, blockClass = options.blockClass, blockSelector = options.blockSelector, inlineStylesheet = options.inlineStylesheet, _a = options.maskInputOptions, maskInputOptions = _a === void 0 ? {} : _a, recordCanvas = options.recordCanvas;\n    switch (n.nodeType) {\n        case n.DOCUMENT_NODE:\n            return {\n                type: NodeType.Document,\n                childNodes: [],\n            };\n        case n.DOCUMENT_TYPE_NODE:\n            return {\n                type: NodeType.DocumentType,\n                name: n.name,\n                publicId: n.publicId,\n                systemId: n.systemId,\n            };\n        case n.ELEMENT_NODE:\n            var needBlock = _isBlockedElement(n, blockClass, blockSelector);\n            var tagName = getValidTagName(n);\n            var attributes_1 = {};\n            for (var _i = 0, _b = Array.from(n.attributes); _i < _b.length; _i++) {\n                var _c = _b[_i], name = _c.name, value = _c.value;\n                attributes_1[name] = transformAttribute(doc, name, value);\n            }\n            if (tagName === 'link' && inlineStylesheet) {\n                var stylesheet = Array.from(doc.styleSheets).find(function (s) {\n                    return s.href === n.href;\n                });\n                var cssText = getCssRulesString(stylesheet);\n                if (cssText) {\n                    delete attributes_1.rel;\n                    delete attributes_1.href;\n                    attributes_1._cssText = absoluteToStylesheet(cssText, stylesheet.href);\n                }\n            }\n            if (tagName === 'style' &&\n                n.sheet &&\n                !(n.innerText ||\n                    n.textContent ||\n                    '').trim().length) {\n                var cssText = getCssRulesString(n.sheet);\n                if (cssText) {\n                    attributes_1._cssText = absoluteToStylesheet(cssText, location.href);\n                }\n            }\n            if (tagName === 'input' ||\n                tagName === 'textarea' ||\n                tagName === 'select') {\n                var value = n.value;\n                if (attributes_1.type !== 'radio' &&\n                    attributes_1.type !== 'checkbox' &&\n                    attributes_1.type !== 'submit' &&\n                    attributes_1.type !== 'button' &&\n                    value) {\n                    attributes_1.value =\n                        maskInputOptions[attributes_1.type] ||\n                            maskInputOptions[tagName]\n                            ? '*'.repeat(value.length)\n                            : value;\n                }\n                else if (n.checked) {\n                    attributes_1.checked = n.checked;\n                }\n            }\n            if (tagName === 'option') {\n                var selectValue = n.parentElement;\n                if (attributes_1.value === selectValue.value) {\n                    attributes_1.selected = n.selected;\n                }\n            }\n            if (tagName === 'canvas' && recordCanvas) {\n                attributes_1.rr_dataURL = n.toDataURL();\n            }\n            if (tagName === 'audio' || tagName === 'video') {\n                attributes_1.rr_mediaState = n.paused\n                    ? 'paused'\n                    : 'played';\n            }\n            if (n.scrollLeft) {\n                attributes_1.rr_scrollLeft = n.scrollLeft;\n            }\n            if (n.scrollTop) {\n                attributes_1.rr_scrollTop = n.scrollTop;\n            }\n            if (needBlock) {\n                var _d = n.getBoundingClientRect(), width = _d.width, height = _d.height;\n                attributes_1 = {\n                    class: attributes_1.class,\n                    rr_width: width + \"px\",\n                    rr_height: height + \"px\",\n                };\n            }\n            return {\n                type: NodeType.Element,\n                tagName: tagName,\n                attributes: attributes_1,\n                childNodes: [],\n                isSVG: isSVGElement(n) || undefined,\n                needBlock: needBlock,\n            };\n        case n.TEXT_NODE:\n            var parentTagName = n.parentNode && n.parentNode.tagName;\n            var textContent = n.textContent;\n            var isStyle = parentTagName === 'STYLE' ? true : undefined;\n            if (isStyle && textContent) {\n                textContent = absoluteToStylesheet(textContent, location.href);\n            }\n            if (parentTagName === 'SCRIPT') {\n                textContent = 'SCRIPT_PLACEHOLDER';\n            }\n            return {\n                type: NodeType.Text,\n                textContent: textContent || '',\n                isStyle: isStyle,\n            };\n        case n.CDATA_SECTION_NODE:\n            return {\n                type: NodeType.CDATA,\n                textContent: '',\n            };\n        case n.COMMENT_NODE:\n            return {\n                type: NodeType.Comment,\n                textContent: n.textContent || '',\n            };\n        default:\n            return false;\n    }\n}\nfunction lowerIfExists(maybeAttr) {\n    if (maybeAttr === undefined) {\n        return '';\n    }\n    else {\n        return maybeAttr.toLowerCase();\n    }\n}\nfunction slimDOMExcluded(sn, slimDOMOptions) {\n    if (slimDOMOptions.comment && sn.type === NodeType.Comment) {\n        return true;\n    }\n    else if (sn.type === NodeType.Element) {\n        if (slimDOMOptions.script &&\n            (sn.tagName === 'script' ||\n                (sn.tagName === 'link' &&\n                    sn.attributes.rel === 'preload' &&\n                    sn.attributes.as === 'script'))) {\n            return true;\n        }\n        else if (slimDOMOptions.headFavicon &&\n            ((sn.tagName === 'link' && sn.attributes.rel === 'shortcut icon') ||\n                (sn.tagName === 'meta' &&\n                    (lowerIfExists(sn.attributes.name).match(/^msapplication-tile(image|color)$/) ||\n                        lowerIfExists(sn.attributes.name) === 'application-name' ||\n                        lowerIfExists(sn.attributes.rel) === 'icon' ||\n                        lowerIfExists(sn.attributes.rel) === 'apple-touch-icon' ||\n                        lowerIfExists(sn.attributes.rel) === 'shortcut icon')))) {\n            return true;\n        }\n        else if (sn.tagName === 'meta') {\n            if (slimDOMOptions.headMetaDescKeywords &&\n                lowerIfExists(sn.attributes.name).match(/^description|keywords$/)) {\n                return true;\n            }\n            else if (slimDOMOptions.headMetaSocial &&\n                (lowerIfExists(sn.attributes.property).match(/^(og|twitter|fb):/) ||\n                    lowerIfExists(sn.attributes.name).match(/^(og|twitter):/) ||\n                    lowerIfExists(sn.attributes.name) === 'pinterest')) {\n                return true;\n            }\n            else if (slimDOMOptions.headMetaRobots &&\n                (lowerIfExists(sn.attributes.name) === 'robots' ||\n                    lowerIfExists(sn.attributes.name) === 'googlebot' ||\n                    lowerIfExists(sn.attributes.name) === 'bingbot')) {\n                return true;\n            }\n            else if (slimDOMOptions.headMetaHttpEquiv &&\n                sn.attributes['http-equiv'] !== undefined) {\n                return true;\n            }\n            else if (slimDOMOptions.headMetaAuthorship &&\n                (lowerIfExists(sn.attributes.name) === 'author' ||\n                    lowerIfExists(sn.attributes.name) === 'generator' ||\n                    lowerIfExists(sn.attributes.name) === 'framework' ||\n                    lowerIfExists(sn.attributes.name) === 'publisher' ||\n                    lowerIfExists(sn.attributes.name) === 'progid' ||\n                    lowerIfExists(sn.attributes.property).match(/^article:/) ||\n                    lowerIfExists(sn.attributes.property).match(/^product:/))) {\n                return true;\n            }\n            else if (slimDOMOptions.headMetaVerification &&\n                (lowerIfExists(sn.attributes.name) === 'google-site-verification' ||\n                    lowerIfExists(sn.attributes.name) === 'yandex-verification' ||\n                    lowerIfExists(sn.attributes.name) === 'csrf-token' ||\n                    lowerIfExists(sn.attributes.name) === 'p:domain_verify' ||\n                    lowerIfExists(sn.attributes.name) === 'verify-v1' ||\n                    lowerIfExists(sn.attributes.name) === 'verification' ||\n                    lowerIfExists(sn.attributes.name) === 'shopify-checkout-api-token')) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nfunction serializeNodeWithId(n, options) {\n    var doc = options.doc, map = options.map, blockClass = options.blockClass, blockSelector = options.blockSelector, _a = options.skipChild, skipChild = _a === void 0 ? false : _a, _b = options.inlineStylesheet, inlineStylesheet = _b === void 0 ? true : _b, _c = options.maskInputOptions, maskInputOptions = _c === void 0 ? {} : _c, slimDOMOptions = options.slimDOMOptions, _d = options.recordCanvas, recordCanvas = _d === void 0 ? false : _d;\n    var _e = options.preserveWhiteSpace, preserveWhiteSpace = _e === void 0 ? true : _e;\n    var _serializedNode = serializeNode(n, {\n        doc: doc,\n        blockClass: blockClass,\n        blockSelector: blockSelector,\n        inlineStylesheet: inlineStylesheet,\n        maskInputOptions: maskInputOptions,\n        recordCanvas: recordCanvas,\n    });\n    if (!_serializedNode) {\n        console.warn(n, 'not serialized');\n        return null;\n    }\n    var id;\n    if ('__sn' in n) {\n        id = n.__sn.id;\n    }\n    else if (slimDOMExcluded(_serializedNode, slimDOMOptions) ||\n        (!preserveWhiteSpace &&\n            _serializedNode.type === NodeType.Text &&\n            !_serializedNode.isStyle &&\n            !_serializedNode.textContent.replace(/^\\s+|\\s+$/gm, '').length)) {\n        id = IGNORED_NODE;\n    }\n    else {\n        id = genId();\n    }\n    var serializedNode = Object.assign(_serializedNode, { id: id });\n    n.__sn = serializedNode;\n    if (id === IGNORED_NODE) {\n        return null;\n    }\n    map[id] = n;\n    var recordChild = !skipChild;\n    if (serializedNode.type === NodeType.Element) {\n        recordChild = recordChild && !serializedNode.needBlock;\n        delete serializedNode.needBlock;\n    }\n    if ((serializedNode.type === NodeType.Document ||\n        serializedNode.type === NodeType.Element) &&\n        recordChild) {\n        if (slimDOMOptions.headWhitespace &&\n            _serializedNode.type === NodeType.Element &&\n            _serializedNode.tagName === 'head') {\n            preserveWhiteSpace = false;\n        }\n        for (var _i = 0, _f = Array.from(n.childNodes); _i < _f.length; _i++) {\n            var childN = _f[_i];\n            var serializedChildNode = serializeNodeWithId(childN, {\n                doc: doc,\n                map: map,\n                blockClass: blockClass,\n                blockSelector: blockSelector,\n                skipChild: skipChild,\n                inlineStylesheet: inlineStylesheet,\n                maskInputOptions: maskInputOptions,\n                slimDOMOptions: slimDOMOptions,\n                recordCanvas: recordCanvas,\n                preserveWhiteSpace: preserveWhiteSpace,\n            });\n            if (serializedChildNode) {\n                serializedNode.childNodes.push(serializedChildNode);\n            }\n        }\n    }\n    return serializedNode;\n}\nfunction snapshot(n, options) {\n    var _a = options || {}, _b = _a.blockClass, blockClass = _b === void 0 ? 'rr-block' : _b, _c = _a.inlineStylesheet, inlineStylesheet = _c === void 0 ? true : _c, _d = _a.recordCanvas, recordCanvas = _d === void 0 ? false : _d, _e = _a.blockSelector, blockSelector = _e === void 0 ? null : _e, _f = _a.maskAllInputs, maskAllInputs = _f === void 0 ? false : _f, _g = _a.slimDOM, slimDOM = _g === void 0 ? false : _g;\n    var idNodeMap = {};\n    var maskInputOptions = maskAllInputs === true\n        ? {\n            color: true,\n            date: true,\n            'datetime-local': true,\n            email: true,\n            month: true,\n            number: true,\n            range: true,\n            search: true,\n            tel: true,\n            text: true,\n            time: true,\n            url: true,\n            week: true,\n            textarea: true,\n            select: true,\n        }\n        : maskAllInputs === false\n            ? {}\n            : maskAllInputs;\n    var slimDOMOptions = slimDOM === true || slimDOM === 'all'\n        ?\n            {\n                script: true,\n                comment: true,\n                headFavicon: true,\n                headWhitespace: true,\n                headMetaDescKeywords: slimDOM === 'all',\n                headMetaSocial: true,\n                headMetaRobots: true,\n                headMetaHttpEquiv: true,\n                headMetaAuthorship: true,\n                headMetaVerification: true,\n            }\n        : slimDOM === false\n            ? {}\n            : slimDOM;\n    return [\n        serializeNodeWithId(n, {\n            doc: n,\n            map: idNodeMap,\n            blockClass: blockClass,\n            blockSelector: blockSelector,\n            skipChild: false,\n            inlineStylesheet: inlineStylesheet,\n            maskInputOptions: maskInputOptions,\n            slimDOMOptions: slimDOMOptions,\n            recordCanvas: recordCanvas,\n        }),\n        idNodeMap,\n    ];\n}\n\nvar commentre = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;\nfunction parse(css, options) {\n    if (options === void 0) { options = {}; }\n    var lineno = 1;\n    var column = 1;\n    function updatePosition(str) {\n        var lines = str.match(/\\n/g);\n        if (lines) {\n            lineno += lines.length;\n        }\n        var i = str.lastIndexOf('\\n');\n        column = i === -1 ? column + str.length : str.length - i;\n    }\n    function position() {\n        var start = { line: lineno, column: column };\n        return function (node) {\n            node.position = new Position(start);\n            whitespace();\n            return node;\n        };\n    }\n    var Position = (function () {\n        function Position(start) {\n            this.start = start;\n            this.end = { line: lineno, column: column };\n            this.source = options.source;\n        }\n        return Position;\n    }());\n    Position.prototype.content = css;\n    var errorsList = [];\n    function error(msg) {\n        var err = new Error(options.source + ':' + lineno + ':' + column + ': ' + msg);\n        err.reason = msg;\n        err.filename = options.source;\n        err.line = lineno;\n        err.column = column;\n        err.source = css;\n        if (options.silent) {\n            errorsList.push(err);\n        }\n        else {\n            throw err;\n        }\n    }\n    function stylesheet() {\n        var rulesList = rules();\n        return {\n            type: 'stylesheet',\n            stylesheet: {\n                source: options.source,\n                rules: rulesList,\n                parsingErrors: errorsList,\n            },\n        };\n    }\n    function open() {\n        return match(/^{\\s*/);\n    }\n    function close() {\n        return match(/^}/);\n    }\n    function rules() {\n        var node;\n        var rules = [];\n        whitespace();\n        comments(rules);\n        while (css.length && css.charAt(0) !== '}' && (node = atrule() || rule())) {\n            if (node !== false) {\n                rules.push(node);\n                comments(rules);\n            }\n        }\n        return rules;\n    }\n    function match(re) {\n        var m = re.exec(css);\n        if (!m) {\n            return;\n        }\n        var str = m[0];\n        updatePosition(str);\n        css = css.slice(str.length);\n        return m;\n    }\n    function whitespace() {\n        match(/^\\s*/);\n    }\n    function comments(rules) {\n        if (rules === void 0) { rules = []; }\n        var c;\n        while ((c = comment())) {\n            if (c !== false) {\n                rules.push(c);\n            }\n            c = comment();\n        }\n        return rules;\n    }\n    function comment() {\n        var pos = position();\n        if ('/' !== css.charAt(0) || '*' !== css.charAt(1)) {\n            return;\n        }\n        var i = 2;\n        while ('' !== css.charAt(i) &&\n            ('*' !== css.charAt(i) || '/' !== css.charAt(i + 1))) {\n            ++i;\n        }\n        i += 2;\n        if ('' === css.charAt(i - 1)) {\n            return error('End of comment missing');\n        }\n        var str = css.slice(2, i - 2);\n        column += 2;\n        updatePosition(str);\n        css = css.slice(i);\n        column += 2;\n        return pos({\n            type: 'comment',\n            comment: str,\n        });\n    }\n    function selector() {\n        var m = match(/^([^{]+)/);\n        if (!m) {\n            return;\n        }\n        return trim(m[0])\n            .replace(/\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*\\/+/g, '')\n            .replace(/\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'/g, function (m) {\n            return m.replace(/,/g, '\\u200C');\n        })\n            .split(/\\s*(?![^(]*\\)),\\s*/)\n            .map(function (s) {\n            return s.replace(/\\u200C/g, ',');\n        });\n    }\n    function declaration() {\n        var pos = position();\n        var propMatch = match(/^(\\*?[-#\\/\\*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/);\n        if (!propMatch) {\n            return;\n        }\n        var prop = trim(propMatch[0]);\n        if (!match(/^:\\s*/)) {\n            return error(\"property missing ':'\");\n        }\n        var val = match(/^((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^\\)]*?\\)|[^};])+)/);\n        var ret = pos({\n            type: 'declaration',\n            property: prop.replace(commentre, ''),\n            value: val ? trim(val[0]).replace(commentre, '') : '',\n        });\n        match(/^[;\\s]*/);\n        return ret;\n    }\n    function declarations() {\n        var decls = [];\n        if (!open()) {\n            return error(\"missing '{'\");\n        }\n        comments(decls);\n        var decl;\n        while ((decl = declaration())) {\n            if (decl !== false) {\n                decls.push(decl);\n                comments(decls);\n            }\n            decl = declaration();\n        }\n        if (!close()) {\n            return error(\"missing '}'\");\n        }\n        return decls;\n    }\n    function keyframe() {\n        var m;\n        var vals = [];\n        var pos = position();\n        while ((m = match(/^((\\d+\\.\\d+|\\.\\d+|\\d+)%?|[a-z]+)\\s*/))) {\n            vals.push(m[1]);\n            match(/^,\\s*/);\n        }\n        if (!vals.length) {\n            return;\n        }\n        return pos({\n            type: 'keyframe',\n            values: vals,\n            declarations: declarations(),\n        });\n    }\n    function atkeyframes() {\n        var pos = position();\n        var m = match(/^@([-\\w]+)?keyframes\\s*/);\n        if (!m) {\n            return;\n        }\n        var vendor = m[1];\n        m = match(/^([-\\w]+)\\s*/);\n        if (!m) {\n            return error('@keyframes missing name');\n        }\n        var name = m[1];\n        if (!open()) {\n            return error(\"@keyframes missing '{'\");\n        }\n        var frame;\n        var frames = comments();\n        while ((frame = keyframe())) {\n            frames.push(frame);\n            frames = frames.concat(comments());\n        }\n        if (!close()) {\n            return error(\"@keyframes missing '}'\");\n        }\n        return pos({\n            type: 'keyframes',\n            name: name,\n            vendor: vendor,\n            keyframes: frames,\n        });\n    }\n    function atsupports() {\n        var pos = position();\n        var m = match(/^@supports *([^{]+)/);\n        if (!m) {\n            return;\n        }\n        var supports = trim(m[1]);\n        if (!open()) {\n            return error(\"@supports missing '{'\");\n        }\n        var style = comments().concat(rules());\n        if (!close()) {\n            return error(\"@supports missing '}'\");\n        }\n        return pos({\n            type: 'supports',\n            supports: supports,\n            rules: style,\n        });\n    }\n    function athost() {\n        var pos = position();\n        var m = match(/^@host\\s*/);\n        if (!m) {\n            return;\n        }\n        if (!open()) {\n            return error(\"@host missing '{'\");\n        }\n        var style = comments().concat(rules());\n        if (!close()) {\n            return error(\"@host missing '}'\");\n        }\n        return pos({\n            type: 'host',\n            rules: style,\n        });\n    }\n    function atmedia() {\n        var pos = position();\n        var m = match(/^@media *([^{]+)/);\n        if (!m) {\n            return;\n        }\n        var media = trim(m[1]);\n        if (!open()) {\n            return error(\"@media missing '{'\");\n        }\n        var style = comments().concat(rules());\n        if (!close()) {\n            return error(\"@media missing '}'\");\n        }\n        return pos({\n            type: 'media',\n            media: media,\n            rules: style,\n        });\n    }\n    function atcustommedia() {\n        var pos = position();\n        var m = match(/^@custom-media\\s+(--[^\\s]+)\\s*([^{;]+);/);\n        if (!m) {\n            return;\n        }\n        return pos({\n            type: 'custom-media',\n            name: trim(m[1]),\n            media: trim(m[2]),\n        });\n    }\n    function atpage() {\n        var pos = position();\n        var m = match(/^@page */);\n        if (!m) {\n            return;\n        }\n        var sel = selector() || [];\n        if (!open()) {\n            return error(\"@page missing '{'\");\n        }\n        var decls = comments();\n        var decl;\n        while ((decl = declaration())) {\n            decls.push(decl);\n            decls = decls.concat(comments());\n        }\n        if (!close()) {\n            return error(\"@page missing '}'\");\n        }\n        return pos({\n            type: 'page',\n            selectors: sel,\n            declarations: decls,\n        });\n    }\n    function atdocument() {\n        var pos = position();\n        var m = match(/^@([-\\w]+)?document *([^{]+)/);\n        if (!m) {\n            return;\n        }\n        var vendor = trim(m[1]);\n        var doc = trim(m[2]);\n        if (!open()) {\n            return error(\"@document missing '{'\");\n        }\n        var style = comments().concat(rules());\n        if (!close()) {\n            return error(\"@document missing '}'\");\n        }\n        return pos({\n            type: 'document',\n            document: doc,\n            vendor: vendor,\n            rules: style,\n        });\n    }\n    function atfontface() {\n        var pos = position();\n        var m = match(/^@font-face\\s*/);\n        if (!m) {\n            return;\n        }\n        if (!open()) {\n            return error(\"@font-face missing '{'\");\n        }\n        var decls = comments();\n        var decl;\n        while ((decl = declaration())) {\n            decls.push(decl);\n            decls = decls.concat(comments());\n        }\n        if (!close()) {\n            return error(\"@font-face missing '}'\");\n        }\n        return pos({\n            type: 'font-face',\n            declarations: decls,\n        });\n    }\n    var atimport = _compileAtrule('import');\n    var atcharset = _compileAtrule('charset');\n    var atnamespace = _compileAtrule('namespace');\n    function _compileAtrule(name) {\n        var re = new RegExp('^@' + name + '\\\\s*([^;]+);');\n        return function () {\n            var pos = position();\n            var m = match(re);\n            if (!m) {\n                return;\n            }\n            var ret = { type: name };\n            ret[name] = m[1].trim();\n            return pos(ret);\n        };\n    }\n    function atrule() {\n        if (css[0] !== '@') {\n            return;\n        }\n        return (atkeyframes() ||\n            atmedia() ||\n            atcustommedia() ||\n            atsupports() ||\n            atimport() ||\n            atcharset() ||\n            atnamespace() ||\n            atdocument() ||\n            atpage() ||\n            athost() ||\n            atfontface());\n    }\n    function rule() {\n        var pos = position();\n        var sel = selector();\n        if (!sel) {\n            return error('selector missing');\n        }\n        comments();\n        return pos({\n            type: 'rule',\n            selectors: sel,\n            declarations: declarations(),\n        });\n    }\n    return addParent(stylesheet());\n}\nfunction trim(str) {\n    return str ? str.replace(/^\\s+|\\s+$/g, '') : '';\n}\nfunction addParent(obj, parent) {\n    var isNode = obj && typeof obj.type === 'string';\n    var childParent = isNode ? obj : parent;\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var k = _a[_i];\n        var value = obj[k];\n        if (Array.isArray(value)) {\n            value.forEach(function (v) {\n                addParent(v, childParent);\n            });\n        }\n        else if (value && typeof value === 'object') {\n            addParent(value, childParent);\n        }\n    }\n    if (isNode) {\n        Object.defineProperty(obj, 'parent', {\n            configurable: true,\n            writable: true,\n            enumerable: false,\n            value: parent || null,\n        });\n    }\n    return obj;\n}\n\nvar tagMap = {\n    script: 'noscript',\n    altglyph: 'altGlyph',\n    altglyphdef: 'altGlyphDef',\n    altglyphitem: 'altGlyphItem',\n    animatecolor: 'animateColor',\n    animatemotion: 'animateMotion',\n    animatetransform: 'animateTransform',\n    clippath: 'clipPath',\n    feblend: 'feBlend',\n    fecolormatrix: 'feColorMatrix',\n    fecomponenttransfer: 'feComponentTransfer',\n    fecomposite: 'feComposite',\n    feconvolvematrix: 'feConvolveMatrix',\n    fediffuselighting: 'feDiffuseLighting',\n    fedisplacementmap: 'feDisplacementMap',\n    fedistantlight: 'feDistantLight',\n    fedropshadow: 'feDropShadow',\n    feflood: 'feFlood',\n    fefunca: 'feFuncA',\n    fefuncb: 'feFuncB',\n    fefuncg: 'feFuncG',\n    fefuncr: 'feFuncR',\n    fegaussianblur: 'feGaussianBlur',\n    feimage: 'feImage',\n    femerge: 'feMerge',\n    femergenode: 'feMergeNode',\n    femorphology: 'feMorphology',\n    feoffset: 'feOffset',\n    fepointlight: 'fePointLight',\n    fespecularlighting: 'feSpecularLighting',\n    fespotlight: 'feSpotLight',\n    fetile: 'feTile',\n    feturbulence: 'feTurbulence',\n    foreignobject: 'foreignObject',\n    glyphref: 'glyphRef',\n    lineargradient: 'linearGradient',\n    radialgradient: 'radialGradient',\n};\nfunction getTagName(n) {\n    var tagName = tagMap[n.tagName] ? tagMap[n.tagName] : n.tagName;\n    if (tagName === 'link' && n.attributes._cssText) {\n        tagName = 'style';\n    }\n    return tagName;\n}\nvar HOVER_SELECTOR = /([^\\\\]):hover/g;\nfunction addHoverClass(cssText) {\n    var ast = parse(cssText, { silent: true });\n    if (!ast.stylesheet) {\n        return cssText;\n    }\n    ast.stylesheet.rules.forEach(function (rule) {\n        if ('selectors' in rule) {\n            (rule.selectors || []).forEach(function (selector) {\n                if (HOVER_SELECTOR.test(selector)) {\n                    var newSelector = selector.replace(HOVER_SELECTOR, '$1.\\\\:hover');\n                    cssText = cssText.replace(selector, selector + \", \" + newSelector);\n                }\n            });\n        }\n    });\n    return cssText;\n}\nfunction buildNode(n, options) {\n    var doc = options.doc, hackCss = options.hackCss;\n    switch (n.type) {\n        case NodeType.Document:\n            return doc.implementation.createDocument(null, '', null);\n        case NodeType.DocumentType:\n            return doc.implementation.createDocumentType(n.name || 'html', n.publicId, n.systemId);\n        case NodeType.Element:\n            var tagName = getTagName(n);\n            var node_1;\n            if (n.isSVG) {\n                node_1 = doc.createElementNS('http://www.w3.org/2000/svg', tagName);\n            }\n            else {\n                node_1 = doc.createElement(tagName);\n            }\n            var _loop_1 = function (name) {\n                if (!n.attributes.hasOwnProperty(name)) {\n                    return \"continue\";\n                }\n                var value = n.attributes[name];\n                value =\n                    typeof value === 'boolean' || typeof value === 'number' ? '' : value;\n                if (!name.startsWith('rr_')) {\n                    var isTextarea = tagName === 'textarea' && name === 'value';\n                    var isRemoteOrDynamicCss = tagName === 'style' && name === '_cssText';\n                    if (isRemoteOrDynamicCss && hackCss) {\n                        value = addHoverClass(value);\n                    }\n                    if (isTextarea || isRemoteOrDynamicCss) {\n                        var child = doc.createTextNode(value);\n                        for (var _i = 0, _a = Array.from(node_1.childNodes); _i < _a.length; _i++) {\n                            var c = _a[_i];\n                            if (c.nodeType === node_1.TEXT_NODE) {\n                                node_1.removeChild(c);\n                            }\n                        }\n                        node_1.appendChild(child);\n                        return \"continue\";\n                    }\n                    if (tagName === 'iframe' && name === 'src') {\n                        return \"continue\";\n                    }\n                    try {\n                        if (n.isSVG && name === 'xlink:href') {\n                            node_1.setAttributeNS('http://www.w3.org/1999/xlink', name, value);\n                        }\n                        else if (name === 'onload' ||\n                            name === 'onclick' ||\n                            name.substring(0, 7) === 'onmouse') {\n                            node_1.setAttribute('_' + name, value);\n                        }\n                        else {\n                            node_1.setAttribute(name, value);\n                        }\n                    }\n                    catch (error) {\n                    }\n                }\n                else {\n                    if (tagName === 'canvas' && name === 'rr_dataURL') {\n                        var image_1 = document.createElement('img');\n                        image_1.src = value;\n                        image_1.onload = function () {\n                            var ctx = node_1.getContext('2d');\n                            if (ctx) {\n                                ctx.drawImage(image_1, 0, 0, image_1.width, image_1.height);\n                            }\n                        };\n                    }\n                    if (name === 'rr_width') {\n                        node_1.style.width = value;\n                    }\n                    if (name === 'rr_height') {\n                        node_1.style.height = value;\n                    }\n                    if (name === 'rr_mediaState') {\n                        switch (value) {\n                            case 'played':\n                                node_1.play();\n                            case 'paused':\n                                node_1.pause();\n                                break;\n                        }\n                    }\n                }\n            };\n            for (var name in n.attributes) {\n                _loop_1(name);\n            }\n            return node_1;\n        case NodeType.Text:\n            return doc.createTextNode(n.isStyle && hackCss ? addHoverClass(n.textContent) : n.textContent);\n        case NodeType.CDATA:\n            return doc.createCDATASection(n.textContent);\n        case NodeType.Comment:\n            return doc.createComment(n.textContent);\n        default:\n            return null;\n    }\n}\nfunction buildNodeWithSN(n, options) {\n    var doc = options.doc, map = options.map, _a = options.skipChild, skipChild = _a === void 0 ? false : _a, _b = options.hackCss, hackCss = _b === void 0 ? true : _b;\n    var node = buildNode(n, { doc: doc, hackCss: hackCss });\n    if (!node) {\n        return null;\n    }\n    if (n.type === NodeType.Document) {\n        doc.close();\n        doc.open();\n        node = doc;\n    }\n    node.__sn = n;\n    map[n.id] = node;\n    if ((n.type === NodeType.Document || n.type === NodeType.Element) &&\n        !skipChild) {\n        for (var _i = 0, _c = n.childNodes; _i < _c.length; _i++) {\n            var childN = _c[_i];\n            var childNode = buildNodeWithSN(childN, {\n                doc: doc,\n                map: map,\n                skipChild: false,\n                hackCss: hackCss,\n            });\n            if (!childNode) {\n                console.warn('Failed to rebuild', childN);\n            }\n            else {\n                node.appendChild(childNode);\n            }\n        }\n    }\n    return node;\n}\nfunction visit(idNodeMap, onVisit) {\n    function walk(node) {\n        onVisit(node);\n    }\n    for (var key in idNodeMap) {\n        if (idNodeMap[key]) {\n            walk(idNodeMap[key]);\n        }\n    }\n}\nfunction handleScroll(node) {\n    var n = node.__sn;\n    if (n.type !== NodeType.Element) {\n        return;\n    }\n    var el = node;\n    for (var name in n.attributes) {\n        if (!(n.attributes.hasOwnProperty(name) && name.startsWith('rr_'))) {\n            continue;\n        }\n        var value = n.attributes[name];\n        if (name === 'rr_scrollLeft') {\n            el.scrollLeft = value;\n        }\n        if (name === 'rr_scrollTop') {\n            el.scrollTop = value;\n        }\n    }\n}\nfunction rebuild(n, options) {\n    var doc = options.doc, onVisit = options.onVisit, _a = options.hackCss, hackCss = _a === void 0 ? true : _a;\n    var idNodeMap = {};\n    var node = buildNodeWithSN(n, {\n        doc: doc,\n        map: idNodeMap,\n        skipChild: false,\n        hackCss: hackCss,\n    });\n    visit(idNodeMap, function (visitedNode) {\n        if (onVisit) {\n            onVisit(visitedNode);\n        }\n        handleScroll(visitedNode);\n    });\n    return [node, idNodeMap];\n}\n\nexport { IGNORED_NODE, NodeType, addHoverClass, buildNodeWithSN, rebuild, serializeNodeWithId, snapshot, transformAttribute };\n","import { __values } from '../node_modules/tslib/tslib.es6.js';\nimport { IGNORED_NODE } from '../node_modules/rrweb-snapshot/es/rrweb-snapshot.js';\nimport { EventType, IncrementalSource } from './types.js';\n\nfunction on(type, fn, target) {\n    if (target === void 0) { target = document; }\n    var options = { capture: true, passive: true };\n    target.addEventListener(type, fn, options);\n    return function () { return target.removeEventListener(type, fn, options); };\n}\nvar mirror = {\n    map: {},\n    getId: function (n) {\n        if (!n.__sn) {\n            return -1;\n        }\n        return n.__sn.id;\n    },\n    getNode: function (id) {\n        return mirror.map[id] || null;\n    },\n    removeNodeFromMap: function (n) {\n        var id = n.__sn && n.__sn.id;\n        delete mirror.map[id];\n        if (n.childNodes) {\n            n.childNodes.forEach(function (child) {\n                return mirror.removeNodeFromMap(child);\n            });\n        }\n    },\n    has: function (id) {\n        return mirror.map.hasOwnProperty(id);\n    },\n};\nfunction throttle(func, wait, options) {\n    if (options === void 0) { options = {}; }\n    var timeout = null;\n    var previous = 0;\n    return function (arg) {\n        var now = Date.now();\n        if (!previous && options.leading === false) {\n            previous = now;\n        }\n        var remaining = wait - (now - previous);\n        var context = this;\n        var args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                window.clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            func.apply(context, args);\n        }\n        else if (!timeout && options.trailing !== false) {\n            timeout = window.setTimeout(function () {\n                previous = options.leading === false ? 0 : Date.now();\n                timeout = null;\n                func.apply(context, args);\n            }, remaining);\n        }\n    };\n}\nfunction hookSetter(target, key, d, isRevoked, win) {\n    if (win === void 0) { win = window; }\n    var original = win.Object.getOwnPropertyDescriptor(target, key);\n    win.Object.defineProperty(target, key, isRevoked\n        ? d\n        : {\n            set: function (value) {\n                var _this = this;\n                setTimeout(function () {\n                    d.set.call(_this, value);\n                }, 0);\n                if (original && original.set) {\n                    original.set.call(this, value);\n                }\n            },\n        });\n    return function () { return hookSetter(target, key, original || {}, true); };\n}\nfunction patch(source, name, replacement) {\n    try {\n        if (!(name in source)) {\n            return function () { };\n        }\n        var original_1 = source[name];\n        var wrapped = replacement(original_1);\n        if (typeof wrapped === 'function') {\n            wrapped.prototype = wrapped.prototype || {};\n            Object.defineProperties(wrapped, {\n                __rrweb_original__: {\n                    enumerable: false,\n                    value: original_1,\n                },\n            });\n        }\n        source[name] = wrapped;\n        return function () {\n            source[name] = original_1;\n        };\n    }\n    catch (_a) {\n        return function () { };\n    }\n}\nfunction getWindowHeight() {\n    return (window.innerHeight ||\n        (document.documentElement && document.documentElement.clientHeight) ||\n        (document.body && document.body.clientHeight));\n}\nfunction getWindowWidth() {\n    return (window.innerWidth ||\n        (document.documentElement && document.documentElement.clientWidth) ||\n        (document.body && document.body.clientWidth));\n}\nfunction isBlocked(node, blockClass) {\n    if (!node) {\n        return false;\n    }\n    if (node.nodeType === node.ELEMENT_NODE) {\n        var needBlock_1 = false;\n        if (typeof blockClass === 'string') {\n            needBlock_1 = node.classList.contains(blockClass);\n        }\n        else {\n            node.classList.forEach(function (className) {\n                if (blockClass.test(className)) {\n                    needBlock_1 = true;\n                }\n            });\n        }\n        return needBlock_1 || isBlocked(node.parentNode, blockClass);\n    }\n    if (node.nodeType === node.TEXT_NODE) {\n        return isBlocked(node.parentNode, blockClass);\n    }\n    return isBlocked(node.parentNode, blockClass);\n}\nfunction isIgnored(n) {\n    if ('__sn' in n) {\n        return n.__sn.id === IGNORED_NODE;\n    }\n    return false;\n}\nfunction isAncestorRemoved(target) {\n    var id = mirror.getId(target);\n    if (!mirror.has(id)) {\n        return true;\n    }\n    if (target.parentNode &&\n        target.parentNode.nodeType === target.DOCUMENT_NODE) {\n        return false;\n    }\n    if (!target.parentNode) {\n        return true;\n    }\n    return isAncestorRemoved(target.parentNode);\n}\nfunction isTouchEvent(event) {\n    return Boolean(event.changedTouches);\n}\nfunction polyfill(win) {\n    if (win === void 0) { win = window; }\n    if ('NodeList' in win && !win.NodeList.prototype.forEach) {\n        win.NodeList.prototype.forEach = Array.prototype\n            .forEach;\n    }\n    if ('DOMTokenList' in win && !win.DOMTokenList.prototype.forEach) {\n        win.DOMTokenList.prototype.forEach = Array.prototype\n            .forEach;\n    }\n}\nfunction needCastInSyncMode(event) {\n    switch (event.type) {\n        case EventType.DomContentLoaded:\n        case EventType.Load:\n        case EventType.Custom:\n            return false;\n        case EventType.FullSnapshot:\n        case EventType.Meta:\n            return true;\n    }\n    switch (event.data.source) {\n        case IncrementalSource.MouseMove:\n        case IncrementalSource.MouseInteraction:\n        case IncrementalSource.TouchMove:\n        case IncrementalSource.MediaInteraction:\n            return false;\n        case IncrementalSource.ViewportResize:\n        case IncrementalSource.StyleSheetRule:\n        case IncrementalSource.Scroll:\n        case IncrementalSource.Input:\n            return true;\n    }\n    return true;\n}\nvar TreeIndex = (function () {\n    function TreeIndex() {\n        this.reset();\n    }\n    TreeIndex.prototype.add = function (mutation) {\n        var parentTreeNode = this.indexes.get(mutation.parentId);\n        var treeNode = {\n            id: mutation.node.id,\n            mutation: mutation,\n            children: [],\n            texts: [],\n            attributes: [],\n        };\n        if (!parentTreeNode) {\n            this.tree[treeNode.id] = treeNode;\n        }\n        else {\n            treeNode.parent = parentTreeNode;\n            parentTreeNode.children[treeNode.id] = treeNode;\n        }\n        this.indexes.set(treeNode.id, treeNode);\n    };\n    TreeIndex.prototype.remove = function (mutation) {\n        var _this = this;\n        var parentTreeNode = this.indexes.get(mutation.parentId);\n        var treeNode = this.indexes.get(mutation.id);\n        var deepRemoveFromMirror = function (id) {\n            _this.removeIdSet.add(id);\n            var node = mirror.getNode(id);\n            node === null || node === void 0 ? void 0 : node.childNodes.forEach(function (childNode) {\n                if ('__sn' in childNode) {\n                    deepRemoveFromMirror(childNode.__sn.id);\n                }\n            });\n        };\n        var deepRemoveFromTreeIndex = function (node) {\n            _this.removeIdSet.add(node.id);\n            Object.values(node.children).forEach(function (n) { return deepRemoveFromTreeIndex(n); });\n            var _treeNode = _this.indexes.get(node.id);\n            if (_treeNode) {\n                var _parentTreeNode = _treeNode.parent;\n                if (_parentTreeNode) {\n                    delete _treeNode.parent;\n                    delete _parentTreeNode.children[_treeNode.id];\n                    _this.indexes.delete(mutation.id);\n                }\n            }\n        };\n        if (!treeNode) {\n            this.removeNodeMutations.push(mutation);\n            deepRemoveFromMirror(mutation.id);\n        }\n        else if (!parentTreeNode) {\n            delete this.tree[treeNode.id];\n            this.indexes.delete(treeNode.id);\n            deepRemoveFromTreeIndex(treeNode);\n        }\n        else {\n            delete treeNode.parent;\n            delete parentTreeNode.children[treeNode.id];\n            this.indexes.delete(mutation.id);\n            deepRemoveFromTreeIndex(treeNode);\n        }\n    };\n    TreeIndex.prototype.text = function (mutation) {\n        var treeNode = this.indexes.get(mutation.id);\n        if (treeNode) {\n            treeNode.texts.push(mutation);\n        }\n        else {\n            this.textMutations.push(mutation);\n        }\n    };\n    TreeIndex.prototype.attribute = function (mutation) {\n        var treeNode = this.indexes.get(mutation.id);\n        if (treeNode) {\n            treeNode.attributes.push(mutation);\n        }\n        else {\n            this.attributeMutations.push(mutation);\n        }\n    };\n    TreeIndex.prototype.scroll = function (d) {\n        this.scrollMap.set(d.id, d);\n    };\n    TreeIndex.prototype.input = function (d) {\n        this.inputMap.set(d.id, d);\n    };\n    TreeIndex.prototype.flush = function () {\n        var e_1, _a, e_2, _b;\n        var _this = this;\n        var _c = this, tree = _c.tree, removeNodeMutations = _c.removeNodeMutations, textMutations = _c.textMutations, attributeMutations = _c.attributeMutations;\n        var batchMutationData = {\n            source: IncrementalSource.Mutation,\n            removes: removeNodeMutations,\n            texts: textMutations,\n            attributes: attributeMutations,\n            adds: [],\n        };\n        var walk = function (treeNode, removed) {\n            if (removed) {\n                _this.removeIdSet.add(treeNode.id);\n            }\n            batchMutationData.texts = batchMutationData.texts\n                .concat(removed ? [] : treeNode.texts)\n                .filter(function (m) { return !_this.removeIdSet.has(m.id); });\n            batchMutationData.attributes = batchMutationData.attributes\n                .concat(removed ? [] : treeNode.attributes)\n                .filter(function (m) { return !_this.removeIdSet.has(m.id); });\n            if (!_this.removeIdSet.has(treeNode.id) &&\n                !_this.removeIdSet.has(treeNode.mutation.parentId) &&\n                !removed) {\n                batchMutationData.adds.push(treeNode.mutation);\n                if (treeNode.children) {\n                    Object.values(treeNode.children).forEach(function (n) { return walk(n, false); });\n                }\n            }\n            else {\n                Object.values(treeNode.children).forEach(function (n) { return walk(n, true); });\n            }\n        };\n        Object.values(tree).forEach(function (n) { return walk(n, false); });\n        try {\n            for (var _d = __values(this.scrollMap.keys()), _e = _d.next(); !_e.done; _e = _d.next()) {\n                var id = _e.value;\n                if (this.removeIdSet.has(id)) {\n                    this.scrollMap.delete(id);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        try {\n            for (var _f = __values(this.inputMap.keys()), _g = _f.next(); !_g.done; _g = _f.next()) {\n                var id = _g.value;\n                if (this.removeIdSet.has(id)) {\n                    this.inputMap.delete(id);\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_g && !_g.done && (_b = _f.return)) _b.call(_f);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        var scrollMap = new Map(this.scrollMap);\n        var inputMap = new Map(this.inputMap);\n        this.reset();\n        return {\n            mutationData: batchMutationData,\n            scrollMap: scrollMap,\n            inputMap: inputMap,\n        };\n    };\n    TreeIndex.prototype.reset = function () {\n        this.tree = [];\n        this.indexes = new Map();\n        this.removeNodeMutations = [];\n        this.textMutations = [];\n        this.attributeMutations = [];\n        this.removeIdSet = new Set();\n        this.scrollMap = new Map();\n        this.inputMap = new Map();\n    };\n    return TreeIndex;\n}());\nfunction queueToResolveTrees(queue) {\n    var e_3, _a;\n    var queueNodeMap = {};\n    var putIntoMap = function (m, parent) {\n        var nodeInTree = {\n            value: m,\n            parent: parent,\n            children: [],\n        };\n        queueNodeMap[m.node.id] = nodeInTree;\n        return nodeInTree;\n    };\n    var queueNodeTrees = [];\n    try {\n        for (var queue_1 = __values(queue), queue_1_1 = queue_1.next(); !queue_1_1.done; queue_1_1 = queue_1.next()) {\n            var mutation = queue_1_1.value;\n            var nextId = mutation.nextId, parentId = mutation.parentId;\n            if (nextId && nextId in queueNodeMap) {\n                var nextInTree = queueNodeMap[nextId];\n                if (nextInTree.parent) {\n                    var idx = nextInTree.parent.children.indexOf(nextInTree);\n                    nextInTree.parent.children.splice(idx, 0, putIntoMap(mutation, nextInTree.parent));\n                }\n                else {\n                    var idx = queueNodeTrees.indexOf(nextInTree);\n                    queueNodeTrees.splice(idx, 0, putIntoMap(mutation, null));\n                }\n                continue;\n            }\n            if (parentId in queueNodeMap) {\n                var parentInTree = queueNodeMap[parentId];\n                parentInTree.children.push(putIntoMap(mutation, parentInTree));\n                continue;\n            }\n            queueNodeTrees.push(putIntoMap(mutation, null));\n        }\n    }\n    catch (e_3_1) { e_3 = { error: e_3_1 }; }\n    finally {\n        try {\n            if (queue_1_1 && !queue_1_1.done && (_a = queue_1.return)) _a.call(queue_1);\n        }\n        finally { if (e_3) throw e_3.error; }\n    }\n    return queueNodeTrees;\n}\nfunction iterateResolveTree(tree, cb) {\n    cb(tree.value);\n    for (var i = tree.children.length - 1; i >= 0; i--) {\n        iterateResolveTree(tree.children[i], cb);\n    }\n}\n\nexport { TreeIndex, getWindowHeight, getWindowWidth, hookSetter, isAncestorRemoved, isBlocked, isIgnored, isTouchEvent, iterateResolveTree, mirror, needCastInSyncMode, on, patch, polyfill, queueToResolveTrees, throttle };\n","import { __values } from '../../node_modules/tslib/tslib.es6.js';\nimport { transformAttribute, IGNORED_NODE, serializeNodeWithId } from '../../node_modules/rrweb-snapshot/es/rrweb-snapshot.js';\nimport { mirror, isIgnored, isBlocked, isAncestorRemoved } from '../utils.js';\n\nfunction isNodeInLinkedList(n) {\n    return '__ln' in n;\n}\nvar DoubleLinkedList = (function () {\n    function DoubleLinkedList() {\n        this.length = 0;\n        this.head = null;\n    }\n    DoubleLinkedList.prototype.get = function (position) {\n        if (position >= this.length) {\n            throw new Error('Position outside of list range');\n        }\n        var current = this.head;\n        for (var index = 0; index < position; index++) {\n            current = (current === null || current === void 0 ? void 0 : current.next) || null;\n        }\n        return current;\n    };\n    DoubleLinkedList.prototype.addNode = function (n) {\n        var node = {\n            value: n,\n            previous: null,\n            next: null,\n        };\n        n.__ln = node;\n        if (n.previousSibling && isNodeInLinkedList(n.previousSibling)) {\n            var current = n.previousSibling.__ln.next;\n            node.next = current;\n            node.previous = n.previousSibling.__ln;\n            n.previousSibling.__ln.next = node;\n            if (current) {\n                current.previous = node;\n            }\n        }\n        else if (n.nextSibling && isNodeInLinkedList(n.nextSibling)) {\n            var current = n.nextSibling.__ln.previous;\n            node.previous = current;\n            node.next = n.nextSibling.__ln;\n            n.nextSibling.__ln.previous = node;\n            if (current) {\n                current.next = node;\n            }\n        }\n        else {\n            if (this.head) {\n                this.head.previous = node;\n            }\n            node.next = this.head;\n            this.head = node;\n        }\n        this.length++;\n    };\n    DoubleLinkedList.prototype.removeNode = function (n) {\n        var current = n.__ln;\n        if (!this.head) {\n            return;\n        }\n        if (!current.previous) {\n            this.head = current.next;\n            if (this.head) {\n                this.head.previous = null;\n            }\n        }\n        else {\n            current.previous.next = current.next;\n            if (current.next) {\n                current.next.previous = current.previous;\n            }\n        }\n        if (n.__ln) {\n            delete n.__ln;\n        }\n        this.length--;\n    };\n    return DoubleLinkedList;\n}());\nvar moveKey = function (id, parentId) { return id + \"@\" + parentId; };\nfunction isINode(n) {\n    return '__sn' in n;\n}\nvar MutationBuffer = (function () {\n    function MutationBuffer() {\n        var _this = this;\n        this.frozen = false;\n        this.texts = [];\n        this.attributes = [];\n        this.removes = [];\n        this.mapRemoves = [];\n        this.movedMap = {};\n        this.addedSet = new Set();\n        this.movedSet = new Set();\n        this.droppedSet = new Set();\n        this.processMutations = function (mutations) {\n            mutations.forEach(_this.processMutation);\n            if (!_this.frozen) {\n                _this.emit();\n            }\n        };\n        this.emit = function () {\n            var e_1, _a, e_2, _b;\n            var adds = [];\n            var addList = new DoubleLinkedList();\n            var getNextId = function (n) {\n                var ns = n;\n                var nextId = IGNORED_NODE;\n                while (nextId === IGNORED_NODE) {\n                    ns = ns && ns.nextSibling;\n                    nextId = ns && mirror.getId(ns);\n                }\n                if (nextId === -1 && isBlocked(n.nextSibling, _this.blockClass)) {\n                    nextId = null;\n                }\n                return nextId;\n            };\n            var pushAdd = function (n) {\n                if (!n.parentNode || !document.contains(n)) {\n                    return;\n                }\n                var parentId = mirror.getId(n.parentNode);\n                var nextId = getNextId(n);\n                if (parentId === -1 || nextId === -1) {\n                    return addList.addNode(n);\n                }\n                var sn = serializeNodeWithId(n, {\n                    doc: document,\n                    map: mirror.map,\n                    blockClass: _this.blockClass,\n                    blockSelector: _this.blockSelector,\n                    skipChild: true,\n                    inlineStylesheet: _this.inlineStylesheet,\n                    maskInputOptions: _this.maskInputOptions,\n                    slimDOMOptions: _this.slimDOMOptions,\n                    recordCanvas: _this.recordCanvas,\n                });\n                if (sn) {\n                    adds.push({\n                        parentId: parentId,\n                        nextId: nextId,\n                        node: sn,\n                    });\n                }\n            };\n            while (_this.mapRemoves.length) {\n                mirror.removeNodeFromMap(_this.mapRemoves.shift());\n            }\n            try {\n                for (var _c = __values(_this.movedSet), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var n = _d.value;\n                    if (isParentRemoved(_this.removes, n) &&\n                        !_this.movedSet.has(n.parentNode)) {\n                        continue;\n                    }\n                    pushAdd(n);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            try {\n                for (var _e = __values(_this.addedSet), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var n = _f.value;\n                    if (!isAncestorInSet(_this.droppedSet, n) &&\n                        !isParentRemoved(_this.removes, n)) {\n                        pushAdd(n);\n                    }\n                    else if (isAncestorInSet(_this.movedSet, n)) {\n                        pushAdd(n);\n                    }\n                    else {\n                        _this.droppedSet.add(n);\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            var candidate = null;\n            while (addList.length) {\n                var node = null;\n                if (candidate) {\n                    var parentId = mirror.getId(candidate.value.parentNode);\n                    var nextId = getNextId(candidate.value);\n                    if (parentId !== -1 && nextId !== -1) {\n                        node = candidate;\n                    }\n                }\n                if (!node) {\n                    for (var index = addList.length - 1; index >= 0; index--) {\n                        var _node = addList.get(index);\n                        var parentId = mirror.getId(_node.value.parentNode);\n                        var nextId = getNextId(_node.value);\n                        if (parentId !== -1 && nextId !== -1) {\n                            node = _node;\n                            break;\n                        }\n                    }\n                }\n                if (!node) {\n                    while (addList.head) {\n                        addList.removeNode(addList.head.value);\n                    }\n                    break;\n                }\n                candidate = node.previous;\n                addList.removeNode(node.value);\n                pushAdd(node.value);\n            }\n            var payload = {\n                texts: _this.texts\n                    .map(function (text) { return ({\n                    id: mirror.getId(text.node),\n                    value: text.value,\n                }); })\n                    .filter(function (text) { return mirror.has(text.id); }),\n                attributes: _this.attributes\n                    .map(function (attribute) { return ({\n                    id: mirror.getId(attribute.node),\n                    attributes: attribute.attributes,\n                }); })\n                    .filter(function (attribute) { return mirror.has(attribute.id); }),\n                removes: _this.removes,\n                adds: adds,\n            };\n            if (!payload.texts.length &&\n                !payload.attributes.length &&\n                !payload.removes.length &&\n                !payload.adds.length) {\n                return;\n            }\n            _this.texts = [];\n            _this.attributes = [];\n            _this.removes = [];\n            _this.addedSet = new Set();\n            _this.movedSet = new Set();\n            _this.droppedSet = new Set();\n            _this.movedMap = {};\n            _this.emissionCallback(payload);\n        };\n        this.processMutation = function (m) {\n            if (isIgnored(m.target)) {\n                return;\n            }\n            switch (m.type) {\n                case 'characterData': {\n                    var value = m.target.textContent;\n                    if (!isBlocked(m.target, _this.blockClass) && value !== m.oldValue) {\n                        _this.texts.push({\n                            value: value,\n                            node: m.target,\n                        });\n                    }\n                    break;\n                }\n                case 'attributes': {\n                    var value = m.target.getAttribute(m.attributeName);\n                    if (isBlocked(m.target, _this.blockClass) || value === m.oldValue) {\n                        return;\n                    }\n                    var item = _this.attributes.find(function (a) { return a.node === m.target; });\n                    if (!item) {\n                        item = {\n                            node: m.target,\n                            attributes: {},\n                        };\n                        _this.attributes.push(item);\n                    }\n                    item.attributes[m.attributeName] = transformAttribute(document, m.attributeName, value);\n                    break;\n                }\n                case 'childList': {\n                    m.addedNodes.forEach(function (n) { return _this.genAdds(n, m.target); });\n                    m.removedNodes.forEach(function (n) {\n                        var nodeId = mirror.getId(n);\n                        var parentId = mirror.getId(m.target);\n                        if (isBlocked(n, _this.blockClass) ||\n                            isBlocked(m.target, _this.blockClass) ||\n                            isIgnored(n)) {\n                            return;\n                        }\n                        if (_this.addedSet.has(n)) {\n                            deepDelete(_this.addedSet, n);\n                            _this.droppedSet.add(n);\n                        }\n                        else if (_this.addedSet.has(m.target) && nodeId === -1) ;\n                        else if (isAncestorRemoved(m.target)) ;\n                        else if (_this.movedSet.has(n) &&\n                            _this.movedMap[moveKey(nodeId, parentId)]) {\n                            deepDelete(_this.movedSet, n);\n                        }\n                        else {\n                            _this.removes.push({\n                                parentId: parentId,\n                                id: nodeId,\n                            });\n                        }\n                        _this.mapRemoves.push(n);\n                    });\n                    break;\n                }\n            }\n        };\n        this.genAdds = function (n, target) {\n            if (isBlocked(n, _this.blockClass)) {\n                return;\n            }\n            if (target && isBlocked(target, _this.blockClass)) {\n                return;\n            }\n            if (isINode(n)) {\n                if (isIgnored(n)) {\n                    return;\n                }\n                _this.movedSet.add(n);\n                var targetId = null;\n                if (target && isINode(target)) {\n                    targetId = target.__sn.id;\n                }\n                if (targetId) {\n                    _this.movedMap[moveKey(n.__sn.id, targetId)] = true;\n                }\n            }\n            else {\n                _this.addedSet.add(n);\n                _this.droppedSet.delete(n);\n            }\n            n.childNodes.forEach(function (childN) { return _this.genAdds(childN); });\n        };\n    }\n    MutationBuffer.prototype.init = function (cb, blockClass, blockSelector, inlineStylesheet, maskInputOptions, recordCanvas, slimDOMOptions) {\n        this.blockClass = blockClass;\n        this.blockSelector = blockSelector;\n        this.inlineStylesheet = inlineStylesheet;\n        this.maskInputOptions = maskInputOptions;\n        this.recordCanvas = recordCanvas;\n        this.slimDOMOptions = slimDOMOptions;\n        this.emissionCallback = cb;\n    };\n    MutationBuffer.prototype.freeze = function () {\n        this.frozen = true;\n    };\n    MutationBuffer.prototype.unfreeze = function () {\n        this.frozen = false;\n    };\n    MutationBuffer.prototype.isFrozen = function () {\n        return this.frozen;\n    };\n    return MutationBuffer;\n}());\nfunction deepDelete(addsSet, n) {\n    addsSet.delete(n);\n    n.childNodes.forEach(function (childN) { return deepDelete(addsSet, childN); });\n}\nfunction isParentRemoved(removes, n) {\n    var parentNode = n.parentNode;\n    if (!parentNode) {\n        return false;\n    }\n    var parentId = mirror.getId(parentNode);\n    if (removes.some(function (r) { return r.id === parentId; })) {\n        return true;\n    }\n    return isParentRemoved(removes, parentNode);\n}\nfunction isAncestorInSet(set, n) {\n    var parentNode = n.parentNode;\n    if (!parentNode) {\n        return false;\n    }\n    if (set.has(parentNode)) {\n        return true;\n    }\n    return isAncestorInSet(set, parentNode);\n}\n\nexport default MutationBuffer;\n","function pathToSelector(node) {\n    if (!node || !node.outerHTML) {\n        return '';\n    }\n    var path = '';\n    while (node.parentElement) {\n        var name = node.localName;\n        if (!name)\n            break;\n        name = name.toLowerCase();\n        var parent = node.parentElement;\n        var domSiblings = [];\n        if (parent.children && parent.children.length > 0) {\n            for (var i = 0; i < parent.children.length; i++) {\n                var sibling = parent.children[i];\n                if (sibling.localName && sibling.localName.toLowerCase) {\n                    if (sibling.localName.toLowerCase() === name) {\n                        domSiblings.push(sibling);\n                    }\n                }\n            }\n        }\n        if (domSiblings.length > 1) {\n            name += ':eq(' + domSiblings.indexOf(node) + ')';\n        }\n        path = name + (path ? '>' + path : '');\n        node = parent;\n    }\n    return path;\n}\nfunction stringify(obj, stringifyOptions) {\n    var options = {\n        numOfKeysLimit: 50,\n    };\n    Object.assign(options, stringifyOptions);\n    var stack = [], keys = [];\n    return JSON.stringify(obj, function (key, value) {\n        if (stack.length > 0) {\n            var thisPos = stack.indexOf(this);\n            ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\n            ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\n            if (~stack.indexOf(value)) {\n                if (stack[0] === value)\n                    value = '[Circular ~]';\n                else\n                    value =\n                        '[Circular ~.' +\n                            keys.slice(0, stack.indexOf(value)).join('.') +\n                            ']';\n            }\n        }\n        else\n            stack.push(value);\n        if (value === null || value === undefined)\n            return value;\n        if (shouldToString(value)) {\n            return toString(value);\n        }\n        if (value instanceof Event) {\n            var eventResult = {};\n            for (var key_1 in value) {\n                var eventValue = value[key_1];\n                if (Array.isArray(eventValue))\n                    eventResult[key_1] = pathToSelector(eventValue.length ? eventValue[0] : null);\n                else\n                    eventResult[key_1] = eventValue;\n            }\n            return eventResult;\n        }\n        else if (value instanceof Node) {\n            if (value instanceof HTMLElement)\n                return value ? value.outerHTML : '';\n            return value.nodeName;\n        }\n        return value;\n    });\n    function shouldToString(obj) {\n        if (typeof obj === 'object' &&\n            Object.keys(obj).length > options.numOfKeysLimit)\n            return true;\n        if (typeof obj === 'function')\n            return true;\n        return false;\n    }\n    function toString(obj) {\n        var str = obj.toString();\n        if (options.stringLengthLimit && str.length > options.stringLengthLimit) {\n            str = str.slice(0, options.stringLengthLimit) + \"...\";\n        }\n        return str;\n    }\n}\n\nexport { stringify };\n","import { __spread, __values, __assign } from '../../node_modules/tslib/tslib.es6.js';\nimport { IncrementalSource, MouseInteractions, MediaInteractions } from '../types.js';\nimport { on, throttle, isTouchEvent, mirror, isBlocked, getWindowHeight, getWindowWidth, hookSetter, patch } from '../utils.js';\nimport MutationBuffer from './mutation.js';\nimport { stringify } from './stringify.js';\n\nvar mutationBuffer = new MutationBuffer();\nfunction initMutationObserver(cb, blockClass, blockSelector, inlineStylesheet, maskInputOptions, recordCanvas, slimDOMOptions) {\n    mutationBuffer.init(cb, blockClass, blockSelector, inlineStylesheet, maskInputOptions, recordCanvas, slimDOMOptions);\n    var observer = new MutationObserver(mutationBuffer.processMutations.bind(mutationBuffer));\n    observer.observe(document, {\n        attributes: true,\n        attributeOldValue: true,\n        characterData: true,\n        characterDataOldValue: true,\n        childList: true,\n        subtree: true,\n    });\n    return observer;\n}\nfunction initMoveObserver(cb, sampling) {\n    if (sampling.mousemove === false) {\n        return function () { };\n    }\n    var threshold = typeof sampling.mousemove === 'number' ? sampling.mousemove : 50;\n    var positions = [];\n    var timeBaseline;\n    var wrappedCb = throttle(function (isTouch) {\n        var totalOffset = Date.now() - timeBaseline;\n        cb(positions.map(function (p) {\n            p.timeOffset -= totalOffset;\n            return p;\n        }), isTouch ? IncrementalSource.TouchMove : IncrementalSource.MouseMove);\n        positions = [];\n        timeBaseline = null;\n    }, 500);\n    var updatePosition = throttle(function (evt) {\n        var target = evt.target;\n        var _a = isTouchEvent(evt)\n            ? evt.changedTouches[0]\n            : evt, clientX = _a.clientX, clientY = _a.clientY;\n        if (!timeBaseline) {\n            timeBaseline = Date.now();\n        }\n        positions.push({\n            x: clientX,\n            y: clientY,\n            id: mirror.getId(target),\n            timeOffset: Date.now() - timeBaseline,\n        });\n        wrappedCb(isTouchEvent(evt));\n    }, threshold, {\n        trailing: false,\n    });\n    var handlers = [\n        on('mousemove', updatePosition),\n        on('touchmove', updatePosition),\n    ];\n    return function () {\n        handlers.forEach(function (h) { return h(); });\n    };\n}\nfunction initMouseInteractionObserver(cb, blockClass, sampling) {\n    if (sampling.mouseInteraction === false) {\n        return function () { };\n    }\n    var disableMap = sampling.mouseInteraction === true ||\n        sampling.mouseInteraction === undefined\n        ? {}\n        : sampling.mouseInteraction;\n    var handlers = [];\n    var getHandler = function (eventKey) {\n        return function (event) {\n            if (isBlocked(event.target, blockClass)) {\n                return;\n            }\n            var id = mirror.getId(event.target);\n            var _a = isTouchEvent(event)\n                ? event.changedTouches[0]\n                : event, clientX = _a.clientX, clientY = _a.clientY;\n            cb({\n                type: MouseInteractions[eventKey],\n                id: id,\n                x: clientX,\n                y: clientY,\n            });\n        };\n    };\n    Object.keys(MouseInteractions)\n        .filter(function (key) {\n        return Number.isNaN(Number(key)) &&\n            !key.endsWith('_Departed') &&\n            disableMap[key] !== false;\n    })\n        .forEach(function (eventKey) {\n        var eventName = eventKey.toLowerCase();\n        var handler = getHandler(eventKey);\n        handlers.push(on(eventName, handler));\n    });\n    return function () {\n        handlers.forEach(function (h) { return h(); });\n    };\n}\nfunction initScrollObserver(cb, blockClass, sampling) {\n    var updatePosition = throttle(function (evt) {\n        if (!evt.target || isBlocked(evt.target, blockClass)) {\n            return;\n        }\n        var id = mirror.getId(evt.target);\n        if (evt.target === document) {\n            var scrollEl = (document.scrollingElement || document.documentElement);\n            cb({\n                id: id,\n                x: scrollEl.scrollLeft,\n                y: scrollEl.scrollTop,\n            });\n        }\n        else {\n            cb({\n                id: id,\n                x: evt.target.scrollLeft,\n                y: evt.target.scrollTop,\n            });\n        }\n    }, sampling.scroll || 100);\n    return on('scroll', updatePosition);\n}\nfunction initViewportResizeObserver(cb) {\n    var last_h = -1;\n    var last_w = -1;\n    var updateDimension = throttle(function () {\n        var height = getWindowHeight();\n        var width = getWindowWidth();\n        if (last_h !== height || last_w != width) {\n            cb({\n                width: Number(width),\n                height: Number(height),\n            });\n            last_h = height;\n            last_w = width;\n        }\n    }, 200);\n    return on('resize', updateDimension, window);\n}\nvar INPUT_TAGS = ['INPUT', 'TEXTAREA', 'SELECT'];\nvar lastInputValueMap = new WeakMap();\nfunction initInputObserver(cb, blockClass, ignoreClass, maskInputOptions, maskInputFn, sampling) {\n    function eventHandler(event) {\n        var target = event.target;\n        if (!target ||\n            !target.tagName ||\n            INPUT_TAGS.indexOf(target.tagName) < 0 ||\n            isBlocked(target, blockClass)) {\n            return;\n        }\n        var type = target.type;\n        if (type === 'password' ||\n            target.classList.contains(ignoreClass)) {\n            return;\n        }\n        var text = target.value;\n        var isChecked = false;\n        if (type === 'radio' || type === 'checkbox') {\n            isChecked = target.checked;\n        }\n        else if (maskInputOptions[target.tagName.toLowerCase()] ||\n            maskInputOptions[type]) {\n            if (maskInputFn) {\n                text = maskInputFn(text);\n            }\n            else {\n                text = '*'.repeat(text.length);\n            }\n        }\n        cbWithDedup(target, { text: text, isChecked: isChecked });\n        var name = target.name;\n        if (type === 'radio' && name && isChecked) {\n            document\n                .querySelectorAll(\"input[type=\\\"radio\\\"][name=\\\"\" + name + \"\\\"]\")\n                .forEach(function (el) {\n                if (el !== target) {\n                    cbWithDedup(el, {\n                        text: el.value,\n                        isChecked: !isChecked,\n                    });\n                }\n            });\n        }\n    }\n    function cbWithDedup(target, v) {\n        var lastInputValue = lastInputValueMap.get(target);\n        if (!lastInputValue ||\n            lastInputValue.text !== v.text ||\n            lastInputValue.isChecked !== v.isChecked) {\n            lastInputValueMap.set(target, v);\n            var id = mirror.getId(target);\n            cb(__assign(__assign({}, v), { id: id }));\n        }\n    }\n    var events = sampling.input === 'last' ? ['change'] : ['input', 'change'];\n    var handlers = events.map(function (eventName) { return on(eventName, eventHandler); });\n    var propertyDescriptor = Object.getOwnPropertyDescriptor(HTMLInputElement.prototype, 'value');\n    var hookProperties = [\n        [HTMLInputElement.prototype, 'value'],\n        [HTMLInputElement.prototype, 'checked'],\n        [HTMLSelectElement.prototype, 'value'],\n        [HTMLTextAreaElement.prototype, 'value'],\n        [HTMLSelectElement.prototype, 'selectedIndex'],\n    ];\n    if (propertyDescriptor && propertyDescriptor.set) {\n        handlers.push.apply(handlers, __spread(hookProperties.map(function (p) {\n            return hookSetter(p[0], p[1], {\n                set: function () {\n                    eventHandler({ target: this });\n                },\n            });\n        })));\n    }\n    return function () {\n        handlers.forEach(function (h) { return h(); });\n    };\n}\nfunction initStyleSheetObserver(cb) {\n    var insertRule = CSSStyleSheet.prototype.insertRule;\n    CSSStyleSheet.prototype.insertRule = function (rule, index) {\n        var id = mirror.getId(this.ownerNode);\n        if (id !== -1) {\n            cb({\n                id: id,\n                adds: [{ rule: rule, index: index }],\n            });\n        }\n        return insertRule.apply(this, arguments);\n    };\n    var deleteRule = CSSStyleSheet.prototype.deleteRule;\n    CSSStyleSheet.prototype.deleteRule = function (index) {\n        var id = mirror.getId(this.ownerNode);\n        if (id !== -1) {\n            cb({\n                id: id,\n                removes: [{ index: index }],\n            });\n        }\n        return deleteRule.apply(this, arguments);\n    };\n    return function () {\n        CSSStyleSheet.prototype.insertRule = insertRule;\n        CSSStyleSheet.prototype.deleteRule = deleteRule;\n    };\n}\nfunction initMediaInteractionObserver(mediaInteractionCb, blockClass) {\n    var handler = function (type) { return function (event) {\n        var target = event.target;\n        if (!target || isBlocked(target, blockClass)) {\n            return;\n        }\n        mediaInteractionCb({\n            type: type === 'play' ? MediaInteractions.Play : MediaInteractions.Pause,\n            id: mirror.getId(target),\n        });\n    }; };\n    var handlers = [on('play', handler('play')), on('pause', handler('pause'))];\n    return function () {\n        handlers.forEach(function (h) { return h(); });\n    };\n}\nfunction initCanvasMutationObserver(cb, blockClass) {\n    var e_1, _a;\n    var props = Object.getOwnPropertyNames(CanvasRenderingContext2D.prototype);\n    var handlers = [];\n    var _loop_1 = function (prop) {\n        try {\n            if (typeof CanvasRenderingContext2D.prototype[prop] !== 'function') {\n                return \"continue\";\n            }\n            var restoreHandler = patch(CanvasRenderingContext2D.prototype, prop, function (original) {\n                return function () {\n                    var _this = this;\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    if (!isBlocked(this.canvas, blockClass)) {\n                        setTimeout(function () {\n                            var recordArgs = __spread(args);\n                            if (prop === 'drawImage') {\n                                if (recordArgs[0] &&\n                                    recordArgs[0] instanceof HTMLCanvasElement) {\n                                    recordArgs[0] = recordArgs[0].toDataURL();\n                                }\n                            }\n                            cb({\n                                id: mirror.getId(_this.canvas),\n                                property: prop,\n                                args: recordArgs,\n                            });\n                        }, 0);\n                    }\n                    return original.apply(this, args);\n                };\n            });\n            handlers.push(restoreHandler);\n        }\n        catch (_a) {\n            var hookHandler = hookSetter(CanvasRenderingContext2D.prototype, prop, {\n                set: function (v) {\n                    cb({\n                        id: mirror.getId(this.canvas),\n                        property: prop,\n                        args: [v],\n                        setter: true,\n                    });\n                },\n            });\n            handlers.push(hookHandler);\n        }\n    };\n    try {\n        for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n            var prop = props_1_1.value;\n            _loop_1(prop);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return function () {\n        handlers.forEach(function (h) { return h(); });\n    };\n}\nfunction initFontObserver(cb) {\n    var handlers = [];\n    var fontMap = new WeakMap();\n    var originalFontFace = FontFace;\n    window.FontFace = function FontFace(family, source, descriptors) {\n        var fontFace = new originalFontFace(family, source, descriptors);\n        fontMap.set(fontFace, {\n            family: family,\n            buffer: typeof source !== 'string',\n            descriptors: descriptors,\n            fontSource: typeof source === 'string'\n                ? source\n                :\n                    JSON.stringify(Array.from(new Uint8Array(source))),\n        });\n        return fontFace;\n    };\n    var restoreHandler = patch(document.fonts, 'add', function (original) {\n        return function (fontFace) {\n            setTimeout(function () {\n                var p = fontMap.get(fontFace);\n                if (p) {\n                    cb(p);\n                    fontMap.delete(fontFace);\n                }\n            }, 0);\n            return original.apply(this, [fontFace]);\n        };\n    });\n    handlers.push(function () {\n        window.FonFace = originalFontFace;\n    });\n    handlers.push(restoreHandler);\n    return function () {\n        handlers.forEach(function (h) { return h(); });\n    };\n}\nfunction initLogObserver(cb, logOptions) {\n    var e_2, _a;\n    var _this = this;\n    var logger = logOptions.logger;\n    if (!logger)\n        return function () { };\n    var logCount = 0;\n    var cancelHandlers = [];\n    if (logOptions.level.includes('error')) {\n        if (window) {\n            var originalOnError_1 = window.onerror;\n            window.onerror = function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                originalOnError_1 && originalOnError_1.apply(_this, args);\n                var stack = [];\n                if (args[args.length - 1] instanceof Error)\n                    stack = parseStack(args[args.length - 1].stack, 0);\n                var payload = [stringify(args[0], logOptions.stringifyOptions)];\n                cb({\n                    level: 'error',\n                    trace: stack,\n                    payload: payload,\n                });\n            };\n            cancelHandlers.push(function () {\n                window.onerror = originalOnError_1;\n            });\n        }\n    }\n    try {\n        for (var _b = __values(logOptions.level), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var levelType = _c.value;\n            cancelHandlers.push(replace(logger, levelType));\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return function () {\n        cancelHandlers.forEach(function (h) { return h(); });\n    };\n    function replace(logger, level) {\n        var _this = this;\n        if (!logger[level])\n            return function () { };\n        return patch(logger, level, function (original) {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                original.apply(_this, args);\n                try {\n                    var stack = parseStack(new Error().stack);\n                    var payload = args.map(function (s) {\n                        return stringify(s, logOptions.stringifyOptions);\n                    });\n                    logCount++;\n                    if (logCount < logOptions.lengthThreshold)\n                        cb({\n                            level: level,\n                            trace: stack,\n                            payload: payload,\n                        });\n                    else if (logCount === logOptions.lengthThreshold)\n                        cb({\n                            level: 'warn',\n                            trace: [],\n                            payload: [\n                                stringify('The number of log records reached the threshold.'),\n                            ],\n                        });\n                }\n                catch (error) {\n                    original.apply(void 0, __spread(['rrweb logger error:', error], args));\n                }\n            };\n        });\n    }\n    function parseStack(stack, omitDepth) {\n        if (omitDepth === void 0) { omitDepth = 1; }\n        var stacks = [];\n        if (stack) {\n            stacks = stack\n                .split('at')\n                .splice(1 + omitDepth)\n                .map(function (s) { return s.trim(); });\n        }\n        return stacks;\n    }\n}\nfunction mergeHooks(o, hooks) {\n    var mutationCb = o.mutationCb, mousemoveCb = o.mousemoveCb, mouseInteractionCb = o.mouseInteractionCb, scrollCb = o.scrollCb, viewportResizeCb = o.viewportResizeCb, inputCb = o.inputCb, mediaInteractionCb = o.mediaInteractionCb, styleSheetRuleCb = o.styleSheetRuleCb, canvasMutationCb = o.canvasMutationCb, fontCb = o.fontCb, logCb = o.logCb;\n    o.mutationCb = function () {\n        var p = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            p[_i] = arguments[_i];\n        }\n        if (hooks.mutation) {\n            hooks.mutation.apply(hooks, __spread(p));\n        }\n        mutationCb.apply(void 0, __spread(p));\n    };\n    o.mousemoveCb = function () {\n        var p = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            p[_i] = arguments[_i];\n        }\n        if (hooks.mousemove) {\n            hooks.mousemove.apply(hooks, __spread(p));\n        }\n        mousemoveCb.apply(void 0, __spread(p));\n    };\n    o.mouseInteractionCb = function () {\n        var p = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            p[_i] = arguments[_i];\n        }\n        if (hooks.mouseInteraction) {\n            hooks.mouseInteraction.apply(hooks, __spread(p));\n        }\n        mouseInteractionCb.apply(void 0, __spread(p));\n    };\n    o.scrollCb = function () {\n        var p = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            p[_i] = arguments[_i];\n        }\n        if (hooks.scroll) {\n            hooks.scroll.apply(hooks, __spread(p));\n        }\n        scrollCb.apply(void 0, __spread(p));\n    };\n    o.viewportResizeCb = function () {\n        var p = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            p[_i] = arguments[_i];\n        }\n        if (hooks.viewportResize) {\n            hooks.viewportResize.apply(hooks, __spread(p));\n        }\n        viewportResizeCb.apply(void 0, __spread(p));\n    };\n    o.inputCb = function () {\n        var p = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            p[_i] = arguments[_i];\n        }\n        if (hooks.input) {\n            hooks.input.apply(hooks, __spread(p));\n        }\n        inputCb.apply(void 0, __spread(p));\n    };\n    o.mediaInteractionCb = function () {\n        var p = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            p[_i] = arguments[_i];\n        }\n        if (hooks.mediaInteaction) {\n            hooks.mediaInteaction.apply(hooks, __spread(p));\n        }\n        mediaInteractionCb.apply(void 0, __spread(p));\n    };\n    o.styleSheetRuleCb = function () {\n        var p = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            p[_i] = arguments[_i];\n        }\n        if (hooks.styleSheetRule) {\n            hooks.styleSheetRule.apply(hooks, __spread(p));\n        }\n        styleSheetRuleCb.apply(void 0, __spread(p));\n    };\n    o.canvasMutationCb = function () {\n        var p = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            p[_i] = arguments[_i];\n        }\n        if (hooks.canvasMutation) {\n            hooks.canvasMutation.apply(hooks, __spread(p));\n        }\n        canvasMutationCb.apply(void 0, __spread(p));\n    };\n    o.fontCb = function () {\n        var p = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            p[_i] = arguments[_i];\n        }\n        if (hooks.font) {\n            hooks.font.apply(hooks, __spread(p));\n        }\n        fontCb.apply(void 0, __spread(p));\n    };\n    o.logCb = function () {\n        var p = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            p[_i] = arguments[_i];\n        }\n        if (hooks.log) {\n            hooks.log.apply(hooks, __spread(p));\n        }\n        logCb.apply(void 0, __spread(p));\n    };\n}\nfunction initObservers(o, hooks) {\n    if (hooks === void 0) { hooks = {}; }\n    mergeHooks(o, hooks);\n    var mutationObserver = initMutationObserver(o.mutationCb, o.blockClass, o.blockSelector, o.inlineStylesheet, o.maskInputOptions, o.recordCanvas, o.slimDOMOptions);\n    var mousemoveHandler = initMoveObserver(o.mousemoveCb, o.sampling);\n    var mouseInteractionHandler = initMouseInteractionObserver(o.mouseInteractionCb, o.blockClass, o.sampling);\n    var scrollHandler = initScrollObserver(o.scrollCb, o.blockClass, o.sampling);\n    var viewportResizeHandler = initViewportResizeObserver(o.viewportResizeCb);\n    var inputHandler = initInputObserver(o.inputCb, o.blockClass, o.ignoreClass, o.maskInputOptions, o.maskInputFn, o.sampling);\n    var mediaInteractionHandler = initMediaInteractionObserver(o.mediaInteractionCb, o.blockClass);\n    var styleSheetObserver = initStyleSheetObserver(o.styleSheetRuleCb);\n    var canvasMutationObserver = o.recordCanvas\n        ? initCanvasMutationObserver(o.canvasMutationCb, o.blockClass)\n        : function () { };\n    var fontObserver = o.collectFonts ? initFontObserver(o.fontCb) : function () { };\n    var logObserver = o.logOptions\n        ? initLogObserver(o.logCb, o.logOptions)\n        : function () { };\n    return function () {\n        mutationObserver.disconnect();\n        mousemoveHandler();\n        mouseInteractionHandler();\n        scrollHandler();\n        viewportResizeHandler();\n        inputHandler();\n        mediaInteractionHandler();\n        styleSheetObserver();\n        canvasMutationObserver();\n        fontObserver();\n        logObserver();\n    };\n}\n\nexport { INPUT_TAGS, initObservers, mutationBuffer };\n","import { __assign, __read } from '../../node_modules/tslib/tslib.es6.js';\nimport { snapshot } from '../../node_modules/rrweb-snapshot/es/rrweb-snapshot.js';\nimport { EventType, IncrementalSource } from '../types.js';\nimport { polyfill, on, getWindowWidth, getWindowHeight, mirror } from '../utils.js';\nimport { initObservers, mutationBuffer } from './observer.js';\n\nfunction wrapEvent(e) {\n    return __assign(__assign({}, e), { timestamp: Date.now() });\n}\nvar wrappedEmit;\nfunction record(options) {\n    if (options === void 0) { options = {}; }\n    var emit = options.emit, checkoutEveryNms = options.checkoutEveryNms, checkoutEveryNth = options.checkoutEveryNth, _a = options.blockClass, blockClass = _a === void 0 ? 'rr-block' : _a, _b = options.blockSelector, blockSelector = _b === void 0 ? null : _b, _c = options.ignoreClass, ignoreClass = _c === void 0 ? 'rr-ignore' : _c, _d = options.inlineStylesheet, inlineStylesheet = _d === void 0 ? true : _d, maskAllInputs = options.maskAllInputs, _maskInputOptions = options.maskInputOptions, _slimDOMOptions = options.slimDOMOptions, maskInputFn = options.maskInputFn, hooks = options.hooks, packFn = options.packFn, _e = options.sampling, sampling = _e === void 0 ? {} : _e, mousemoveWait = options.mousemoveWait, _f = options.recordCanvas, recordCanvas = _f === void 0 ? false : _f, _g = options.collectFonts, collectFonts = _g === void 0 ? false : _g, _h = options.recordLog, recordLog = _h === void 0 ? false : _h;\n    if (!emit) {\n        throw new Error('emit function is required');\n    }\n    if (mousemoveWait !== undefined && sampling.mousemove === undefined) {\n        sampling.mousemove = mousemoveWait;\n    }\n    var maskInputOptions = maskAllInputs === true\n        ? {\n            color: true,\n            date: true,\n            'datetime-local': true,\n            email: true,\n            month: true,\n            number: true,\n            range: true,\n            search: true,\n            tel: true,\n            text: true,\n            time: true,\n            url: true,\n            week: true,\n            textarea: true,\n            select: true,\n        }\n        : _maskInputOptions !== undefined\n            ? _maskInputOptions\n            : {};\n    var slimDOMOptions = _slimDOMOptions === true || _slimDOMOptions === 'all'\n        ? {\n            script: true,\n            comment: true,\n            headFavicon: true,\n            headWhitespace: true,\n            headMetaSocial: true,\n            headMetaRobots: true,\n            headMetaHttpEquiv: true,\n            headMetaVerification: true,\n            headMetaAuthorship: _slimDOMOptions === 'all',\n            headMetaDescKeywords: _slimDOMOptions === 'all',\n        }\n        : _slimDOMOptions\n            ? _slimDOMOptions\n            : {};\n    var defaultLogOptions = {\n        level: [\n            'assert',\n            'clear',\n            'count',\n            'countReset',\n            'debug',\n            'dir',\n            'dirxml',\n            'error',\n            'group',\n            'groupCollapsed',\n            'groupEnd',\n            'info',\n            'log',\n            'table',\n            'time',\n            'timeEnd',\n            'timeLog',\n            'trace',\n            'warn',\n        ],\n        lengthThreshold: 1000,\n        logger: console,\n    };\n    var logOptions = recordLog\n        ? recordLog === true\n            ? defaultLogOptions\n            : Object.assign({}, defaultLogOptions, recordLog)\n        : {};\n    polyfill();\n    var lastFullSnapshotEvent;\n    var incrementalSnapshotCount = 0;\n    wrappedEmit = function (e, isCheckout) {\n        if (mutationBuffer.isFrozen() &&\n            e.type !== EventType.FullSnapshot &&\n            !(e.type === EventType.IncrementalSnapshot &&\n                e.data.source === IncrementalSource.Mutation)) {\n            mutationBuffer.emit();\n            mutationBuffer.unfreeze();\n        }\n        emit((packFn ? packFn(e) : e), isCheckout);\n        if (e.type === EventType.FullSnapshot) {\n            lastFullSnapshotEvent = e;\n            incrementalSnapshotCount = 0;\n        }\n        else if (e.type === EventType.IncrementalSnapshot) {\n            incrementalSnapshotCount++;\n            var exceedCount = checkoutEveryNth && incrementalSnapshotCount >= checkoutEveryNth;\n            var exceedTime = checkoutEveryNms &&\n                e.timestamp - lastFullSnapshotEvent.timestamp > checkoutEveryNms;\n            if (exceedCount || exceedTime) {\n                takeFullSnapshot(true);\n            }\n        }\n    };\n    function takeFullSnapshot(isCheckout) {\n        var _a, _b, _c, _d;\n        if (isCheckout === void 0) { isCheckout = false; }\n        wrappedEmit(wrapEvent({\n            type: EventType.Meta,\n            data: {\n                href: window.location.href,\n                width: getWindowWidth(),\n                height: getWindowHeight(),\n            },\n        }), isCheckout);\n        var wasFrozen = mutationBuffer.isFrozen();\n        mutationBuffer.freeze();\n        var _e = __read(snapshot(document, {\n            blockClass: blockClass,\n            blockSelector: blockSelector,\n            inlineStylesheet: inlineStylesheet,\n            maskAllInputs: maskInputOptions,\n            slimDOM: slimDOMOptions,\n            recordCanvas: recordCanvas,\n        }), 2), node = _e[0], idNodeMap = _e[1];\n        if (!node) {\n            return console.warn('Failed to snapshot the document');\n        }\n        mirror.map = idNodeMap;\n        wrappedEmit(wrapEvent({\n            type: EventType.FullSnapshot,\n            data: {\n                node: node,\n                initialOffset: {\n                    left: window.pageXOffset !== undefined\n                        ? window.pageXOffset\n                        : (document === null || document === void 0 ? void 0 : document.documentElement.scrollLeft) || ((_b = (_a = document === null || document === void 0 ? void 0 : document.body) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.scrollLeft) || (document === null || document === void 0 ? void 0 : document.body.scrollLeft) ||\n                            0,\n                    top: window.pageYOffset !== undefined\n                        ? window.pageYOffset\n                        : (document === null || document === void 0 ? void 0 : document.documentElement.scrollTop) || ((_d = (_c = document === null || document === void 0 ? void 0 : document.body) === null || _c === void 0 ? void 0 : _c.parentElement) === null || _d === void 0 ? void 0 : _d.scrollTop) || (document === null || document === void 0 ? void 0 : document.body.scrollTop) ||\n                            0,\n                },\n            },\n        }));\n        if (!wasFrozen) {\n            mutationBuffer.emit();\n            mutationBuffer.unfreeze();\n        }\n    }\n    try {\n        var handlers_1 = [];\n        handlers_1.push(on('DOMContentLoaded', function () {\n            wrappedEmit(wrapEvent({\n                type: EventType.DomContentLoaded,\n                data: {},\n            }));\n        }));\n        var init_1 = function () {\n            takeFullSnapshot();\n            handlers_1.push(initObservers({\n                mutationCb: function (m) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.Mutation }, m),\n                    }));\n                },\n                mousemoveCb: function (positions, source) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: {\n                            source: source,\n                            positions: positions,\n                        },\n                    }));\n                },\n                mouseInteractionCb: function (d) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.MouseInteraction }, d),\n                    }));\n                },\n                scrollCb: function (p) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.Scroll }, p),\n                    }));\n                },\n                viewportResizeCb: function (d) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.ViewportResize }, d),\n                    }));\n                },\n                inputCb: function (v) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.Input }, v),\n                    }));\n                },\n                mediaInteractionCb: function (p) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.MediaInteraction }, p),\n                    }));\n                },\n                styleSheetRuleCb: function (r) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.StyleSheetRule }, r),\n                    }));\n                },\n                canvasMutationCb: function (p) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.CanvasMutation }, p),\n                    }));\n                },\n                fontCb: function (p) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.Font }, p),\n                    }));\n                },\n                logCb: function (p) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.Log }, p),\n                    }));\n                },\n                blockClass: blockClass,\n                blockSelector: blockSelector,\n                ignoreClass: ignoreClass,\n                maskInputOptions: maskInputOptions,\n                maskInputFn: maskInputFn,\n                inlineStylesheet: inlineStylesheet,\n                sampling: sampling,\n                recordCanvas: recordCanvas,\n                collectFonts: collectFonts,\n                slimDOMOptions: slimDOMOptions,\n                logOptions: logOptions,\n            }, hooks));\n        };\n        if (document.readyState === 'interactive' ||\n            document.readyState === 'complete') {\n            init_1();\n        }\n        else {\n            handlers_1.push(on('load', function () {\n                wrappedEmit(wrapEvent({\n                    type: EventType.Load,\n                    data: {},\n                }));\n                init_1();\n            }, window));\n        }\n        return function () {\n            handlers_1.forEach(function (h) { return h(); });\n        };\n    }\n    catch (error) {\n        console.warn(error);\n    }\n}\nrecord.addCustomEvent = function (tag, payload) {\n    if (!wrappedEmit) {\n        throw new Error('please add custom event after start recording');\n    }\n    wrappedEmit(wrapEvent({\n        type: EventType.Custom,\n        data: {\n            tag: tag,\n            payload: payload,\n        },\n    }));\n};\nrecord.freezePage = function () {\n    mutationBuffer.freeze();\n};\n\nexport default record;\n","//      \n// An event handler can take an optional event argument\n// and should not return a value\n                                          \n                                                               \n\n// An array of all currently registered event handlers for a type\n                                            \n                                                            \n// A map of event types and their corresponding event handlers.\n                        \n                                 \n                                   \n  \n\n/** Mitt: Tiny (~200b) functional event emitter / pubsub.\n *  @name mitt\n *  @returns {Mitt}\n */\nfunction mitt(all                 ) {\n\tall = all || Object.create(null);\n\n\treturn {\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n\t\t * @param  {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton: function on(type        , handler              ) {\n\t\t\t(all[type] || (all[type] = [])).push(handler);\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n\t\t * @param  {Function} handler Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff: function off(type        , handler              ) {\n\t\t\tif (all[type]) {\n\t\t\t\tall[type].splice(all[type].indexOf(handler) >>> 0, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `\"*\"` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * @param {String} type  The event type to invoke\n\t\t * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit: function emit(type        , evt     ) {\n\t\t\t(all[type] || []).slice().map(function (handler) { handler(evt); });\n\t\t\t(all['*'] || []).slice().map(function (handler) { handler(type, evt); });\n\t\t}\n\t};\n}\n\nexport default mitt;\n","function polyfill(w, d) {\n    if (w === void 0) { w = window; }\n    if (d === void 0) { d = document; }\n    if ('scrollBehavior' in d.documentElement.style &&\n        w.__forceSmoothScrollPolyfill__ !== true) {\n        return;\n    }\n    var Element = w.HTMLElement || w.Element;\n    var SCROLL_TIME = 468;\n    var original = {\n        scroll: w.scroll || w.scrollTo,\n        scrollBy: w.scrollBy,\n        elementScroll: Element.prototype.scroll || scrollElement,\n        scrollIntoView: Element.prototype.scrollIntoView,\n    };\n    var now = w.performance && w.performance.now\n        ? w.performance.now.bind(w.performance)\n        : Date.now;\n    function isMicrosoftBrowser(userAgent) {\n        var userAgentPatterns = ['MSIE ', 'Trident/', 'Edge/'];\n        return new RegExp(userAgentPatterns.join('|')).test(userAgent);\n    }\n    var ROUNDING_TOLERANCE = isMicrosoftBrowser(w.navigator.userAgent) ? 1 : 0;\n    function scrollElement(x, y) {\n        this.scrollLeft = x;\n        this.scrollTop = y;\n    }\n    function ease(k) {\n        return 0.5 * (1 - Math.cos(Math.PI * k));\n    }\n    function shouldBailOut(firstArg) {\n        if (firstArg === null ||\n            typeof firstArg !== 'object' ||\n            firstArg.behavior === undefined ||\n            firstArg.behavior === 'auto' ||\n            firstArg.behavior === 'instant') {\n            return true;\n        }\n        if (typeof firstArg === 'object' && firstArg.behavior === 'smooth') {\n            return false;\n        }\n        throw new TypeError('behavior member of ScrollOptions ' +\n            firstArg.behavior +\n            ' is not a valid value for enumeration ScrollBehavior.');\n    }\n    function hasScrollableSpace(el, axis) {\n        if (axis === 'Y') {\n            return el.clientHeight + ROUNDING_TOLERANCE < el.scrollHeight;\n        }\n        if (axis === 'X') {\n            return el.clientWidth + ROUNDING_TOLERANCE < el.scrollWidth;\n        }\n    }\n    function canOverflow(el, axis) {\n        var overflowValue = w.getComputedStyle(el, null)['overflow' + axis];\n        return overflowValue === 'auto' || overflowValue === 'scroll';\n    }\n    function isScrollable(el) {\n        var isScrollableY = hasScrollableSpace(el, 'Y') && canOverflow(el, 'Y');\n        var isScrollableX = hasScrollableSpace(el, 'X') && canOverflow(el, 'X');\n        return isScrollableY || isScrollableX;\n    }\n    function findScrollableParent(el) {\n        while (el !== d.body && isScrollable(el) === false) {\n            el = el.parentNode || el.host;\n        }\n        return el;\n    }\n    function step(context) {\n        var time = now();\n        var value;\n        var currentX;\n        var currentY;\n        var elapsed = (time - context.startTime) / SCROLL_TIME;\n        elapsed = elapsed > 1 ? 1 : elapsed;\n        value = ease(elapsed);\n        currentX = context.startX + (context.x - context.startX) * value;\n        currentY = context.startY + (context.y - context.startY) * value;\n        context.method.call(context.scrollable, currentX, currentY);\n        if (currentX !== context.x || currentY !== context.y) {\n            w.requestAnimationFrame(step.bind(w, context));\n        }\n    }\n    function smoothScroll(el, x, y) {\n        var scrollable;\n        var startX;\n        var startY;\n        var method;\n        var startTime = now();\n        if (el === d.body) {\n            scrollable = w;\n            startX = w.scrollX || w.pageXOffset;\n            startY = w.scrollY || w.pageYOffset;\n            method = original.scroll;\n        }\n        else {\n            scrollable = el;\n            startX = el.scrollLeft;\n            startY = el.scrollTop;\n            method = scrollElement;\n        }\n        step({\n            scrollable: scrollable,\n            method: method,\n            startTime: startTime,\n            startX: startX,\n            startY: startY,\n            x: x,\n            y: y,\n        });\n    }\n    w.scroll = w.scrollTo = function () {\n        if (arguments[0] === undefined) {\n            return;\n        }\n        if (shouldBailOut(arguments[0]) === true) {\n            original.scroll.call(w, arguments[0].left !== undefined\n                ? arguments[0].left\n                : typeof arguments[0] !== 'object'\n                    ? arguments[0]\n                    : w.scrollX || w.pageXOffset, arguments[0].top !== undefined\n                ? arguments[0].top\n                : arguments[1] !== undefined\n                    ? arguments[1]\n                    : w.scrollY || w.pageYOffset);\n            return;\n        }\n        smoothScroll.call(w, d.body, arguments[0].left !== undefined\n            ? ~~arguments[0].left\n            : w.scrollX || w.pageXOffset, arguments[0].top !== undefined\n            ? ~~arguments[0].top\n            : w.scrollY || w.pageYOffset);\n    };\n    w.scrollBy = function () {\n        if (arguments[0] === undefined) {\n            return;\n        }\n        if (shouldBailOut(arguments[0])) {\n            original.scrollBy.call(w, arguments[0].left !== undefined\n                ? arguments[0].left\n                : typeof arguments[0] !== 'object'\n                    ? arguments[0]\n                    : 0, arguments[0].top !== undefined\n                ? arguments[0].top\n                : arguments[1] !== undefined\n                    ? arguments[1]\n                    : 0);\n            return;\n        }\n        smoothScroll.call(w, d.body, ~~arguments[0].left + (w.scrollX || w.pageXOffset), ~~arguments[0].top + (w.scrollY || w.pageYOffset));\n    };\n    Element.prototype.scroll = Element.prototype.scrollTo = function () {\n        if (arguments[0] === undefined) {\n            return;\n        }\n        if (shouldBailOut(arguments[0]) === true) {\n            if (typeof arguments[0] === 'number' && arguments[1] === undefined) {\n                throw new SyntaxError('Value could not be converted');\n            }\n            original.elementScroll.call(this, arguments[0].left !== undefined\n                ? ~~arguments[0].left\n                : typeof arguments[0] !== 'object'\n                    ? ~~arguments[0]\n                    : this.scrollLeft, arguments[0].top !== undefined\n                ? ~~arguments[0].top\n                : arguments[1] !== undefined\n                    ? ~~arguments[1]\n                    : this.scrollTop);\n            return;\n        }\n        var left = arguments[0].left;\n        var top = arguments[0].top;\n        smoothScroll.call(this, this, typeof left === 'undefined' ? this.scrollLeft : ~~left, typeof top === 'undefined' ? this.scrollTop : ~~top);\n    };\n    Element.prototype.scrollBy = function () {\n        if (arguments[0] === undefined) {\n            return;\n        }\n        if (shouldBailOut(arguments[0]) === true) {\n            original.elementScroll.call(this, arguments[0].left !== undefined\n                ? ~~arguments[0].left + this.scrollLeft\n                : ~~arguments[0] + this.scrollLeft, arguments[0].top !== undefined\n                ? ~~arguments[0].top + this.scrollTop\n                : ~~arguments[1] + this.scrollTop);\n            return;\n        }\n        this.scroll({\n            left: ~~arguments[0].left + this.scrollLeft,\n            top: ~~arguments[0].top + this.scrollTop,\n            behavior: arguments[0].behavior,\n        });\n    };\n    Element.prototype.scrollIntoView = function () {\n        if (shouldBailOut(arguments[0]) === true) {\n            original.scrollIntoView.call(this, arguments[0] === undefined ? true : arguments[0]);\n            return;\n        }\n        var scrollableParent = findScrollableParent(this);\n        var parentRects = scrollableParent.getBoundingClientRect();\n        var clientRects = this.getBoundingClientRect();\n        if (scrollableParent !== d.body) {\n            smoothScroll.call(this, scrollableParent, scrollableParent.scrollLeft + clientRects.left - parentRects.left, scrollableParent.scrollTop + clientRects.top - parentRects.top);\n            if (w.getComputedStyle(scrollableParent).position !== 'fixed') {\n                w.scrollBy({\n                    left: parentRects.left,\n                    top: parentRects.top,\n                    behavior: 'smooth',\n                });\n            }\n        }\n        else {\n            w.scrollBy({\n                left: clientRects.left,\n                top: clientRects.top,\n                behavior: 'smooth',\n            });\n        }\n    };\n}\n\nexport { polyfill };\n","import { __spread } from '../../node_modules/tslib/tslib.es6.js';\nimport { EventType, IncrementalSource } from '../types.js';\n\nvar Timer = (function () {\n    function Timer(actions, speed) {\n        if (actions === void 0) { actions = []; }\n        this.timeOffset = 0;\n        this.raf = null;\n        this.actions = actions;\n        this.speed = speed;\n    }\n    Timer.prototype.addAction = function (action) {\n        var index = this.findActionIndex(action);\n        this.actions.splice(index, 0, action);\n    };\n    Timer.prototype.addActions = function (actions) {\n        var _a;\n        (_a = this.actions).push.apply(_a, __spread(actions));\n    };\n    Timer.prototype.start = function () {\n        this.actions.sort(function (a1, a2) { return a1.delay - a2.delay; });\n        this.timeOffset = 0;\n        var lastTimestamp = performance.now();\n        var actions = this.actions;\n        var self = this;\n        function check() {\n            var time = performance.now();\n            self.timeOffset += (time - lastTimestamp) * self.speed;\n            lastTimestamp = time;\n            while (actions.length) {\n                var action = actions[0];\n                if (self.timeOffset >= action.delay) {\n                    actions.shift();\n                    action.doAction();\n                }\n                else {\n                    break;\n                }\n            }\n            if (actions.length > 0 || self.liveMode) {\n                self.raf = requestAnimationFrame(check);\n            }\n        }\n        this.raf = requestAnimationFrame(check);\n    };\n    Timer.prototype.clear = function () {\n        if (this.raf) {\n            cancelAnimationFrame(this.raf);\n            this.raf = null;\n        }\n        this.actions.length = 0;\n    };\n    Timer.prototype.setSpeed = function (speed) {\n        this.speed = speed;\n    };\n    Timer.prototype.toggleLiveMode = function (mode) {\n        this.liveMode = mode;\n    };\n    Timer.prototype.isActive = function () {\n        return this.raf !== null;\n    };\n    Timer.prototype.findActionIndex = function (action) {\n        var start = 0;\n        var end = this.actions.length - 1;\n        while (start <= end) {\n            var mid = Math.floor((start + end) / 2);\n            if (this.actions[mid].delay < action.delay) {\n                start = mid + 1;\n            }\n            else if (this.actions[mid].delay > action.delay) {\n                end = mid - 1;\n            }\n            else {\n                return mid;\n            }\n        }\n        return start;\n    };\n    return Timer;\n}());\nfunction addDelay(event, baselineTime) {\n    if (event.type === EventType.IncrementalSnapshot &&\n        event.data.source === IncrementalSource.MouseMove) {\n        var firstOffset = event.data.positions[0].timeOffset;\n        var firstTimestamp = event.timestamp + firstOffset;\n        event.delay = firstTimestamp - baselineTime;\n        return firstTimestamp - baselineTime;\n    }\n    event.delay = event.timestamp - baselineTime;\n    return event.delay;\n}\n\nexport { Timer, addDelay };\n","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar t;!function(t){t[t.NotStarted=0]=\"NotStarted\",t[t.Running=1]=\"Running\",t[t.Stopped=2]=\"Stopped\";}(t||(t={}));var n={type:\"xstate.init\"};function e(t){return void 0===t?[]:[].concat(t)}function r(t){return {type:\"xstate.assign\",assignment:t}}function i(t,n){return \"string\"==typeof(t=\"string\"==typeof t&&n&&n[t]?n[t]:t)?{type:t}:\"function\"==typeof t?{type:t.name,exec:t}:t}function o(t){return function(n){return t===n}}function a(t){return \"string\"==typeof t?{type:t}:t}function u(t,n){return {value:t,context:n,actions:[],changed:!1,matches:o(t)}}function c(t,n){void 0===n&&(n={});var r={config:t,_options:n,initialState:{value:t.initial,actions:e(t.states[t.initial].entry).map((function(t){return i(t,n.actions)})),context:t.context,matches:o(t.initial)},transition:function(n,c){var s,f,v=\"string\"==typeof n?{value:n,context:t.context}:n,l=v.value,p=v.context,g=a(c),y=t.states[l];if(y.on){var d=e(y.on[g.type]),x=function(n){if(void 0===n)return {value:u(l,p)};var e=\"string\"==typeof n?{target:n}:n,a=e.target,c=void 0===a?l:a,s=e.actions,f=void 0===s?[]:s,v=e.cond,d=p;if((void 0===v?function(){return !0}:v)(p,g)){var x=t.states[c],m=!1,h=[].concat(y.exit,f,x.entry).filter((function(t){return t})).map((function(t){return i(t,r._options.actions)})).filter((function(t){if(\"xstate.assign\"===t.type){m=!0;var n=Object.assign({},d);return \"function\"==typeof t.assignment?n=t.assignment(d,g):Object.keys(t.assignment).forEach((function(e){n[e]=\"function\"==typeof t.assignment[e]?t.assignment[e](d,g):t.assignment[e];})),d=n,!1}return !0}));return {value:{value:c,context:d,actions:h,changed:c!==l||h.length>0||m,matches:o(c)}}}};try{for(var m=function(t){var n=\"function\"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}(d),h=m.next();!h.done;h=m.next()){var S=x(h.value);if(\"object\"==typeof S)return S.value}}catch(t){s={error:t};}finally{try{h&&!h.done&&(f=m.return)&&f.call(m);}finally{if(s)throw s.error}}}return u(l,p)}};return r}var s=function(t,n){return t.actions.forEach((function(e){var r=e.exec;return r&&r(t.context,n)}))};function f(e){var r=e.initialState,i=t.NotStarted,u=new Set,c={_machine:e,send:function(n){i===t.Running&&(r=e.transition(r,n),s(r,a(n)),u.forEach((function(t){return t(r)})));},subscribe:function(t){return u.add(t),t(r),{unsubscribe:function(){return u.delete(t)}}},start:function(a){if(a){var u=\"object\"==typeof a?a:{context:e.config.context,value:a};r={value:u.value,actions:[],context:u.context,matches:o(u.value)};}return i=t.Running,s(r,n),c},stop:function(){return i=t.Stopped,u.clear(),c},get state(){return r},get status(){return i}};return c}\n\nexport { t as InterpreterStatus, r as assign, c as createMachine, f as interpret };\n","import { __assign, __values } from '../../node_modules/tslib/tslib.es6.js';\nimport { ReplayerEvents, EventType, IncrementalSource } from '../types.js';\nimport { needCastInSyncMode } from '../utils.js';\nimport { addDelay } from './timer.js';\nimport { interpret as f, createMachine as c, assign as r } from '../../node_modules/@xstate/fsm/es/index.js';\n\nfunction discardPriorSnapshots(events, baselineTime) {\n    for (var idx = events.length - 1; idx >= 0; idx--) {\n        var event = events[idx];\n        if (event.type === EventType.Meta) {\n            if (event.timestamp <= baselineTime) {\n                return events.slice(idx);\n            }\n        }\n    }\n    return events;\n}\nfunction createPlayerService(context, _a) {\n    var getCastFn = _a.getCastFn, emitter = _a.emitter;\n    var playerMachine = c({\n        id: 'player',\n        context: context,\n        initial: 'paused',\n        states: {\n            playing: {\n                on: {\n                    PAUSE: {\n                        target: 'paused',\n                        actions: ['pause'],\n                    },\n                    CAST_EVENT: {\n                        target: 'playing',\n                        actions: 'castEvent',\n                    },\n                    END: {\n                        target: 'paused',\n                        actions: ['resetLastPlayedEvent', 'pause'],\n                    },\n                    ADD_EVENT: {\n                        target: 'playing',\n                        actions: ['addEvent'],\n                    },\n                },\n            },\n            paused: {\n                on: {\n                    PLAY: {\n                        target: 'playing',\n                        actions: ['recordTimeOffset', 'play'],\n                    },\n                    CAST_EVENT: {\n                        target: 'paused',\n                        actions: 'castEvent',\n                    },\n                    TO_LIVE: {\n                        target: 'live',\n                        actions: ['startLive'],\n                    },\n                    ADD_EVENT: {\n                        target: 'paused',\n                        actions: ['addEvent'],\n                    },\n                },\n            },\n            live: {\n                on: {\n                    ADD_EVENT: {\n                        target: 'live',\n                        actions: ['addEvent'],\n                    },\n                    CAST_EVENT: {\n                        target: 'live',\n                        actions: ['castEvent'],\n                    },\n                },\n            },\n        },\n    }, {\n        actions: {\n            castEvent: r({\n                lastPlayedEvent: function (ctx, event) {\n                    if (event.type === 'CAST_EVENT') {\n                        return event.payload.event;\n                    }\n                    return ctx.lastPlayedEvent;\n                },\n            }),\n            recordTimeOffset: r(function (ctx, event) {\n                var timeOffset = ctx.timeOffset;\n                if ('payload' in event && 'timeOffset' in event.payload) {\n                    timeOffset = event.payload.timeOffset;\n                }\n                return __assign(__assign({}, ctx), { timeOffset: timeOffset, baselineTime: ctx.events[0].timestamp + timeOffset });\n            }),\n            play: function (ctx) {\n                var e_1, _a, e_2, _b;\n                var _c;\n                console.warn('play');\n                var timer = ctx.timer, events = ctx.events, baselineTime = ctx.baselineTime, lastPlayedEvent = ctx.lastPlayedEvent;\n                timer.clear();\n                try {\n                    for (var events_1 = __values(events), events_1_1 = events_1.next(); !events_1_1.done; events_1_1 = events_1.next()) {\n                        var event = events_1_1.value;\n                        addDelay(event, baselineTime);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (events_1_1 && !events_1_1.done && (_a = events_1.return)) _a.call(events_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                var neededEvents = discardPriorSnapshots(events, baselineTime);\n                var actions = new Array();\n                var _loop_1 = function (event) {\n                    var lastPlayedTimestamp = lastPlayedEvent === null || lastPlayedEvent === void 0 ? void 0 : lastPlayedEvent.timestamp;\n                    if ((lastPlayedEvent === null || lastPlayedEvent === void 0 ? void 0 : lastPlayedEvent.type) === EventType.IncrementalSnapshot &&\n                        lastPlayedEvent.data.source === IncrementalSource.MouseMove) {\n                        lastPlayedTimestamp =\n                            lastPlayedEvent.timestamp + ((_c = lastPlayedEvent.data.positions[0]) === null || _c === void 0 ? void 0 : _c.timeOffset);\n                    }\n                    if (lastPlayedTimestamp &&\n                        lastPlayedTimestamp < baselineTime &&\n                        (event.timestamp <= lastPlayedTimestamp ||\n                            event === lastPlayedEvent)) {\n                        return \"continue\";\n                    }\n                    var isSync = event.timestamp < baselineTime;\n                    if (isSync && !needCastInSyncMode(event)) {\n                        return \"continue\";\n                    }\n                    var castFn = getCastFn(event, isSync);\n                    if (isSync) {\n                        castFn();\n                    }\n                    else {\n                        actions.push({\n                            doAction: function () {\n                                castFn();\n                                emitter.emit(ReplayerEvents.EventCast, event);\n                            },\n                            delay: event.delay,\n                        });\n                    }\n                };\n                try {\n                    for (var neededEvents_1 = __values(neededEvents), neededEvents_1_1 = neededEvents_1.next(); !neededEvents_1_1.done; neededEvents_1_1 = neededEvents_1.next()) {\n                        var event = neededEvents_1_1.value;\n                        _loop_1(event);\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (neededEvents_1_1 && !neededEvents_1_1.done && (_b = neededEvents_1.return)) _b.call(neededEvents_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n                emitter.emit(ReplayerEvents.Flush);\n                timer.addActions(actions);\n                timer.start();\n            },\n            pause: function (ctx) {\n                ctx.timer.clear();\n            },\n            resetLastPlayedEvent: r(function (ctx) {\n                return __assign(__assign({}, ctx), { lastPlayedEvent: null });\n            }),\n            startLive: r({\n                baselineTime: function (ctx, event) {\n                    ctx.timer.toggleLiveMode(true);\n                    ctx.timer.start();\n                    if (event.type === 'TO_LIVE' && event.payload.baselineTime) {\n                        return event.payload.baselineTime;\n                    }\n                    return Date.now();\n                },\n            }),\n            addEvent: r(function (ctx, machineEvent) {\n                var baselineTime = ctx.baselineTime, timer = ctx.timer, events = ctx.events;\n                if (machineEvent.type === 'ADD_EVENT') {\n                    var event_1 = machineEvent.payload.event;\n                    addDelay(event_1, baselineTime);\n                    events.push(event_1);\n                    var isSync = event_1.timestamp < baselineTime;\n                    var castFn_1 = getCastFn(event_1, isSync);\n                    if (isSync) {\n                        castFn_1();\n                    }\n                    else {\n                        timer.addAction({\n                            doAction: function () {\n                                castFn_1();\n                                emitter.emit(ReplayerEvents.EventCast, event_1);\n                            },\n                            delay: event_1.delay,\n                        });\n                        if (!timer.isActive()) {\n                            timer.start();\n                        }\n                    }\n                }\n                return __assign(__assign({}, ctx), { events: events });\n            }),\n        },\n    });\n    return f(playerMachine);\n}\nfunction createSpeedService(context) {\n    var speedMachine = c({\n        id: 'speed',\n        context: context,\n        initial: 'normal',\n        states: {\n            normal: {\n                on: {\n                    FAST_FORWARD: {\n                        target: 'skipping',\n                        actions: ['recordSpeed', 'setSpeed'],\n                    },\n                    SET_SPEED: {\n                        target: 'normal',\n                        actions: ['setSpeed'],\n                    },\n                },\n            },\n            skipping: {\n                on: {\n                    BACK_TO_NORMAL: {\n                        target: 'normal',\n                        actions: ['restoreSpeed'],\n                    },\n                    SET_SPEED: {\n                        target: 'normal',\n                        actions: ['setSpeed'],\n                    },\n                },\n            },\n        },\n    }, {\n        actions: {\n            setSpeed: function (ctx, event) {\n                if ('payload' in event) {\n                    ctx.timer.setSpeed(event.payload.speed);\n                }\n            },\n            recordSpeed: r({\n                normalSpeed: function (ctx) { return ctx.timer.speed; },\n            }),\n            restoreSpeed: function (ctx) {\n                ctx.timer.setSpeed(ctx.normalSpeed);\n            },\n        },\n    });\n    return f(speedMachine);\n}\n\nexport { createPlayerService, createSpeedService, discardPriorSnapshots };\n","var rules = function (blockClass) { return [\n    \"iframe, .\" + blockClass + \" { background: #ccc }\",\n    'noscript { display: none !important; }',\n]; };\n\nexport default rules;\n","import { __values, __assign, __spread, __read } from '../../node_modules/tslib/tslib.es6.js';\nimport { rebuild, NodeType, buildNodeWithSN } from '../../node_modules/rrweb-snapshot/es/rrweb-snapshot.js';\nimport { ReplayerEvents, EventType, IncrementalSource, MediaInteractions, MouseInteractions } from '../types.js';\nimport { polyfill as polyfill$1, mirror, queueToResolveTrees, iterateResolveTree, TreeIndex } from '../utils.js';\nimport * as mitt_es from '../../node_modules/mitt/dist/mitt.es.js';\nimport mitt$1 from '../../node_modules/mitt/dist/mitt.es.js';\nimport { polyfill } from './smoothscroll.js';\nimport { Timer } from './timer.js';\nimport { createPlayerService, createSpeedService } from './machine.js';\nimport rules from './styles/inject-style.js';\n\nvar SKIP_TIME_THRESHOLD = 10 * 1000;\nvar SKIP_TIME_INTERVAL = 5 * 1000;\nvar mitt = mitt$1 || mitt_es;\nvar REPLAY_CONSOLE_PREFIX = '[replayer]';\nvar defaultMouseTailConfig = {\n    duration: 500,\n    lineCap: 'round',\n    lineWidth: 3,\n    strokeStyle: 'red',\n};\nvar defaultLogConfig = {\n    level: [\n        'assert',\n        'clear',\n        'count',\n        'countReset',\n        'debug',\n        'dir',\n        'dirxml',\n        'error',\n        'group',\n        'groupCollapsed',\n        'groupEnd',\n        'info',\n        'log',\n        'table',\n        'time',\n        'timeEnd',\n        'timeLog',\n        'trace',\n        'warn',\n    ],\n    replayLogger: undefined,\n};\nvar Replayer = (function () {\n    function Replayer(events, config) {\n        var _this = this;\n        this.mouseTail = null;\n        this.tailPositions = [];\n        this.emitter = mitt();\n        this.legacy_missingNodeRetryMap = {};\n        this.imageMap = new Map();\n        if (!(config === null || config === void 0 ? void 0 : config.liveMode) && events.length < 2) {\n            throw new Error('Replayer need at least 2 events.');\n        }\n        var defaultConfig = {\n            speed: 1,\n            root: document.body,\n            loadTimeout: 0,\n            skipInactive: false,\n            showWarning: true,\n            showDebug: false,\n            blockClass: 'rr-block',\n            liveMode: false,\n            insertStyleRules: [],\n            triggerFocus: true,\n            UNSAFE_replayCanvas: false,\n            pauseAnimation: true,\n            mouseTail: defaultMouseTailConfig,\n            logConfig: defaultLogConfig,\n        };\n        this.config = Object.assign({}, defaultConfig, config);\n        if (!this.config.logConfig.replayLogger)\n            this.config.logConfig.replayLogger = this.getConsoleLogger();\n        this.handleResize = this.handleResize.bind(this);\n        this.getCastFn = this.getCastFn.bind(this);\n        this.emitter.on(ReplayerEvents.Resize, this.handleResize);\n        this.setupDom();\n        this.treeIndex = new TreeIndex();\n        this.fragmentParentMap = new Map();\n        this.elementStateMap = new Map();\n        this.emitter.on(ReplayerEvents.Flush, function () {\n            var e_1, _a, e_2, _b, e_3, _c;\n            var _d = _this.treeIndex.flush(), scrollMap = _d.scrollMap, inputMap = _d.inputMap;\n            try {\n                for (var _e = __values(_this.fragmentParentMap.entries()), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var _g = __read(_f.value, 2), frag = _g[0], parent = _g[1];\n                    mirror.map[parent.__sn.id] = parent;\n                    if (parent.__sn.type === NodeType.Element &&\n                        parent.__sn.tagName === 'textarea' &&\n                        frag.textContent) {\n                        parent.value = frag.textContent;\n                    }\n                    parent.appendChild(frag);\n                    _this.restoreState(parent);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            _this.fragmentParentMap.clear();\n            _this.elementStateMap.clear();\n            try {\n                for (var _h = __values(scrollMap.values()), _j = _h.next(); !_j.done; _j = _h.next()) {\n                    var d = _j.value;\n                    _this.applyScroll(d);\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_j && !_j.done && (_b = _h.return)) _b.call(_h);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            try {\n                for (var _k = __values(inputMap.values()), _l = _k.next(); !_l.done; _l = _k.next()) {\n                    var d = _l.value;\n                    _this.applyInput(d);\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (_l && !_l.done && (_c = _k.return)) _c.call(_k);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n        });\n        var timer = new Timer([], (config === null || config === void 0 ? void 0 : config.speed) || defaultConfig.speed);\n        this.service = createPlayerService({\n            events: events.map(function (e) {\n                if (config && config.unpackFn) {\n                    return config.unpackFn(e);\n                }\n                return e;\n            }),\n            timer: timer,\n            timeOffset: 0,\n            baselineTime: 0,\n            lastPlayedEvent: null,\n        }, {\n            getCastFn: this.getCastFn,\n            emitter: this.emitter,\n        });\n        this.service.start();\n        this.service.subscribe(function (state) {\n            _this.emitter.emit(ReplayerEvents.StateChange, {\n                player: state,\n            });\n        });\n        this.speedService = createSpeedService({\n            normalSpeed: -1,\n            timer: timer,\n        });\n        this.speedService.start();\n        this.speedService.subscribe(function (state) {\n            _this.emitter.emit(ReplayerEvents.StateChange, {\n                speed: state,\n            });\n        });\n        var firstMeta = this.service.state.context.events.find(function (e) { return e.type === EventType.Meta; });\n        var firstFullsnapshot = this.service.state.context.events.find(function (e) { return e.type === EventType.FullSnapshot; });\n        if (firstMeta) {\n            var _a = firstMeta.data, width_1 = _a.width, height_1 = _a.height;\n            setTimeout(function () {\n                _this.emitter.emit(ReplayerEvents.Resize, {\n                    width: width_1,\n                    height: height_1,\n                });\n            }, 0);\n        }\n        if (firstFullsnapshot) {\n            setTimeout(function () {\n                _this.rebuildFullSnapshot(firstFullsnapshot);\n                _this.iframe.contentWindow.scrollTo(firstFullsnapshot.data.initialOffset);\n            }, 1);\n        }\n    }\n    Object.defineProperty(Replayer.prototype, \"timer\", {\n        get: function () {\n            return this.service.state.context.timer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Replayer.prototype.on = function (event, handler) {\n        this.emitter.on(event, handler);\n        return this;\n    };\n    Replayer.prototype.setConfig = function (config) {\n        var _this = this;\n        Object.keys(config).forEach(function (key) {\n            _this.config[key] = config[key];\n        });\n        if (!this.config.skipInactive) {\n            this.backToNormal();\n        }\n        if (typeof config.speed !== 'undefined') {\n            this.speedService.send({\n                type: 'SET_SPEED',\n                payload: {\n                    speed: config.speed,\n                },\n            });\n        }\n        if (typeof config.mouseTail !== 'undefined') {\n            if (config.mouseTail === false) {\n                if (this.mouseTail) {\n                    this.mouseTail.style.display = 'none';\n                }\n            }\n            else {\n                if (!this.mouseTail) {\n                    this.mouseTail = document.createElement('canvas');\n                    this.mouseTail.width = Number.parseFloat(this.iframe.width);\n                    this.mouseTail.height = Number.parseFloat(this.iframe.height);\n                    this.mouseTail.classList.add('replayer-mouse-tail');\n                    this.wrapper.insertBefore(this.mouseTail, this.iframe);\n                }\n                this.mouseTail.style.display = 'inherit';\n            }\n        }\n    };\n    Replayer.prototype.getMetaData = function () {\n        var firstEvent = this.service.state.context.events[0];\n        var lastEvent = this.service.state.context.events[this.service.state.context.events.length - 1];\n        return {\n            startTime: firstEvent.timestamp,\n            endTime: lastEvent.timestamp,\n            totalTime: lastEvent.timestamp - firstEvent.timestamp,\n        };\n    };\n    Replayer.prototype.getCurrentTime = function () {\n        return this.timer.timeOffset + this.getTimeOffset();\n    };\n    Replayer.prototype.getTimeOffset = function () {\n        var _a = this.service.state.context, baselineTime = _a.baselineTime, events = _a.events;\n        return baselineTime - events[0].timestamp;\n    };\n    Replayer.prototype.play = function (timeOffset) {\n        var _a;\n        if (timeOffset === void 0) { timeOffset = 0; }\n        if (this.service.state.matches('paused')) {\n            this.service.send({ type: 'PLAY', payload: { timeOffset: timeOffset } });\n        }\n        else {\n            this.service.send({ type: 'PAUSE' });\n            this.service.send({ type: 'PLAY', payload: { timeOffset: timeOffset } });\n        }\n        (_a = this.iframe.contentDocument) === null || _a === void 0 ? void 0 : _a.getElementsByTagName('html')[0].classList.remove('rrweb-paused');\n        this.emitter.emit(ReplayerEvents.Start);\n    };\n    Replayer.prototype.pause = function (timeOffset) {\n        var _a;\n        if (timeOffset === undefined && this.service.state.matches('playing')) {\n            this.service.send({ type: 'PAUSE' });\n        }\n        if (typeof timeOffset === 'number') {\n            this.play(timeOffset);\n            this.service.send({ type: 'PAUSE' });\n        }\n        (_a = this.iframe.contentDocument) === null || _a === void 0 ? void 0 : _a.getElementsByTagName('html')[0].classList.add('rrweb-paused');\n        this.emitter.emit(ReplayerEvents.Pause);\n    };\n    Replayer.prototype.resume = function (timeOffset) {\n        if (timeOffset === void 0) { timeOffset = 0; }\n        console.warn(\"The 'resume' will be departed in 1.0. Please use 'play' method which has the same interface.\");\n        this.play(timeOffset);\n        this.emitter.emit(ReplayerEvents.Resume);\n    };\n    Replayer.prototype.startLive = function (baselineTime) {\n        this.service.send({ type: 'TO_LIVE', payload: { baselineTime: baselineTime } });\n    };\n    Replayer.prototype.addEvent = function (rawEvent) {\n        var _this = this;\n        var event = this.config.unpackFn\n            ? this.config.unpackFn(rawEvent)\n            : rawEvent;\n        Promise.resolve().then(function () {\n            return _this.service.send({ type: 'ADD_EVENT', payload: { event: event } });\n        });\n    };\n    Replayer.prototype.enableInteract = function () {\n        this.iframe.setAttribute('scrolling', 'auto');\n        this.iframe.style.pointerEvents = 'auto';\n    };\n    Replayer.prototype.disableInteract = function () {\n        this.iframe.setAttribute('scrolling', 'no');\n        this.iframe.style.pointerEvents = 'none';\n    };\n    Replayer.prototype.setupDom = function () {\n        this.wrapper = document.createElement('div');\n        this.wrapper.classList.add('replayer-wrapper');\n        this.config.root.appendChild(this.wrapper);\n        this.mouse = document.createElement('div');\n        this.mouse.classList.add('replayer-mouse');\n        this.wrapper.appendChild(this.mouse);\n        if (this.config.mouseTail !== false) {\n            this.mouseTail = document.createElement('canvas');\n            this.mouseTail.classList.add('replayer-mouse-tail');\n            this.mouseTail.style.display = 'inherit';\n            this.wrapper.appendChild(this.mouseTail);\n        }\n        this.iframe = document.createElement('iframe');\n        var attributes = ['allow-same-origin'];\n        if (this.config.UNSAFE_replayCanvas) {\n            attributes.push('allow-scripts');\n        }\n        this.iframe.style.display = 'none';\n        this.iframe.setAttribute('sandbox', attributes.join(' '));\n        this.disableInteract();\n        this.wrapper.appendChild(this.iframe);\n        if (this.iframe.contentWindow && this.iframe.contentDocument) {\n            polyfill(this.iframe.contentWindow, this.iframe.contentDocument);\n            polyfill$1(this.iframe.contentWindow);\n        }\n    };\n    Replayer.prototype.handleResize = function (dimension) {\n        var e_4, _a;\n        this.iframe.style.display = 'inherit';\n        try {\n            for (var _b = __values([this.mouseTail, this.iframe]), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var el = _c.value;\n                if (!el) {\n                    continue;\n                }\n                el.setAttribute('width', String(dimension.width));\n                el.setAttribute('height', String(dimension.height));\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n    };\n    Replayer.prototype.getCastFn = function (event, isSync) {\n        var _this = this;\n        if (isSync === void 0) { isSync = false; }\n        var castFn;\n        switch (event.type) {\n            case EventType.DomContentLoaded:\n            case EventType.Load:\n                break;\n            case EventType.Custom:\n                castFn = function () {\n                    _this.emitter.emit(ReplayerEvents.CustomEvent, event);\n                };\n                break;\n            case EventType.Meta:\n                castFn = function () {\n                    return _this.emitter.emit(ReplayerEvents.Resize, {\n                        width: event.data.width,\n                        height: event.data.height,\n                    });\n                };\n                break;\n            case EventType.FullSnapshot:\n                castFn = function () {\n                    _this.rebuildFullSnapshot(event, isSync);\n                    _this.iframe.contentWindow.scrollTo(event.data.initialOffset);\n                };\n                break;\n            case EventType.IncrementalSnapshot:\n                castFn = function () {\n                    var e_5, _a;\n                    _this.applyIncremental(event, isSync);\n                    if (isSync) {\n                        return;\n                    }\n                    if (event === _this.nextUserInteractionEvent) {\n                        _this.nextUserInteractionEvent = null;\n                        _this.backToNormal();\n                    }\n                    if (_this.config.skipInactive && !_this.nextUserInteractionEvent) {\n                        try {\n                            for (var _b = __values(_this.service.state.context.events), _c = _b.next(); !_c.done; _c = _b.next()) {\n                                var _event = _c.value;\n                                if (_event.timestamp <= event.timestamp) {\n                                    continue;\n                                }\n                                if (_this.isUserInteraction(_event)) {\n                                    if (_event.delay - event.delay >\n                                        SKIP_TIME_THRESHOLD *\n                                            _this.speedService.state.context.timer.speed) {\n                                        _this.nextUserInteractionEvent = _event;\n                                    }\n                                    break;\n                                }\n                            }\n                        }\n                        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n                        finally {\n                            try {\n                                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                            }\n                            finally { if (e_5) throw e_5.error; }\n                        }\n                        if (_this.nextUserInteractionEvent) {\n                            var skipTime = _this.nextUserInteractionEvent.delay - event.delay;\n                            var payload = {\n                                speed: Math.min(Math.round(skipTime / SKIP_TIME_INTERVAL), 360),\n                            };\n                            _this.speedService.send({ type: 'FAST_FORWARD', payload: payload });\n                            _this.emitter.emit(ReplayerEvents.SkipStart, payload);\n                        }\n                    }\n                };\n                break;\n        }\n        var wrappedCastFn = function () {\n            if (castFn) {\n                castFn();\n            }\n            _this.service.send({ type: 'CAST_EVENT', payload: { event: event } });\n            if (event ===\n                _this.service.state.context.events[_this.service.state.context.events.length - 1]) {\n                var finish_1 = function () {\n                    _this.backToNormal();\n                    _this.service.send('END');\n                    _this.emitter.emit(ReplayerEvents.Finish);\n                };\n                if (event.type === EventType.IncrementalSnapshot &&\n                    event.data.source === IncrementalSource.MouseMove &&\n                    event.data.positions.length) {\n                    setTimeout(function () {\n                        finish_1();\n                    }, Math.max(0, -event.data.positions[0].timeOffset + 50));\n                }\n                else {\n                    finish_1();\n                }\n            }\n        };\n        return wrappedCastFn;\n    };\n    Replayer.prototype.rebuildFullSnapshot = function (event, isSync) {\n        if (isSync === void 0) { isSync = false; }\n        if (!this.iframe.contentDocument) {\n            return console.warn('Looks like your replayer has been destroyed.');\n        }\n        if (Object.keys(this.legacy_missingNodeRetryMap).length) {\n            console.warn('Found unresolved missing node map', this.legacy_missingNodeRetryMap);\n        }\n        this.legacy_missingNodeRetryMap = {};\n        mirror.map = rebuild(event.data.node, {\n            doc: this.iframe.contentDocument,\n        })[1];\n        var styleEl = document.createElement('style');\n        var _a = this.iframe.contentDocument, documentElement = _a.documentElement, head = _a.head;\n        documentElement.insertBefore(styleEl, head);\n        var injectStylesRules = rules(this.config.blockClass).concat(this.config.insertStyleRules);\n        if (this.config.pauseAnimation) {\n            injectStylesRules.push('html.rrweb-paused * { animation-play-state: paused !important; }');\n        }\n        if (!this.service.state.matches('playing')) {\n            this.iframe.contentDocument\n                .getElementsByTagName('html')[0]\n                .classList.add('rrweb-paused');\n        }\n        for (var idx = 0; idx < injectStylesRules.length; idx++) {\n            styleEl.sheet.insertRule(injectStylesRules[idx], idx);\n        }\n        this.emitter.emit(ReplayerEvents.FullsnapshotRebuilded, event);\n        if (!isSync) {\n            this.waitForStylesheetLoad();\n        }\n        if (this.config.UNSAFE_replayCanvas) {\n            this.preloadAllImages();\n        }\n    };\n    Replayer.prototype.waitForStylesheetLoad = function () {\n        var _this = this;\n        var _a;\n        var head = (_a = this.iframe.contentDocument) === null || _a === void 0 ? void 0 : _a.head;\n        if (head) {\n            var unloadSheets_1 = new Set();\n            var timer_1;\n            var beforeLoadState_1 = this.service.state;\n            var stateHandler_1 = function () {\n                beforeLoadState_1 = _this.service.state;\n            };\n            this.emitter.on(ReplayerEvents.Start, stateHandler_1);\n            this.emitter.on(ReplayerEvents.Pause, stateHandler_1);\n            var unsubscribe_1 = function () {\n                _this.emitter.off(ReplayerEvents.Start, stateHandler_1);\n                _this.emitter.off(ReplayerEvents.Pause, stateHandler_1);\n            };\n            head\n                .querySelectorAll('link[rel=\"stylesheet\"]')\n                .forEach(function (css) {\n                if (!css.sheet) {\n                    unloadSheets_1.add(css);\n                    css.addEventListener('load', function () {\n                        unloadSheets_1.delete(css);\n                        if (unloadSheets_1.size === 0 && timer_1 !== -1) {\n                            if (beforeLoadState_1.matches('playing')) {\n                                _this.play(_this.getCurrentTime());\n                            }\n                            _this.emitter.emit(ReplayerEvents.LoadStylesheetEnd);\n                            if (timer_1) {\n                                window.clearTimeout(timer_1);\n                            }\n                            unsubscribe_1();\n                        }\n                    });\n                }\n            });\n            if (unloadSheets_1.size > 0) {\n                this.service.send({ type: 'PAUSE' });\n                this.emitter.emit(ReplayerEvents.LoadStylesheetStart);\n                timer_1 = window.setTimeout(function () {\n                    if (beforeLoadState_1.matches('playing')) {\n                        _this.play(_this.getCurrentTime());\n                    }\n                    timer_1 = -1;\n                    unsubscribe_1();\n                }, this.config.loadTimeout);\n            }\n        }\n    };\n    Replayer.prototype.preloadAllImages = function () {\n        var e_6, _a;\n        var _this = this;\n        var beforeLoadState = this.service.state;\n        var stateHandler = function () {\n            beforeLoadState = _this.service.state;\n        };\n        this.emitter.on(ReplayerEvents.Start, stateHandler);\n        this.emitter.on(ReplayerEvents.Pause, stateHandler);\n        var unsubscribe = function () {\n            _this.emitter.off(ReplayerEvents.Start, stateHandler);\n            _this.emitter.off(ReplayerEvents.Pause, stateHandler);\n        };\n        var count = 0;\n        var resolved = 0;\n        try {\n            for (var _b = __values(this.service.state.context.events), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var event = _c.value;\n                if (event.type === EventType.IncrementalSnapshot &&\n                    event.data.source === IncrementalSource.CanvasMutation &&\n                    event.data.property === 'drawImage' &&\n                    typeof event.data.args[0] === 'string' &&\n                    !this.imageMap.has(event)) {\n                    count++;\n                    var image = document.createElement('img');\n                    image.src = event.data.args[0];\n                    this.imageMap.set(event, image);\n                    image.onload = function () {\n                        resolved++;\n                        if (resolved === count) {\n                            if (beforeLoadState.matches('playing')) {\n                                _this.play(_this.getCurrentTime());\n                            }\n                            unsubscribe();\n                        }\n                    };\n                }\n            }\n        }\n        catch (e_6_1) { e_6 = { error: e_6_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_6) throw e_6.error; }\n        }\n        if (count !== resolved) {\n            this.service.send({ type: 'PAUSE' });\n        }\n    };\n    Replayer.prototype.applyIncremental = function (e, isSync) {\n        var _this = this;\n        var _a, _b;\n        var d = e.data;\n        switch (d.source) {\n            case IncrementalSource.Mutation: {\n                if (isSync) {\n                    d.adds.forEach(function (m) { return _this.treeIndex.add(m); });\n                    d.texts.forEach(function (m) { return _this.treeIndex.text(m); });\n                    d.attributes.forEach(function (m) { return _this.treeIndex.attribute(m); });\n                    d.removes.forEach(function (m) { return _this.treeIndex.remove(m); });\n                }\n                this.applyMutation(d, isSync);\n                break;\n            }\n            case IncrementalSource.MouseMove:\n                if (isSync) {\n                    var lastPosition = d.positions[d.positions.length - 1];\n                    this.moveAndHover(d, lastPosition.x, lastPosition.y, lastPosition.id);\n                }\n                else {\n                    d.positions.forEach(function (p) {\n                        var action = {\n                            doAction: function () {\n                                _this.moveAndHover(d, p.x, p.y, p.id);\n                            },\n                            delay: p.timeOffset +\n                                e.timestamp -\n                                _this.service.state.context.baselineTime,\n                        };\n                        _this.timer.addAction(action);\n                    });\n                    this.timer.addAction({\n                        doAction: function () { },\n                        delay: e.delay - ((_a = d.positions[0]) === null || _a === void 0 ? void 0 : _a.timeOffset),\n                    });\n                }\n                break;\n            case IncrementalSource.MouseInteraction: {\n                if (d.id === -1) {\n                    break;\n                }\n                var event = new Event(MouseInteractions[d.type].toLowerCase());\n                var target = mirror.getNode(d.id);\n                if (!target) {\n                    return this.debugNodeNotFound(d, d.id);\n                }\n                this.emitter.emit(ReplayerEvents.MouseInteraction, {\n                    type: d.type,\n                    target: target,\n                });\n                var triggerFocus = this.config.triggerFocus;\n                switch (d.type) {\n                    case MouseInteractions.Blur:\n                        if ('blur' in target) {\n                            target.blur();\n                        }\n                        break;\n                    case MouseInteractions.Focus:\n                        if (triggerFocus && target.focus) {\n                            target.focus({\n                                preventScroll: true,\n                            });\n                        }\n                        break;\n                    case MouseInteractions.Click:\n                    case MouseInteractions.TouchStart:\n                    case MouseInteractions.TouchEnd:\n                        if (!isSync) {\n                            this.moveAndHover(d, d.x, d.y, d.id);\n                            this.mouse.classList.remove('active');\n                            void this.mouse.offsetWidth;\n                            this.mouse.classList.add('active');\n                        }\n                        break;\n                    default:\n                        target.dispatchEvent(event);\n                }\n                break;\n            }\n            case IncrementalSource.Scroll: {\n                if (d.id === -1) {\n                    break;\n                }\n                if (isSync) {\n                    this.treeIndex.scroll(d);\n                    break;\n                }\n                this.applyScroll(d);\n                break;\n            }\n            case IncrementalSource.ViewportResize:\n                this.emitter.emit(ReplayerEvents.Resize, {\n                    width: d.width,\n                    height: d.height,\n                });\n                break;\n            case IncrementalSource.Input: {\n                if (d.id === -1) {\n                    break;\n                }\n                if (isSync) {\n                    this.treeIndex.input(d);\n                    break;\n                }\n                this.applyInput(d);\n                break;\n            }\n            case IncrementalSource.MediaInteraction: {\n                var target = mirror.getNode(d.id);\n                if (!target) {\n                    return this.debugNodeNotFound(d, d.id);\n                }\n                var mediaEl_1 = target;\n                try {\n                    if (d.type === MediaInteractions.Pause) {\n                        mediaEl_1.pause();\n                    }\n                    if (d.type === MediaInteractions.Play) {\n                        if (mediaEl_1.readyState >= HTMLMediaElement.HAVE_CURRENT_DATA) {\n                            mediaEl_1.play();\n                        }\n                        else {\n                            mediaEl_1.addEventListener('canplay', function () {\n                                mediaEl_1.play();\n                            });\n                        }\n                    }\n                }\n                catch (error) {\n                    if (this.config.showWarning) {\n                        console.warn(\"Failed to replay media interactions: \" + (error.message || error));\n                    }\n                }\n                break;\n            }\n            case IncrementalSource.StyleSheetRule: {\n                var target = mirror.getNode(d.id);\n                if (!target) {\n                    return this.debugNodeNotFound(d, d.id);\n                }\n                var styleEl = target;\n                var parent = target.parentNode;\n                var usingVirtualParent = this.fragmentParentMap.has(parent);\n                var placeholderNode = void 0;\n                if (usingVirtualParent) {\n                    var domParent = this.fragmentParentMap.get(target.parentNode);\n                    placeholderNode = document.createTextNode('');\n                    parent.replaceChild(placeholderNode, target);\n                    domParent.appendChild(target);\n                }\n                var styleSheet_1 = styleEl.sheet;\n                if (d.adds) {\n                    d.adds.forEach(function (_a) {\n                        var rule = _a.rule, index = _a.index;\n                        try {\n                            var _index = index === undefined\n                                ? undefined\n                                : Math.min(index, styleSheet_1.rules.length);\n                            try {\n                                styleSheet_1.insertRule(rule, _index);\n                            }\n                            catch (e) {\n                            }\n                        }\n                        catch (e) {\n                        }\n                    });\n                }\n                if (d.removes) {\n                    d.removes.forEach(function (_a) {\n                        var index = _a.index;\n                        try {\n                            styleSheet_1.deleteRule(index);\n                        }\n                        catch (e) {\n                        }\n                    });\n                }\n                if (usingVirtualParent && placeholderNode) {\n                    parent.replaceChild(target, placeholderNode);\n                }\n                break;\n            }\n            case IncrementalSource.CanvasMutation: {\n                if (!this.config.UNSAFE_replayCanvas) {\n                    return;\n                }\n                var target = mirror.getNode(d.id);\n                if (!target) {\n                    return this.debugNodeNotFound(d, d.id);\n                }\n                try {\n                    var ctx = target.getContext('2d');\n                    if (d.setter) {\n                        ctx[d.property] = d.args[0];\n                        return;\n                    }\n                    var original = ctx[d.property];\n                    if (d.property === 'drawImage' && typeof d.args[0] === 'string') {\n                        var image = this.imageMap.get(e);\n                        d.args[0] = image;\n                        original.apply(ctx, d.args);\n                    }\n                    else {\n                        original.apply(ctx, d.args);\n                    }\n                }\n                catch (error) {\n                    this.warnCanvasMutationFailed(d, d.id, error);\n                }\n                break;\n            }\n            case IncrementalSource.Font: {\n                try {\n                    var fontFace = new FontFace(d.family, d.buffer ? new Uint8Array(JSON.parse(d.fontSource)) : d.fontSource, d.descriptors);\n                    (_b = this.iframe.contentDocument) === null || _b === void 0 ? void 0 : _b.fonts.add(fontFace);\n                }\n                catch (error) {\n                    if (this.config.showWarning) {\n                        console.warn(error);\n                    }\n                }\n                break;\n            }\n            case IncrementalSource.Log: {\n                try {\n                    var logData_1 = e.data;\n                    var replayLogger = this.config.logConfig.replayLogger;\n                    if (typeof replayLogger[logData_1.level] === 'function')\n                        replayLogger[logData_1.level](logData_1);\n                }\n                catch (error) {\n                    if (this.config.showWarning) {\n                        console.warn(error);\n                    }\n                }\n            }\n        }\n    };\n    Replayer.prototype.applyMutation = function (d, useVirtualParent) {\n        var e_7, _a;\n        var _this = this;\n        d.removes.forEach(function (mutation) {\n            var target = mirror.getNode(mutation.id);\n            if (!target) {\n                return _this.warnNodeNotFound(d, mutation.id);\n            }\n            var parent = mirror.getNode(mutation.parentId);\n            if (!parent) {\n                return _this.warnNodeNotFound(d, mutation.parentId);\n            }\n            mirror.removeNodeFromMap(target);\n            if (parent) {\n                var realParent = _this.fragmentParentMap.get(parent);\n                if (realParent && realParent.contains(target)) {\n                    realParent.removeChild(target);\n                }\n                else if (_this.fragmentParentMap.has(target)) {\n                    var realTarget = _this.fragmentParentMap.get(target);\n                    parent.removeChild(realTarget);\n                    _this.fragmentParentMap.delete(target);\n                }\n                else {\n                    parent.removeChild(target);\n                }\n            }\n        });\n        var legacy_missingNodeMap = __assign({}, this.legacy_missingNodeRetryMap);\n        var queue = [];\n        function nextNotInDOM(mutation) {\n            var next = null;\n            if (mutation.nextId) {\n                next = mirror.getNode(mutation.nextId);\n            }\n            if (mutation.nextId !== null &&\n                mutation.nextId !== undefined &&\n                mutation.nextId !== -1 &&\n                !next) {\n                return true;\n            }\n            return false;\n        }\n        var appendNode = function (mutation) {\n            if (!_this.iframe.contentDocument) {\n                return console.warn('Looks like your replayer has been destroyed.');\n            }\n            var parent = mirror.getNode(mutation.parentId);\n            if (!parent) {\n                return queue.push(mutation);\n            }\n            var parentInDocument = null;\n            if (_this.iframe.contentDocument.contains) {\n                parentInDocument = _this.iframe.contentDocument.contains(parent);\n            }\n            else if (_this.iframe.contentDocument.body.contains) {\n                parentInDocument = _this.iframe.contentDocument.body.contains(parent);\n            }\n            if (useVirtualParent && parentInDocument) {\n                var virtualParent = document.createDocumentFragment();\n                mirror.map[mutation.parentId] = virtualParent;\n                _this.fragmentParentMap.set(virtualParent, parent);\n                _this.storeState(parent);\n                while (parent.firstChild) {\n                    virtualParent.appendChild(parent.firstChild);\n                }\n                parent = virtualParent;\n            }\n            var previous = null;\n            var next = null;\n            if (mutation.previousId) {\n                previous = mirror.getNode(mutation.previousId);\n            }\n            if (mutation.nextId) {\n                next = mirror.getNode(mutation.nextId);\n            }\n            if (nextNotInDOM(mutation)) {\n                return queue.push(mutation);\n            }\n            var target = buildNodeWithSN(mutation.node, {\n                doc: _this.iframe.contentDocument,\n                map: mirror.map,\n                skipChild: true,\n                hackCss: true,\n            });\n            if (mutation.previousId === -1 || mutation.nextId === -1) {\n                legacy_missingNodeMap[mutation.node.id] = {\n                    node: target,\n                    mutation: mutation,\n                };\n                return;\n            }\n            if (previous && previous.nextSibling && previous.nextSibling.parentNode) {\n                parent.insertBefore(target, previous.nextSibling);\n            }\n            else if (next && next.parentNode) {\n                parent.contains(next)\n                    ? parent.insertBefore(target, next)\n                    : parent.insertBefore(target, null);\n            }\n            else {\n                parent.appendChild(target);\n            }\n            if (mutation.previousId || mutation.nextId) {\n                _this.legacy_resolveMissingNode(legacy_missingNodeMap, parent, target, mutation);\n            }\n        };\n        d.adds.forEach(function (mutation) {\n            appendNode(mutation);\n        });\n        var startTime = Date.now();\n        while (queue.length) {\n            var resolveTrees = queueToResolveTrees(queue);\n            queue.length = 0;\n            if (Date.now() - startTime > 500) {\n                this.warn('Timeout in the loop, please check the resolve tree data:', resolveTrees);\n                break;\n            }\n            try {\n                for (var resolveTrees_1 = (e_7 = void 0, __values(resolveTrees)), resolveTrees_1_1 = resolveTrees_1.next(); !resolveTrees_1_1.done; resolveTrees_1_1 = resolveTrees_1.next()) {\n                    var tree = resolveTrees_1_1.value;\n                    var parent = mirror.getNode(tree.value.parentId);\n                    if (!parent) {\n                        this.debug('Drop resolve tree since there is no parent for the root node.', tree);\n                    }\n                    else {\n                        iterateResolveTree(tree, function (mutation) {\n                            appendNode(mutation);\n                        });\n                    }\n                }\n            }\n            catch (e_7_1) { e_7 = { error: e_7_1 }; }\n            finally {\n                try {\n                    if (resolveTrees_1_1 && !resolveTrees_1_1.done && (_a = resolveTrees_1.return)) _a.call(resolveTrees_1);\n                }\n                finally { if (e_7) throw e_7.error; }\n            }\n        }\n        if (Object.keys(legacy_missingNodeMap).length) {\n            Object.assign(this.legacy_missingNodeRetryMap, legacy_missingNodeMap);\n        }\n        d.texts.forEach(function (mutation) {\n            var target = mirror.getNode(mutation.id);\n            if (!target) {\n                return _this.warnNodeNotFound(d, mutation.id);\n            }\n            if (_this.fragmentParentMap.has(target)) {\n                target = _this.fragmentParentMap.get(target);\n            }\n            target.textContent = mutation.value;\n        });\n        d.attributes.forEach(function (mutation) {\n            var target = mirror.getNode(mutation.id);\n            if (!target) {\n                return _this.warnNodeNotFound(d, mutation.id);\n            }\n            if (_this.fragmentParentMap.has(target)) {\n                target = _this.fragmentParentMap.get(target);\n            }\n            for (var attributeName in mutation.attributes) {\n                if (typeof attributeName === 'string') {\n                    var value = mutation.attributes[attributeName];\n                    try {\n                        if (value !== null) {\n                            target.setAttribute(attributeName, value);\n                        }\n                        else {\n                            target.removeAttribute(attributeName);\n                        }\n                    }\n                    catch (error) {\n                        if (_this.config.showWarning) {\n                            console.warn('An error occurred may due to the checkout feature.', error);\n                        }\n                    }\n                }\n            }\n        });\n    };\n    Replayer.prototype.applyScroll = function (d) {\n        var target = mirror.getNode(d.id);\n        if (!target) {\n            return this.debugNodeNotFound(d, d.id);\n        }\n        if (target === this.iframe.contentDocument) {\n            this.iframe.contentWindow.scrollTo({\n                top: d.y,\n                left: d.x,\n                behavior: 'smooth',\n            });\n        }\n        else {\n            try {\n                target.scrollTop = d.y;\n                target.scrollLeft = d.x;\n            }\n            catch (error) {\n            }\n        }\n    };\n    Replayer.prototype.applyInput = function (d) {\n        var target = mirror.getNode(d.id);\n        if (!target) {\n            return this.debugNodeNotFound(d, d.id);\n        }\n        try {\n            target.checked = d.isChecked;\n            target.value = d.text;\n        }\n        catch (error) {\n        }\n    };\n    Replayer.prototype.formatMessage = function (data) {\n        if (data.trace.length === 0)\n            return '';\n        var stackPrefix = '\\n\\tat ';\n        var result = stackPrefix;\n        result += data.trace.join(stackPrefix);\n        return result;\n    };\n    Replayer.prototype.getConsoleLogger = function () {\n        var e_8, _a;\n        var _this = this;\n        var rrwebOriginal = '__rrweb_original__';\n        var replayLogger = {};\n        var _loop_1 = function (level) {\n            if (level === 'trace')\n                replayLogger[level] = function (data) {\n                    var logger = console.log[rrwebOriginal]\n                        ? console.log[rrwebOriginal]\n                        : console.log;\n                    logger.apply(void 0, __spread(data.payload.map(function (s) { return JSON.parse(s); }), [_this.formatMessage(data)]));\n                };\n            else\n                replayLogger[level] = function (data) {\n                    var logger = console[level][rrwebOriginal]\n                        ? console[level][rrwebOriginal]\n                        : console[level];\n                    logger.apply(void 0, __spread(data.payload.map(function (s) { return JSON.parse(s); }), [_this.formatMessage(data)]));\n                };\n        };\n        try {\n            for (var _b = __values(this.config.logConfig.level), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var level = _c.value;\n                _loop_1(level);\n            }\n        }\n        catch (e_8_1) { e_8 = { error: e_8_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_8) throw e_8.error; }\n        }\n        return replayLogger;\n    };\n    Replayer.prototype.legacy_resolveMissingNode = function (map, parent, target, targetMutation) {\n        var previousId = targetMutation.previousId, nextId = targetMutation.nextId;\n        var previousInMap = previousId && map[previousId];\n        var nextInMap = nextId && map[nextId];\n        if (previousInMap) {\n            var _a = previousInMap, node = _a.node, mutation = _a.mutation;\n            parent.insertBefore(node, target);\n            delete map[mutation.node.id];\n            delete this.legacy_missingNodeRetryMap[mutation.node.id];\n            if (mutation.previousId || mutation.nextId) {\n                this.legacy_resolveMissingNode(map, parent, node, mutation);\n            }\n        }\n        if (nextInMap) {\n            var _b = nextInMap, node = _b.node, mutation = _b.mutation;\n            parent.insertBefore(node, target.nextSibling);\n            delete map[mutation.node.id];\n            delete this.legacy_missingNodeRetryMap[mutation.node.id];\n            if (mutation.previousId || mutation.nextId) {\n                this.legacy_resolveMissingNode(map, parent, node, mutation);\n            }\n        }\n    };\n    Replayer.prototype.moveAndHover = function (d, x, y, id) {\n        this.mouse.style.left = x + \"px\";\n        this.mouse.style.top = y + \"px\";\n        this.drawMouseTail({ x: x, y: y });\n        var target = mirror.getNode(id);\n        if (!target) {\n            return this.debugNodeNotFound(d, id);\n        }\n        this.hoverElements(target);\n    };\n    Replayer.prototype.drawMouseTail = function (position) {\n        var _this = this;\n        if (!this.mouseTail) {\n            return;\n        }\n        var _a = this.config.mouseTail === true\n            ? defaultMouseTailConfig\n            : Object.assign({}, defaultMouseTailConfig, this.config.mouseTail), lineCap = _a.lineCap, lineWidth = _a.lineWidth, strokeStyle = _a.strokeStyle, duration = _a.duration;\n        var draw = function () {\n            if (!_this.mouseTail) {\n                return;\n            }\n            var ctx = _this.mouseTail.getContext('2d');\n            if (!ctx || !_this.tailPositions.length) {\n                return;\n            }\n            ctx.clearRect(0, 0, _this.mouseTail.width, _this.mouseTail.height);\n            ctx.beginPath();\n            ctx.lineWidth = lineWidth;\n            ctx.lineCap = lineCap;\n            ctx.strokeStyle = strokeStyle;\n            ctx.moveTo(_this.tailPositions[0].x, _this.tailPositions[0].y);\n            _this.tailPositions.forEach(function (p) { return ctx.lineTo(p.x, p.y); });\n            ctx.stroke();\n        };\n        this.tailPositions.push(position);\n        draw();\n        setTimeout(function () {\n            _this.tailPositions = _this.tailPositions.filter(function (p) { return p !== position; });\n            draw();\n        }, duration / this.speedService.state.context.timer.speed);\n    };\n    Replayer.prototype.hoverElements = function (el) {\n        var _a;\n        (_a = this.iframe.contentDocument) === null || _a === void 0 ? void 0 : _a.querySelectorAll('.\\\\:hover').forEach(function (hoveredEl) {\n            hoveredEl.classList.remove(':hover');\n        });\n        var currentEl = el;\n        while (currentEl) {\n            if (currentEl.classList) {\n                currentEl.classList.add(':hover');\n            }\n            currentEl = currentEl.parentElement;\n        }\n    };\n    Replayer.prototype.isUserInteraction = function (event) {\n        if (event.type !== EventType.IncrementalSnapshot) {\n            return false;\n        }\n        return (event.data.source > IncrementalSource.Mutation &&\n            event.data.source <= IncrementalSource.Input);\n    };\n    Replayer.prototype.backToNormal = function () {\n        this.nextUserInteractionEvent = null;\n        if (this.speedService.state.matches('normal')) {\n            return;\n        }\n        this.speedService.send({ type: 'BACK_TO_NORMAL' });\n        this.emitter.emit(ReplayerEvents.SkipEnd, {\n            speed: this.speedService.state.context.normalSpeed,\n        });\n    };\n    Replayer.prototype.storeState = function (parent) {\n        var e_9, _a;\n        if (parent) {\n            if (parent.nodeType === parent.ELEMENT_NODE) {\n                var parentElement = parent;\n                if (parentElement.scrollLeft || parentElement.scrollTop) {\n                    this.elementStateMap.set(parent, {\n                        scroll: [parentElement.scrollLeft, parentElement.scrollTop],\n                    });\n                }\n                var children = parentElement.children;\n                try {\n                    for (var _b = __values(Array.from(children)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var child = _c.value;\n                        this.storeState(child);\n                    }\n                }\n                catch (e_9_1) { e_9 = { error: e_9_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_9) throw e_9.error; }\n                }\n            }\n        }\n    };\n    Replayer.prototype.restoreState = function (parent) {\n        var e_10, _a;\n        if (parent.nodeType === parent.ELEMENT_NODE) {\n            var parentElement = parent;\n            if (this.elementStateMap.has(parent)) {\n                var storedState = this.elementStateMap.get(parent);\n                if (storedState.scroll) {\n                    parentElement.scrollLeft = storedState.scroll[0];\n                    parentElement.scrollTop = storedState.scroll[1];\n                }\n                this.elementStateMap.delete(parent);\n            }\n            var children = parentElement.children;\n            try {\n                for (var _b = __values(Array.from(children)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var child = _c.value;\n                    this.restoreState(child);\n                }\n            }\n            catch (e_10_1) { e_10 = { error: e_10_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_10) throw e_10.error; }\n            }\n        }\n    };\n    Replayer.prototype.warnNodeNotFound = function (d, id) {\n        this.warn(\"Node with id '\" + id + \"' not found in\", d);\n    };\n    Replayer.prototype.warnCanvasMutationFailed = function (d, id, error) {\n        this.warn(\"Has error on update canvas '\" + id + \"'\", d, error);\n    };\n    Replayer.prototype.debugNodeNotFound = function (d, id) {\n        this.debug(REPLAY_CONSOLE_PREFIX, \"Node with id '\" + id + \"' not found in\", d);\n    };\n    Replayer.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this.config.showWarning) {\n            return;\n        }\n        console.warn.apply(console, __spread([REPLAY_CONSOLE_PREFIX], args));\n    };\n    Replayer.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this.config.showDebug) {\n            return;\n        }\n        console.log.apply(console, __spread([REPLAY_CONSOLE_PREFIX], args));\n    };\n    return Replayer;\n}());\n\nexport { Replayer };\n","export { EventType, IncrementalSource, MouseInteractions, ReplayerEvents } from './types.js';\nimport * as utils from './utils.js';\nexport { utils };\nexport { mirror } from './utils.js';\nimport record from './record/index.js';\nexport { default as record } from './record/index.js';\nexport { Replayer } from './replay/index.js';\n\nvar addCustomEvent = record.addCustomEvent;\nvar freezePage = record.freezePage;\n\nexport { addCustomEvent, freezePage };\n","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\n// see fleb note\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new u32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return [b, r];\n};\nvar _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b[0], revfd = _b[1];\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >>> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >>> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >>> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >>> 8) | ((x & 0x00FF) << 8)) >>> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i)\n        ++l[cd[i] - 1];\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 0; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >>> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i)\n            co[i] = rev[le[cd[i] - 1]++] >>> (15 - cd[i]);\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = hMap(flt, 9, 0), flrm = hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = hMap(fdt, 5, 0), fdrm = hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) >> 0;\n    return ((d[o] | (d[o + 1] << 8)) >>> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) >> 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >>> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p / 8) >> 0) + (p & 7 && 1); };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n    n.set(v.subarray(s, e));\n    return n;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, buf, st) {\n    // source length\n    var sl = dat.length;\n    // have to estimate size\n    var noBuf = !buf || st;\n    // no state\n    var noSt = !st || st.i;\n    if (!st)\n        st = {};\n    // Assumes roughly 33% compression ratio average\n    if (!buf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    if (final && !lm)\n        return buf;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            st.f = final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        throw 'unexpected EOF';\n                    break;\n                }\n                // ensure size\n                if (noBuf)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                if (!noSt && pos + tl * (clb + 7) > tbts)\n                    break;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >>> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                throw 'invalid block type';\n            if (pos > tbts)\n                throw 'unexpected EOF';\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // maximum chunk size (practically, theoretically infinite) is 2^17;\n        if (noBuf)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var mxa = lbt + dbt + 18;\n        while (noSt || pos + mxa < tbts) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n            pos += c & 15;\n            if (pos > tbts)\n                throw 'unexpected EOF';\n            if (!c)\n                throw 'invalid length/literal';\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n                if (!d)\n                    throw 'invalid distance';\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & ((1 << b) - 1), pos += b;\n                }\n                if (pos > tbts)\n                    throw 'unexpected EOF';\n                if (noBuf)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                for (; bt < end; bt += 4) {\n                    buf[bt] = buf[bt - dt];\n                    buf[bt + 1] = buf[bt + 1 - dt];\n                    buf[bt + 2] = buf[bt + 2 - dt];\n                    buf[bt + 3] = buf[bt + 3 - dt];\n                }\n                bt = end;\n            }\n        }\n        st.l = lm, st.p = pos, st.b = bt;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    return bt == buf.length ? buf : slc(buf, 0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) >> 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) >> 0;\n    d[o] |= v;\n    d[o + 1] |= v >>> 8;\n    d[o + 2] |= v >>> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return [new u8(0), 0];\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return [v, 1];\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return [new u8(tr), mbt];\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return [cl.subarray(0, cli), s];\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >>> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a[0], mlb = _a[1];\n    var _b = hTree(df, 15), ddt = _b[0], mdb = _b[1];\n    var _c = lc(dlt), lclt = _c[0], nlc = _c[1];\n    var _d = lc(ddt), lcdt = _d[0], ndc = _d[1];\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        lcfreq[lclt[i] & 31]++;\n    for (var i = 0; i < lcdt.length; ++i)\n        lcfreq[lcdt[i] & 31]++;\n    var _e = hTree(lcfreq, 7), lct = _e[0], mlcb = _e[1];\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n    if (flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >>> 5) & 127), p += clct[i] >>> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        if (syms[i] > 255) {\n            var len = (syms[i] >>> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (syms[i] >>> 23) & 31), p += fleb[len];\n            var dst = syms[i] & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (syms[i] >>> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, lst) {\n    var s = dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.floor(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var pos = 0;\n    if (!lvl || s < 8) {\n        for (var i = 0; i <= s; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e < s) {\n                // write full block\n                pos = wfblk(w, pos, dat.subarray(i, e));\n            }\n            else {\n                // write final block\n                w[i] = lst;\n                pos = wfblk(w, pos, dat.subarray(i, s));\n            }\n        }\n    }\n    else {\n        var opt = deo[lvl - 1];\n        var n = opt >>> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = new u16(32768), head = new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new u32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index  l/lind  waitdx  bitpos\n        var lc_1 = 0, eb = 0, i = 0, li = 0, wi = 0, bs = 0;\n        for (; i < s; ++i) {\n            // hash value\n            var hv = hsh(i);\n            // index mod 32768\n            var imod = i & 32767;\n            // previous index with this value\n            var pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && rem > 423) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = (imod - pimod) & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = (i - dif + j + 32768) & 32767;\n                                    var pti = prev[ti];\n                                    var cd = (ti - pti + 32768) & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += (imod - pimod + 32768) & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one Uint32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        // this is the easiest way to avoid needing to maintain state\n        if (!lst)\n            pos = wfblk(w, pos, et);\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = new u32(256);\nfor (var i = 0; i < 256; ++i) {\n    var c = i, k = 9;\n    while (--k)\n        c = ((c & 1) && 0xEDB88320) ^ (c >>> 1);\n    crct[i] = c;\n}\n// Alder32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 5552, l);\n                for (; i < e; ++i)\n                    n += d[i], m += n;\n                n %= 65521, m %= 65521;\n            }\n            a = n, b = m;\n        },\n        d: function () { return ((a >>> 8) << 16 | (b & 255) << 8 | (b >>> 8)) + ((a & 255) << 23) * 2; }\n    };\n};\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : (12 + opt.mem), pre, post, !st);\n};\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (fl ? (32 - 2 * fl) : 1);\n};\n// zlib valid\nvar zlv = function (d) {\n    if ((d[0] & 15) != 8 || (d[0] >>> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        throw 'invalid zlib data';\n    if (d[1] & 32)\n        throw 'invalid zlib data: preset dictionaries not supported';\n};\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nfunction zlibSync(data, opts) {\n    if (opts === void 0) { opts = {}; }\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param out Where to write the data. Saves memory if you know the decompressed size and provide an output buffer of that length.\n * @returns The decompressed version of the data\n */\nfunction unzlibSync(data, out) {\n    return inflt((zlv(data), data.subarray(2, -4)), out);\n}\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nfunction strToU8(str, latin1) {\n    var l = str.length;\n    if (!latin1 && typeof TextEncoder != 'undefined')\n        return new TextEncoder().encode(str);\n    var ar = new u8(str.length + (str.length >>> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >>> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >>> 18)), w(128 | ((c >>> 12) & 63)), w(128 | ((c >>> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >>> 12)), w(128 | ((c >>> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nfunction strFromU8(dat, latin1) {\n    var r = '';\n    if (!latin1 && typeof TextDecoder != 'undefined')\n        return new TextDecoder().decode(dat);\n    for (var i = 0; i < dat.length;) {\n        var c = dat[i++];\n        if (c < 128 || latin1)\n            r += String.fromCharCode(c);\n        else if (c < 224)\n            r += String.fromCharCode((c & 31) << 6 | (dat[i++] & 63));\n        else if (c < 240)\n            r += String.fromCharCode((c & 15) << 12 | (dat[i++] & 63) << 6 | (dat[i++] & 63));\n        else\n            c = ((c & 15) << 18 | (dat[i++] & 63) << 12 | (dat[i++] & 63) << 6 | (dat[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n    }\n    return r;\n}\n\nexport { strFromU8, strToU8, unzlibSync, zlibSync };\n","var MARK = 'v1';\n\nexport { MARK };\n","import { __assign } from '../../node_modules/tslib/tslib.es6.js';\nimport { strFromU8, zlibSync, strToU8 } from '../../node_modules/fflate/esm/browser.js';\nimport { MARK } from './base.js';\n\nvar pack = function (event) {\n    var _e = __assign(__assign({}, event), { v: MARK });\n    return strFromU8(zlibSync(strToU8(JSON.stringify(_e))), true);\n};\n\nexport { pack };\n","import { strFromU8, unzlibSync, strToU8 } from '../../node_modules/fflate/esm/browser.js';\nimport { MARK } from './base.js';\n\nvar unpack = function (raw) {\n    if (typeof raw !== 'string') {\n        return raw;\n    }\n    try {\n        var e = JSON.parse(raw);\n        if (e.timestamp) {\n            return e;\n        }\n    }\n    catch (error) {\n    }\n    try {\n        var e = JSON.parse(strFromU8(unzlibSync(strToU8(raw, true))));\n        if (e.v === MARK) {\n            return e;\n        }\n        throw new Error(\"These events were packed with packer \" + e.v + \" which is incompatible with current packer \" + MARK + \".\");\n    }\n    catch (error) {\n        console.error(error);\n        throw new Error('Unknown data format.');\n    }\n};\n\nexport { unpack };\n","export { EventType, IncrementalSource, MouseInteractions, ReplayerEvents } from '../types.js';\nimport * as utils from '../utils.js';\nexport { utils };\nexport { mirror } from '../utils.js';\nexport { default as record } from '../record/index.js';\nexport { Replayer } from '../replay/index.js';\nexport { addCustomEvent, freezePage } from '../index.js';\nexport { pack } from '../packer/pack.js';\nexport { unpack } from '../packer/unpack.js';\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = require('./lib/axios');","import { record } from \"rrweb\";\nimport axios from \"axios\";\n\nlet eventsBuffer = [];\n\nrecord({\n  emit(event) {\n    eventsBuffer.push(event);\n  },\n});\n\nlet { websiteId, apiUrl } = window.sessionRecorderConfig;\n\nfunction idenfityClient() {\n  return new Promise((resolve, reject) => {\n    const clientId = sessionStorage.getItem(\"clientId\");\n    if (clientId) {\n      resolve(clientId);\n    } else {\n      axios\n        .post(`${apiUrl}/api/clients`)\n        .then(({ data }) => {\n          sessionStorage.setItem(\"clientId\", data.clientId);\n          resolve(data.clientId);\n        })\n        .catch(reject);\n    }\n  });\n}\n\nfunction identifySession() {\n  return new Promise((resolve, reject) => {\n    axios\n      .get(\"https://api.ipify.org?format=json\")\n      .then(({ data }) => {\n        const ip = data.ip;\n        const sessionId = window.sessionId;\n        if (sessionId) {\n          resolve(sessionId);\n        } else {\n          // generate new session if doesnt' exist.\n          axios\n            .post(\n              `${apiUrl}/api/sessions`,\n              {\n                ip,\n                location: window.location,\n                clientId: sessionStorage.getItem(\"clientId\"),\n              },\n              { params: { websiteId } }\n            )\n            .then(({ data }) => {\n              window.sessionId = data._id;\n              resolve(data._id);\n            })\n            .catch(reject);\n        }\n      })\n      .catch(reject);\n  });\n}\n\nfunction save(sessionId, clientId) {\n  axios\n    .post(`${apiUrl}/api/sessions/${sessionId}/recordings`, {\n      events: eventsBuffer,\n      clientId,\n    })\n    .then((result) => {\n      // eventsBuffer = [];\n      console.log(\"Successfully Sent To Server\");\n    })\n    .catch((error) => {\n      console.log(\"Failure Sending.\");\n      console.error(error);\n    });\n}\n\ntry {\n  idenfityClient().then((clientId) => {\n    identifySession().then((sessionId) => {\n      setInterval(() => {\n        save(sessionId, clientId);\n      }, 5 * 1000);\n    });\n  });\n} catch (error) {\n  console.error(error);\n}\n"]}